{"version":3,"sources":["assets/types/science.svg","assets/types/civic.svg","assets/logo.png","assets/broken.svg","assets/mouse.svg","constants/index.js","redux-actions/labels.js","redux-actions/auth.js","redux-reducers/auth.js","redux-actions/annotations.js","redux-reducers/annotations.js","redux-actions/image.js","redux-reducers/image.js","redux-actions/project.js","redux-reducers/project.js","redux-actions/sequence.js","redux-reducers/sequence.js","redux-actions/types.js","redux-reducers/types.js","redux-reducers/labels.js","redux-reducers/index.js","store/configureStore.js","components/NavComponent.jsx","containers/Nav/index.js","components/LoginComponent.jsx","containers/Login/index.js","components/SignupComponent.jsx","containers/Signup/index.js","components/LabelBox.jsx","components/Img.jsx","components/ImageComponent.jsx","components/ZoomComponent.jsx","components/TypeComponent.jsx","components/SequenceComponent.jsx","components/IndexComponent.jsx","components/ClassificationComponent.jsx","containers/Annotate/index.js","components/HomeComponent.jsx","containers/Home/index.js","components/ProjectsCardsComponent.jsx","components/ProjectsLabelsComponent.jsx","components/ProjectsFilterComponent.jsx","components/ProjectsSettingsComponent.jsx","components/ProjectsComponent.jsx","containers/Projects/index.js","routes.js","index.js","assets/ourlabels.png"],"names":["module","exports","__webpack_require__","p","agent","superagent","HOSTNAME","GOT_LABELS","getLabels","callback","dispatch","withCredentials","get","concat","end","err","res","body","console","log","success","gotLabels","addLabels","labels","post","send","payload","type","LOGGED_IN","SIGNED_UP","loggedIn","signedUp","logIn","username","password","set","signUp","email","initialState","session","just_logged_in","currentProject","score","auth","state","arguments","length","undefined","action","Object","assign","parseInt","role","GOT_ANNOTATIONS","postAnnotations","boxes","getAnnotations","offset","query","gotAnnotations","annotations","annotationState","index","idx","getImage","gotImage","updateIndex","toNumber","image","imageState","imageid","sequence","count","fileDownload","require","getProjectAnnotations","id","projectId","responseType","then","catch","changeProject","project_id","changedProject","getProjects","joinProject","getState","leaveProject","getProjectForUpdate","gotProjectForUpdate","requestAccessToProject","project_name","requestedAccess","updateProject","allowed","refused","requested","publicType","owner","description","fullDescription","sequences","req","field","newSequences","filter","seq","deleted","new","deleteSequences","j","begin","attach","newFile","newSequencesFiltered","map","filterObject","deleteSequencesFiltered","originalName","JSON","stringify","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","window","URL","revokeObjectURL","preview","return","object","keepAttributes","returnObject","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","attribute","gotProjects","current_project","projects","project","access_requested","currentProjectState","owned","other","projectForUpdate","isNull","forEach","aProject","push","GOT_SEQUENCES","getSequences","gotSequences","changeSequence","new_sequence","gotNewSequence","current_sequence","sequenceState","GOT_TYPES","getTypes","gotTypes","types","currentTypesState","projectTypes","accumulator","name","video","labelsState","labelsObject","label","r","g","b","a","redux_reducers","history","combineReducers","router","connectRouter","createBrowserHistory","NavComponent","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","width","innerWidth","menuOpen","resize","bind","assertThisInitialized","onMouseOver","onMouseOut","closeMenuAndReleaseLabels","evt","addEventListener","nextProps","setState","releaseLabels","_this2","_this$props","items","links","keys","key","react_default","createElement","Button","className","location","pathname","onClick","new_links","link","children","pop","href","Image","inline","verticalAlign","src","logo","height","alt","ourlabels","BurgerMenu","right","isOpen","Component","NavContainer","logged_in_items_nolabels","home","logged_in_items","annotate","logged_out_items","login","signup","src_components_NavComponent","closeMenu","connect","signed_up","owned_projects","all_projects","bindActionCreators","FormikLoginForm","withFormik","mapPropsToValues","validate","values","errors","handleSubmit","_ref","touched","handleChange","handleBlur","isSubmitting","Form","onSubmit","Grid","textAlign","GridRow","style","Icon","size","Input","placeholder","autoComplete","onChange","onBlur","primary","disabled","LoginComponent","Card","Header","Content","formHandler","LoginContainer","newProps","src_components_LoginComponent","regexpEmail","FormikSignupForm","retype","test","SignupComponent","SignupContainer","src_components_SignupComponent","LabelBox","_getPrototypeOf2","_len","Array","_key","apply","nodes","update","finalizeUpdate","handleRectMove","getPointsInOrder","selected","updateDims","getX","getY","getWidth","getHeight","ref","selfRun","anchor","X","Y","stageW","stageH","setX","setY","position","setWidth","setHeight","rectH","rectW","topY","bottomY","leftX","rightX","ReactKonva","node","x","y","w","h","shadowEnabled","fillEnabled","fill","shadowOpacity","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","stroke","strokeWidth","zoom","draggable","onDragMove","onDragEnd","dragBoundFunc","pos","newY","radius","zIndex","onTouchStart","rect","setDraggable","group","onTouchEnd","onMouseUp","imgCache","brokenImage","document","broken","onload","Img","args","error","loaded","Error","img","loadFns","errorFns","onerror","fn","hasNH","c","val","onLoad","space","parent","child","fillRect","fitRect","loadImg","selfDims","imageDims","dims","getDims","number","ImageComponent","updated","stageRef","gotImageSize","selfSelect","handleDoubleClick","getStage","getPointerPosition","addAnnotation","imageWidth","imageHeight","xP","yP","wP","hP","image_index","scale","selectAnnotation","onDblClick","components_Img","imageRef","annotation","components_LabelBox","ZoomComponent","portrait","as","step","min","max","defaultValue","tag","changeZoom","parseFloat","TypeComponent","changeType","changeDifficult","changeOccluded","changeTruncated","occluded","truncated","difficult","typeOptions","_i","_Object$keys","text","Dropdown","options","fluid","selection","Checkbox","data-for","data-tip","data-iscapture","defaultChecked","checked","dist_default","place","SequenceComponent","sequenceOptions","ea_sequence","IndexComponent","total","indexOptions","ea_index","ClassificationComponent","topContent","bottomContent","initialTime","scrollRef","onScroll","submitChanges","_evt$target","target","scrollHeight","clientHeight","scrollTop","_this3","setTimeout","backgroundColor","src_components_ZoomComponent","src_components_TypeComponent","src_components_SequenceComponent","src_components_IndexComponent","save","copy","secondary","back","AnnotateContainer","imageComponent","reset","resetAnnotations","resetImage","unchanged","oldimageid","counter","loadImage","windowResize","updatePage","keyDown","o","t","d","slice","forceUpdate","newType","i","positionOf","newAnnotations","box","type_key","isNaN","innerHeight","newSequence","keydownevent","splice","showLoading","getPreviousAnnotations","Modal","open","center","react_loading_default","color","src_components_ImageComponent","annotation_index","src_components_ClassificationComponent","image_idx","cards","mouse","content","header","meta","HomeComponent","activeIndex","modalContent","showModal","maximize","_cards","card","closeIcon","defaultOpen","onClose","scrolling","wrapped","Description","Meta","substr","extra","getLocalDate","date","realDate","Date","setUTCSeconds","toLocaleDateString","weekday","year","month","day","Home","src_components_HomeComponent","dateConversion","projectTypeImages","1","science","2","3","4","civic","5","ProjectsCardsComponent","modal","current","Container","fitted","showLabels","joined","itemsToDisplay","item","includes","full_description","title","Segment","Group","projectType","featured","imageHeader","vertical","titleHeader","showMoreInfo","actions","getActions","React","labelArrayFromObject","labelObj","modified","inverseColor","ProjectsLabelsComponent","pickerForIndex","showPickerFor","hidePicker","change","changeColor","deleteLabel","addLabel","submit","preventDefault","sortedLabels","sort","_color$rgb","rgb","_this$state","_this$state2","lib","onChangeComplete","icon","e","v","ProjectsSettingsComponent","_this$props$project","sequencenames","maxSize","originalVideo","originalHSplit","hSplit","originalVSplit","vSplit","numFiles","files","newName","newHSplit","newVSplit","newVideo","newBeginS","newLengthS","newEveryNFrames","dropZoneActive","scrollDown","scrollUp","moveItem","addItem","removeItem","onDragNewEnter","onDragNewLeave","onDropNew","getImageForType","onChangeNewSequence","onChangeSequence","onChangeProjectType","changeProjectInfo","addNewSequence","resetNewSequence","addScrollListener","handleScroll","sequencesNames","resetSequence","alert","result","source","destination","droppableId","idxS","idxD","idxR","_this$state$project","projectOptions","avatar","float","TextArea","react_beautiful_dnd_esm","provided","snapshot","isDraggingOver","innerRef","requestedItem","draggableId","s","draggableProps","dragHandleProps","allowedItem","refusedItem","dist_es","accept","multiple","Math","pow","onDragEnter","onDragLeave","data-html","onDrop","getRootProps","getInputProps","path","toPrecision","display","deleteSequence","html","override","css","_templateObject","ProjectsComponent","project_for_update","cardsToDisplay","showProjects","showColorPicker","showSettings","hideLabels","filterValue","newLabels","react_spinners","sizeUnit","loading","src_components_ProjectsCardsComponent","src_components_ProjectsSettingsComponent","components_ProjectsLabelsComponent","ProjectsContainer","components_ProjectsComponent","defineProperty","_state$project$projec","Routes","react_router","component","exact","store","preloadedState","middleware","thunk","logger","createLogger","level","collapsed","routerMiddleware","createStore","createRouteReducer","compose","applyMiddleware","configureStore","render","es","esm","routes","getElementById"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4fCMjC,IAAMC,SAAQC,EAAWD,QACnBE,EANF,wBCAEC,EAAa,aAEbC,EAAY,SAAAC,GAAQ,OAAI,SAAAC,GACnC,OAAON,EACJO,kBACAC,IAFI,GAAAC,OAEGP,EAFH,mBAGJQ,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,KACbC,QAAQC,IAAI,QAASJ,GAEZC,EAAIC,KAAKG,UAClBF,QAAQC,IAAI,oBAAqBH,EAAIC,MACrCP,EAASW,EAAUL,EAAIC,YAIlBK,EAAY,SAACC,EAAQd,GAAT,OAAsB,SAAAC,GAC7C,OAAON,EACJO,kBACAa,KAAKlB,EAAW,kBAChBmB,KAAK,CAAEF,WACPT,IAAI,SAACC,EAAKC,GACTN,EAASF,SAGTa,EAAY,SAAAK,GAChB,MAAO,CAAEC,KAAMpB,EAAYgB,OAAQG,ICxBxBE,EAAY,YACZC,EAAY,YAEnBC,EAAW,SAAAJ,GAAO,MAAK,CAAEC,KAAMC,EAAWF,YAEnCK,EAAW,SAAAL,GAAO,MAAK,CAAEC,KAAME,EAAWH,YAG1CM,EAAQ,SAACC,EAAUC,GAAX,OAAwB,SAAAxB,GAAQ,OACnDN,EACGoB,KADH,GAAAX,OACWP,EADX,mBAEGK,kBACAwB,IAAI,eAAgB,qCACpBV,KAAK,CAAEQ,WAAUC,aACjBpB,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,KACbP,EAASoB,EAAS,OACTd,EAAIC,KAAKG,UAElBV,EAASoB,EAASd,EAAIC,OACtBP,EAASF,UAIJ4B,EAAS,SAACH,EAAUC,EAAUG,GAArB,OAA+B,SAAA3B,GAAQ,OAC3DN,EACGoB,KADH,GAAAX,OACWP,EADX,oBAEG6B,IAAI,eAAgB,oBACpBV,KAAK,CAAEQ,WAAUC,WAAUG,UAC3BvB,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,KACbP,EAASqB,GAAS,IACTf,EAAIC,KAAKG,SAElBV,EAASqB,GAAS,QCnCpBO,EAAe,CACnBR,UAAU,EACVC,UAAU,EACVQ,QAAS,KACTN,SAAU,KACVI,MAAO,KACPG,gBAAgB,EAChBC,eAAgB,KAChBC,MAAO,GAGM,SAASC,IAAmC,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBP,EAAcU,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACzD,GAAIC,EAAOtB,QACT,OAAQsB,EAAOrB,MACf,KAAKC,EACH,OAAOqB,OAAOC,OAAO,GAAIN,EAAO,CAC9BL,QAASS,EAAOtB,QAAQa,QACxBN,SAAUe,EAAOtB,QAAQO,SACzBI,MAAOW,EAAOtB,QAAQW,MACtBK,MAAOS,SAASH,EAAOtB,QAAQgB,MAAO,IACtCF,gBAAgB,EAChBC,eAAgBO,EAAOtB,QAAQe,eAC/BW,KAAMJ,EAAOtB,QAAQ0B,KACrBtB,UAAU,EACVC,UAAU,IAEd,KAAKF,EACH,OAAImB,EAAOtB,QACFuB,OAAOC,OAAO,GAAIN,EAAO,CAC9Bd,UAAU,EACVC,UAAU,EACVQ,QAAS,OAGNK,EACT,QACE,OAAOA,EAGX,OAAOA,ECvCF,IAAMS,EAAkB,kBAElBC,EAAkB,SAACC,EAAO9C,GAAR,OAAqB,SAAAC,GAClD,OAAON,EACJO,kBACAa,KAAKlB,EAAW,sBAChBmB,KAAK,CAAE8B,MAAOA,IACdzC,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,MAEJD,EAAIC,KAAKG,SAEM,oBAAbX,GACTA,QAOG+C,EAAiB,SAACC,EAAQhD,GAAT,OAAsB,SAAAC,GAClD,OAAON,EACJO,kBACAC,IAAIN,EAAW,uBACfoD,MAAM,CAAED,WACR3C,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,KACbP,EAASiD,EAAe,OAGtB3C,EAAIC,KAAKG,SAEXV,EAASiD,EAAe3C,EAAIC,KAAMR,QAWnC,SAASkD,EAAeC,EAAanD,GAC1C,MAAO,CAAEkB,KAAM0B,EAAiBO,cAAanD,YC5C/C,IAAMoD,EAAkB,CACtBD,YAAa,IAGA,SAASA,IAA6C,IAAjChB,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBgB,EAAiBb,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnE,GAAIC,EAAOY,YACT,OAAQZ,EAAOrB,MACf,KAAK0B,EAIH,MAH+B,oBAApBL,EAAOvC,UAChBuC,EAAOvC,WAEFwC,OAAOC,OAAO,GAAIN,EAAO,CAC9BgB,YAAaZ,EAAOY,YAAYL,MAChCO,MAAOd,EAAOY,YAAYG,IAC1BtD,SAAUuC,EAAOvC,WAErB,QACE,OAAOmC,EAGX,OAAOA,ECnBF,IAGMoB,EAAW,SAAAvD,GAAQ,OAAI,SAAAC,GAClC,OAAON,EACJO,kBACAC,IAAIN,EAAW,iBACfQ,IAAI,SAACC,EAAKC,GACT,IAAID,GAAmB,MAAZC,EAAIC,KAGR,OAAID,EAAIC,KAAKG,SAElBV,EAASuD,EAASjD,EAAIC,YACtBP,EAAS8C,EAAe,EAAG/C,UAHtB,EAFLC,EAASuD,EAAS,KAAMxD,QAWnByD,EAAc,SAACT,EAAQU,EAAU1D,GAAnB,OAAgC,SAAAC,GACzD,OAAON,EACJO,kBACAa,KAAKlB,EAAW,oBAChBmB,KAAK,CAAEgC,SAAQU,aACfrD,IAAI,SAACC,EAAKC,GACTN,EAASsD,EAASvD,QAwBlBwD,EAAW,SAACvC,EAASjB,GACzB,MAAO,CAAEkB,KAnDkB,gBAmDGyC,MAAO1C,EAASjB,aCrD1C4D,EAAa,CACjBD,MAAO,KACPE,QAAS,MAMEF,EAAQ,WAAgC,IAA/BxB,EAA+BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvBwB,EAAYrB,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnD,GAAIC,EAAOoB,MACT,OAAQpB,EAAOrB,MACb,IDTuB,gBCarB,MAH+B,oBAApBqB,EAAOvC,UAChBuC,EAAOvC,WAEFwC,OAAOC,OAAO,GAAIN,EAAO,CAC9BwB,MAAOpB,EAAOoB,MAAMA,MACpBE,QAAStB,EAAOoB,MAAME,QACtBR,MAAOd,EAAOoB,MAAMN,MACpBS,SAAUvB,EAAOoB,MAAMG,SACvBC,MAAOxB,EAAOoB,MAAMI,QAExB,QACE,OAAO5B,MAGoB,oBAApBI,EAAOvC,UAChBuC,EAAOvC,WAGX,OAAOmC,YC7BH6B,EAAeC,EAAQ,KAmBhBC,EAAwB,SAACC,GAAD,IAAKjD,EAALkB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAY,OAAZ,OAAuB,SAAAnC,GAAQ,OAClEN,EACGO,kBACAC,IAFH,GAAAC,OAEUP,EAFV,2BAAAO,OAE4Cc,IACzC+B,MAAM,CAAEmB,UAAWD,IACnBE,aAAa,QACbC,KAAK,SAAA/D,GACJyD,EAAazD,EAAIC,KAAM,yBAExB+D,MAAM,SAAAjE,QACEkE,EAAgB,SAAAC,GAAU,OAAI,SAAAxE,GAAQ,OACjDN,EACGO,kBACAa,KAFH,GAAAX,OAEWP,EAFX,uBAGGmB,KAAK,CAAEyD,eACPpE,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,KACbP,EAASyE,EAAe,OACfnE,EAAIC,KAAKG,UAElBV,EAAS0E,KACT1E,EAASF,UAGJ6E,EAAc,SAAAH,GAAU,OAAI,SAACxE,EAAU4E,GAAX,OACvClF,EACGO,kBACAa,KAFH,GAAAX,OAEWP,EAFX,qBAGGmB,KAAK,CAAEyD,eACPpE,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,QACvCV,EAASyE,EAAe,OAExBzE,EAAS0E,SAIJG,EAAe,SAAAL,GAAU,OAAI,SAACxE,EAAU4E,GAAX,OACxClF,EACGO,kBACAa,KAFH,GAAAX,OAEWP,EAFX,sBAGGmB,KAAK,CAAEyD,eACPpE,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,QACvCV,EAASyE,EAAe,OAExBzE,EAAS0E,SAIJI,EAAsB,kBAAM,SAAC9E,EAAU4E,GAClD,OAAOlF,EACJO,kBACAC,IAFI,GAAAC,OAEGP,EAFH,4BAGJQ,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,QACvCV,EAAS+E,EAAoB,QAE7B/E,EAASF,KACTE,EAAS+E,EAAoBzE,EAAIC,YAI5ByE,EAAyB,SAAAC,GAAY,OAAI,SAACjF,EAAU4E,GAG/D,GAAIA,IAAW3C,KAAKb,SAClB,OAAO1B,EACJO,kBACAa,KAFI,GAAAX,OAEIP,EAFJ,wBAGJmB,KAAK,CAAEkE,iBACP7E,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,QACvCV,EAASkF,EAAgB,OAEzBlF,EAASkF,EAAgB5E,EAAIC,WAM1B4E,EAAgB,SAC3BC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzE,EACA0E,GAT2B,OAUxB,SAAC3F,EAAU4E,GACd,GAAIA,IAAW3C,KAAKb,SAAU,CAgB5B,IAfA,IAAMwE,EAAMlG,EACTO,kBACAa,KAFS,GAAAX,OAEDP,EAFC,uBAGTiG,MAAM,YAAaT,GACnBS,MAAM,YAAaR,GACnBQ,MAAM,cAAeP,GACrBO,MAAM,aAAcN,GACpBM,MAAM,QAASL,GACfK,MAAM,cAAeJ,GACrBI,MAAM,kBAAmBH,GACzBG,MAAM,OAAQ5E,GACX6E,EAAeH,EAAUI,OAAO,SAAAC,GAAG,OAAKA,EAAIC,SAAWD,EAAIE,MAC3DC,EAAkBR,EAAUI,OAAO,SAAAC,GAAG,OAAKA,EAAIE,KAAOF,EAAIC,UAGvDG,EAAI,EAAGA,EAAIN,EAAa1D,OAAQgE,GAAK,EAAG,CAE/CN,EAAaM,GAAGC,MAHV,EAINP,EAAaM,GAAGhG,IAJV,EAKNwF,EAAIU,OAAO,QAASR,EAAaM,GAAGG,SAGtC,IAAMC,EAAuBV,EAAaW,IAAI,SAAAT,GAC5C,OAAOU,EAAaV,EAAK,CACvB,UACA,WACA,YACA,YACA,YACA,aACA,kBACA,QACA,UAGEW,EAA0BR,EAAgBM,IAAI,SAAAT,GAClD,OAAOA,EAAIY,eAEbhB,EAAIC,MAAM,MAAOgB,KAAKC,UAAUN,IAChCZ,EAAIC,MAAM,SAAUgB,KAAKC,UAAUH,IACnCf,EAAIxF,IAAI,SAACC,EAAKC,GAAQ,IAAAyG,GAAA,EAAAC,GAAA,EAAAC,OAAA5E,EAAA,IACpB,QAAA6E,EAAAC,EAAkBxB,EAAlByB,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA6B,KAAlBf,EAAkBkB,EAAAM,MACR,MAAfxB,EAAIO,SACNkB,OAAOC,IAAIC,gBAAgB3B,EAAIO,QAAQqB,UAHvB,MAAAvH,GAAA2G,GAAA,EAAAC,EAAA5G,EAAA,YAAA0G,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAMpBjH,EAAS0E,UAKTgC,EAAe,SAACoB,EAAQC,GAC5B,IAAMC,EAAe,GACrB,GAA8B,IAA1BD,EAAe3F,OACjB,OAAO0F,EAHsC,IAAAG,GAAA,EAAAC,GAAA,EAAAC,OAAA9F,EAAA,IAK/C,QAAA+F,EAAAC,EAAwBN,EAAxBX,OAAAC,cAAAY,GAAAG,EAAAC,EAAAf,QAAAC,MAAAU,GAAA,EAAwC,KAA7BK,EAA6BF,EAAAZ,MACtCQ,EAAaM,GAAaR,EAAOQ,IANY,MAAAjI,GAAA6H,GAAA,EAAAC,EAAA9H,EAAA,YAAA4H,GAAA,MAAAI,EAAAR,QAAAQ,EAAAR,SAAA,WAAAK,EAAA,MAAAC,GAQ/C,OAAOH,GAGItD,EAAc,kBAAM,SAAC1E,EAAU4E,GAC1C,OAAIA,IAAW3C,KAAKb,SACX1B,EACJO,kBACAC,IAFI,GAAAC,OAEGP,EAFH,qBAGJQ,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,QACvCV,EAASuI,EAAY,OAGrBvI,EAASuI,EAAYjI,EAAIC,SAI1Bb,EAAMQ,IAAN,GAAAC,OAAaP,EAAb,2BAA+CQ,IAAI,SAACC,EAAKC,GAC1DD,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,QACvCV,EAASuI,EAAY,OAGrBvI,EAASuI,EAAYjI,EAAIC,WAOzBkE,EAAiB,SAAAzD,GAAO,MAAK,CACjCC,KAvM6B,kBAwM7BuH,gBAAiBxH,IAGbuH,EAAc,SAAAvH,GAAO,MAAK,CAAEC,KA1MN,eA0M0BwH,SAAUzH,IAEnD+D,EAAsB,SAAA/D,GAAO,MAAK,CAC7CC,KA5MoC,yBA6MpCyH,QAAS1H,IAGLkE,EAAkB,SAAAlE,GAAO,MAAK,CAClCC,KAhN8B,mBAiN9B0H,iBAAkB3H,IChNd4H,EAAsB,CAC1BH,SAAU,CACRI,MAAO,GACPvD,UAAW,GACXF,QAAS,GACTC,QAAS,GACTyD,MAAO,IAET/G,eAAgB,KAChBgH,iBAAkB,MA0DLL,GAvDC,WAAyC,IAAxCxG,EAAwCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhCyG,EAAqBtG,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvD,GDhB0B,iBCgBtBC,EAAOrB,KAAuB,CAChC,GAAI+H,iBAAO1G,EAAOmG,UAChB,OAAOvG,EAFuB,IAU5BH,EANI0G,EAAanG,EAAOmG,SAApBA,SACFI,EAAQ,GACRvD,EAAY,GACZF,EAAU,GACVC,EAAU,GACVyD,EAAQ,GAkBd,OAhBAL,EAASQ,QAAQ,SAAAC,GACXA,EAASV,kBACXzG,EAAiBmH,EAAShF,IAExBgF,EAAS1D,MACXqD,EAAMM,KAAKD,GACFA,EAAS5D,UAClBA,EAAU6D,KAAKD,GACNA,EAAS9D,QAClBA,EAAQ+D,KAAKD,GACJA,EAAS7D,QAClBA,EAAQ8D,KAAKD,GAEbJ,EAAMK,KAAKD,KAGR3G,OAAOC,OAAO,GAAIN,EAAO,CAC9BH,iBACA0G,SAAU,CACRI,QACAzD,UACAE,YACAD,UACAyD,WAGC,MDlDe,aCkDXxG,EAAOrB,KACTiB,EDvDoB,oBCwDlBI,EAAOrB,KACc,MAA1BqB,EAAOkG,gBACFtG,EAEFK,OAAOC,OAAO,GAAIN,EAAO,CAC9BsG,gBAAiBlG,EAAOkG,gBAAgBA,kBD3DR,2BC6DzBlG,EAAOrB,KACTsB,OAAOC,OAAO,GAAIN,EAAO,CAC9B6G,iBAAkBzG,EAAOoG,UAGtBxG,GCpEIkH,GAAgB,gBAIhBC,GAAe,kBAAM,SAAArJ,GAChC,OAAON,EACJO,kBACAC,IAFI,GAAAC,OAEGP,EAFH,sBAGJQ,IAAI,SAACC,EAAKC,GACLD,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,QACvCV,EAASsJ,GAAa,OAGtBtJ,EAASsJ,GAAahJ,EAAIC,WAKrBgJ,GAAiB,SAAAC,GAAY,OAAI,SAAAxJ,GAC5C,OAAON,EACJO,kBACAa,KAFI,GAAAX,OAEIP,EAFJ,wBAGJmB,KAAK,CAAE8C,SAAU2F,IACjBpJ,IAAI,SAACC,EAAKC,GACT,OAAID,GAAmB,MAAZC,EAAIC,OAAiBD,EAAIC,KAAKG,aACvC+I,GAAe,OAIfzJ,EAASsD,UACTtD,EAAS8C,EAAe,SAM1BwG,GAAe,SAAAtI,GACnB,MAAO,CAAEC,KAAMmI,GAAezD,UAAW3E,IAGrCyI,GAAiB,SAAAzI,GACrB,MAAO,CAAEC,KAxCiB,eAwCGyI,iBAAkB1I,IC3C3C2I,GAAgB,CACpBhE,UAAW,KACX+D,iBAAkB,MAGL,SAAS7F,KAAwC,IAA/B3B,EAA+BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvBwH,GAAerH,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9D,OAAQC,EAAOrB,MACf,KAAKmI,GACH,OAAO7G,OAAOC,OAAO,GAAIN,EAAO,CAC9ByD,UAAWrD,EAAOqD,UAAUA,YAEhC,QACE,OAAOzD,GCbJ,IAAM0H,GAAY,YAEZC,GAAW,kBAAM,SAAA7J,GAC5B,OAAON,EAAMQ,IAAN,GAAAC,OAAaP,EAAb,kBAAsCQ,IAAI,SAACC,EAAKC,GACjDD,EACFL,EAAS8J,GAAS,OACTxJ,EAAIC,KAAKG,QAClBV,EAAS8J,GAASxJ,EAAIC,OAEtBP,EAAS8J,GAAS,WAKlBA,GAAW,SAAA9I,GACf,MAAO,CAAEC,KAAM2I,GAAWG,MAAO/I,ICb7BgJ,GAAoB,CACxBC,aAAc,IAGD,SAASF,KAAyC,IAAnC7H,EAAmCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B6H,GAAmB1H,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC/D,GAAI2G,iBAAO1G,EAAOyH,OAChB,OAAO7H,EAET,OAAQI,EAAOrB,MACf,KAAK2I,GAAW,IACNK,EAAiB3H,EAAOyH,MAAxBE,aACRzJ,QAAQC,IAAI,iBAAkB6B,GAC9B,IAAM4H,EAAc,GAIpB,OAHAD,EAAahB,QAAQ,SAAAhI,GACnBiJ,EAAYjJ,EAAKiD,IAAM,CAAEiG,KAAMlJ,EAAKA,KAAMmJ,MAAOnJ,EAAKmJ,SAEjD7H,OAAOC,OAAO,GAAIN,EAAO,CAC9B+H,aAAcC,IAGlB,QACE,OAAOhI,GCtBX,IAAMmI,GAAc,CAClBxJ,OAAQ,IAGK,SAASA,KAAoC,IAA7BqB,EAA6BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArBkI,GAAa/H,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1D,GAAIC,EAAOzB,OACT,OAAQyB,EAAOrB,MACf,KAAKpB,EACH,IAAMyK,EAAe,GAerB,OAdoBhI,EAAOzB,OAAOA,OAAOA,OAC7BoI,QAAQ,SAAAsB,GAClBD,EAAaC,EAAMtJ,MAAQ,CACzBA,KAAMsJ,EAAMtJ,KACZwE,YAAa8E,EAAM9E,YACnB+E,EAAGD,EAAMC,EACTC,EAAGF,EAAME,EACTC,EAAGH,EAAMG,EACTC,EAAGJ,EAAMI,KAGIpI,OAAOC,OAAO,GAAIN,EAAO,CACxCrB,OAAQyJ,IAIZ,QACE,OAAOpI,EAGX,OAAOA,ECrBM,IAAA0I,GAAA,SAAAC,GAAO,OACpBC,YAAgB,CACdC,OAAQC,YAAcH,GACtB3H,cACAjB,OACAyB,QACAgF,WACA7E,YACAkG,SACAlJ,uBCZSgK,GAAUI,iKCmGRC,uBAlGb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAJ,IACjBE,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAA2I,GAAAO,KAAAH,KAAMH,KACDjJ,MAAQ,CACXwJ,MAAOjE,OAAOkE,WACdC,UAAU,GAEZR,EAAKS,OAAST,EAAKS,OAAOC,KAAZvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACdA,EAAKY,YAAcZ,EAAKY,YAAYF,KAAjBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACnBA,EAAKa,WAAab,EAAKa,WAAWH,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAKc,0BAA4Bd,EAAKc,0BAA0BJ,KAA/BvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAThBA,4EAWRe,wCACCA,EAAK3E,iDAEf8D,KAAKO,qDAGLpE,OAAO2E,iBAAiB,SAAUd,KAAKO,0DAEfQ,qCAExBf,KAAKgB,SAAS,CAAEZ,MAAOjE,OAAOkE,iEAG9BL,KAAKH,MAAMoB,gBACXjB,KAAKgB,SAAS,CAAEV,UAAU,qCAEnB,IAAAY,EAAAlB,KAAAmB,EACmBnB,KAAKH,MAAvBuB,EADDD,EACCC,MAAO3B,EADR0B,EACQ1B,OACfvK,QAAQC,IAAIsK,GACZ,IAAI4B,EAAQpK,OAAOqK,KAAKF,GAAOjG,IAAI,SAAAoG,GACjC,OACEC,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEH,IAAKA,EACLI,UAAWlC,EAAOmC,SAASC,WAAaT,EAAMG,GAAO,cAAgB,gBACrEO,QAAS,WACPZ,EAAKrB,MAAMhC,KAAKuD,EAAMG,MAGvBA,KAIP,GAAIvB,KAAKpJ,MAAMwJ,MAAQ,IAAK,CAC1B,IAAI2B,EAAY,GADUtG,GAAA,EAAAC,GAAA,EAAAC,OAAA5E,EAAA,IAE1B,QAAA6E,EAAAC,EAAiBwF,EAAjBvF,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAwB,KAAfuG,EAAepG,EAAAM,MACtB6F,EAAUlE,KAAKmE,GACfD,EAAUlE,KACR2D,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,aAAaJ,IAAKS,EAAKnC,MAAMoC,SAAW,QACpD,OANmB,MAAAlN,GAAA2G,GAAA,EAAAC,EAAA5G,EAAA,YAAA0G,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAW1B,OADAoG,EAAUG,MAERV,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,YACbH,EAAAnC,EAAAoC,cAAA,KAAGU,KAAK,yBACNX,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,mBACbH,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CACEC,QAAM,EACNC,cAAc,SACdC,IAAKC,KACLC,OAAO,OACPC,IAAI,qBACJf,UAAU,mBAEZH,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CACEC,QAAM,EACNC,cAAc,SACdC,IAAKI,KACLF,OAAO,OACPC,IAAI,4BACJf,UAAU,oBAIfI,GAIL,OACEP,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,kBACbH,EAAAnC,EAAAoC,cAAA,KAAGU,KAAK,wBAAwBR,UAAU,gBACxCH,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CACEG,IAAKC,KACLb,UAAU,iBACV/I,GAAG,WACH8J,IAAI,wBAGRlB,EAAAnC,EAAAoC,cAACmB,GAAA,QAAD,CAAMC,OAAK,EAACC,OAAQ9C,KAAKpJ,MAAM0J,UAC5Be,WA5Fc0B,cCArBC,eACJ,SAAAA,EAAYnD,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAgD,IACjBlD,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAA+L,GAAA7C,KAAAH,KAAMH,KACDjJ,MAAQ,GACbkJ,EAAKmB,cAAgBnB,EAAKmB,cAAcT,KAAnBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACrBA,EAAKmD,yBAA2B,CAAEC,KAAM,IAAK/F,SAAU,aACvD2C,EAAKqD,gBAAkB,CACrBD,KAAM,IACNE,SAAU,YACVjG,SAAU,aAEZ2C,EAAKuD,iBAAmB,CACtBH,KAAM,IACNI,MAAO,SACPC,OAAQ,UACRpG,SAAU,aAdK2C,+EAiBLe,GACZb,KAAKH,MAAMnL,SdaN,CACLiB,KAAM0B,EACNO,YAAa,CAAEA,YAAa,uCcbrB,IAAAuJ,EAC4DnB,KAAKH,MAAhE/J,EADDqL,EACCrL,SAAUO,EADX8K,EACW9K,MAAOK,EADlByK,EACkBzK,MAAOT,EADzBkL,EACyBlL,SAAUV,EADnC4L,EACmC5L,OAAQkK,EAD3C0B,EAC2C1B,OAAQ5B,EADnDsD,EACmDtD,KAE1D,OACE2D,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,OACbH,EAAAnC,EAAAoC,cAAC+B,GAAD,CACEjC,IAAG,eAAA1M,OAAiBiB,GACpBO,MAAOA,EACPK,MAAOA,EACPT,SAAUA,EACVwJ,OAAQA,EACR5B,KAAMA,EACNuD,MACEtL,EACImB,OAAOqK,KAAK/L,GAAQuB,OAAS,EAC3BkJ,KAAKmD,gBACLnD,KAAKiD,yBACPjD,KAAKqD,iBAEXI,UAAWzD,KAAKH,MAAM4D,UACtBxC,cAAejB,KAAKiB,gBAEtBO,EAAAnC,EAAAoC,cAAA,mBA3CmBsB,aAuEZC,GAJfA,GAAeU,YAnBS,SAAA9M,GAAS,IACvBD,EAAyBC,EAAzBD,KAAMpB,EAAmBqB,EAAnBrB,OAAQkK,EAAW7I,EAAX6I,OACtB,MAAO,CACLlK,OAAQA,EAAOA,OACfO,SAAUa,EAAKb,SACf6N,UAAWhN,EAAKgN,UAChBpN,QAASI,EAAKJ,QACdF,MAAOM,EAAKN,MACZK,MAAOC,EAAKD,MACZwG,gBAAiBvG,EAAKuG,gBACtB0G,eAAgBjN,EAAKiN,eACrBC,aAAclN,EAAKkN,aACnB5N,SAAUU,EAAKV,SACfwJ,WAGuB,SAAA/K,GACzB,OAAOoP,YAAmB,CAAEjG,WAAQnJ,IAEvBgP,CAGbV,yECgCIe,WAAkBC,aAAW,CAEjCC,iBAAkB,SAAApE,GAAK,MAAK,CAAE5J,SAAU,GAAIC,SAAU,KAEtDgO,SAAU,SAACC,EAAQtE,GACjB,IAAMuE,EAAS,GASf,OARKD,EAAOlO,WACVmO,EAAOnO,SAAW,YAEfkO,EAAOjO,UAEDiO,EAAOjO,SAASY,OAAS,GAAKqN,EAAOjO,SAASY,OAAS,MAChEsN,EAAOlO,SAAW,2CAFlBkO,EAAOlO,SAAW,WAIbkO,GAETC,aAAc,SAACF,EAAQtE,GACrBA,EAAMA,MAAMwE,aAAaF,EAAOlO,SAAUkO,EAAOjO,YAjB7B8N,CA9FN,SAAAM,GAAA,IAChBH,EADgBG,EAChBH,OACAC,EAFgBE,EAEhBF,OACAG,EAHgBD,EAGhBC,QACAC,EAJgBF,EAIhBE,aACAC,EALgBH,EAKhBG,WACAJ,EANgBC,EAMhBD,aACAK,EAPgBJ,EAOhBI,aAPgB,OAShBlD,EAAAnC,EAAAoC,cAACkD,GAAA,EAAD,CAAMC,SAAUP,GACd7C,EAAAnC,EAAAoC,cAACoD,GAAA,EAAD,CAAMC,UAAU,UACdtD,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACvBoB,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,sBAAsBqG,KAAK,UAExC1D,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACtBjE,OAAOkE,WAAa,KACnBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACExD,UAAU,cACVhM,KAAK,OACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOlO,WAGjBkG,OAAOkE,YAAc,KACpBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACElG,MAAM,WACN0C,UAAU,cACVhM,KAAK,OACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOlO,YAInBsO,EAAQtO,UACPmO,EAAOnO,UACPuL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,KACEvD,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAeyC,EAAOnO,WAGzCuL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACtBjE,OAAOkE,WAAa,KACnBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACExD,UAAU,cACVhM,KAAK,WACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOjO,WAGjBiG,OAAOkE,YAAc,KACpBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACElG,MAAM,WACN0C,UAAU,cACVhM,KAAK,WACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOjO,YAInBqO,EAAQrO,UACPkO,EAAOlO,UACPsL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,KACEvD,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAeyC,EAAOlO,WAGzCsL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACvBoB,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEC,UAAU,eACVhM,KAAK,SACL6P,SAAO,EACPC,SAAUf,GAJZ,eAmDOgB,yLAfX,OACElE,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,gBACbH,EAAAnC,EAAAoC,cAACkE,GAAA,EAAD,CAAMhE,UAAU,cACdH,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKC,OAAN,CAAajE,UAAU,gBACrBH,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CAAOG,IAAKI,KAAWvC,MAAM,QAC7BoB,EAAAnC,EAAAoC,cAAA,MAAIE,UAAU,gBAAd,WAEFH,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKE,QAAN,CAAclE,UAAU,iBACtBH,EAAAnC,EAAAoC,cAACsC,GAAD,CAAiBM,aAAcrE,KAAKH,MAAMiG,wBAVzB/C,aC3HvBgD,eACJ,SAAAA,EAAYlG,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAA+F,IACjBjG,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAA8O,GAAA5F,KAAAH,KAAMH,KACDjJ,MAAQ,CACXX,SAAU,GACVC,SAAU,IAJK4J,yIAQOkG,GACpBA,EAASlQ,UACXkQ,EAASzG,QAAQ1B,KAAK,sCAIxB,OAAO2D,EAAAnC,EAAAoC,cAACwE,GAAD,CAAgBH,YAAa9F,KAAKH,MAAM7J,eAftB+M,aA2CdgD,GAJfA,GAAiBrC,YArBO,SAAA9M,GACtB,MAAO,CACLd,SAAUc,EAAMD,KAAKb,SACrBC,SAAUa,EAAMD,KAAKZ,SACrBQ,QAASK,EAAMD,KAAKJ,QACpBF,MAAOO,EAAMD,KAAKN,MAClBK,MAAOE,EAAMD,KAAKD,MAClBwG,gBAAiBtG,EAAMD,KAAKuG,gBAC5B0G,eAAgBhN,EAAMD,KAAKiN,eAC3BC,aAAcjN,EAAMD,KAAKkN,aACzB5N,SAAUW,EAAMD,KAAKV,WAGE,SAAAvB,GACzB,OAAOoP,YACL,CACE9N,SAEFtB,IAGagP,CAGfqC,IC8HIG,WAAc,oFACdC,GAAmBnC,aAAW,CAElCC,iBAAkB,SAAApE,GAAK,MAAK,CAC1B5J,SAAU,GACVC,SAAU,GACVkQ,OAAQ,GACR/P,MAAO,KAGT6N,SAAU,SAACC,EAAQtE,GACjB,IAAMuE,EAAS,GAmBf,OAlBKD,EAAOlO,WACVmO,EAAOnO,SAAW,YAEfkO,EAAOjO,UAEDiO,EAAOjO,SAASY,OAAS,IAAMqN,EAAOjO,SAASY,OAAS,MACjEsN,EAAOlO,SAAW,iDAFlBkO,EAAOlO,SAAW,WAIfiO,EAAOiC,OAEDjC,EAAOiC,SAAWjC,EAAOjO,WAClCkO,EAAOgC,OAAS,8CAFhBhC,EAAOgC,OAAS,WAIbjC,EAAO9N,MAEA6P,GAAYG,KAAKlC,EAAO9N,SAClC+N,EAAO/N,MAAQ,6CAFf+N,EAAO/N,MAAQ,WAIV+N,GAETC,aAAc,SAACF,EAAQtE,GACrBA,EAAMA,MAAMwE,aAAaF,EAAOlO,SAAUkO,EAAOjO,SAAUiO,EAAO9N,SAhC7C2N,CAhKN,SAAAM,GAAA,IACjBH,EADiBG,EACjBH,OACAC,EAFiBE,EAEjBF,OACAG,EAHiBD,EAGjBC,QACAC,EAJiBF,EAIjBE,aACAC,EALiBH,EAKjBG,WACAJ,EANiBC,EAMjBD,aACAK,EAPiBJ,EAOjBI,aAPiB,OASjBlD,EAAAnC,EAAAoC,cAACkD,GAAA,EAAD,CAAMC,SAAUP,GACd7C,EAAAnC,EAAAoC,cAACoD,GAAA,EAAD,CAAMC,UAAU,UACdtD,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACvBoB,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,sBAAsBqG,KAAK,UAExC1D,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACtBjE,OAAOkE,WAAa,KACnBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACExD,UAAU,eACVhM,KAAK,OACLkJ,KAAK,QACLuG,YAAY,QACZC,aAAa,QACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAO9N,QAGjB8F,OAAOkE,YAAc,KACpBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACElG,MAAM,QACN0C,UAAU,eACVhM,KAAK,OACLkJ,KAAK,QACLuG,YAAY,QACZC,aAAa,QACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAO9N,SAInBkO,EAAQlO,OACP+N,EAAO/N,OACPmL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,KACEvD,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAeyC,EAAO/N,QAGzCmL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACtBjE,OAAOkE,WAAa,KACnBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACExD,UAAU,eACVhM,KAAK,OACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOlO,WAGjBkG,OAAOkE,YAAc,KACpBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACElG,MAAM,WACN0C,UAAU,eACVhM,KAAK,OACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOlO,YAInBsO,EAAQtO,UACPmO,EAAOnO,UACPuL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,KACEvD,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAeyC,EAAOnO,WAGzCuL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACtBjE,OAAOkE,WAAa,KACnBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACExD,UAAU,eACVhM,KAAK,WACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOjO,WAGjBiG,OAAOkE,YAAc,KACpBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACElG,MAAM,WACN0C,UAAU,eACVhM,KAAK,WACLkJ,KAAK,WACLuG,YAAY,WACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOjO,YAInBqO,EAAQrO,UACPkO,EAAOlO,UACPsL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,KACEvD,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAeyC,EAAOlO,WAGzCsL,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACtBjE,OAAOkE,WAAa,KACnBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACExD,UAAU,eACVhM,KAAK,WACLkJ,KAAK,SACLuG,YAAY,kBACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOiC,SAGjBjK,OAAOkE,YAAc,KACpBmB,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACElG,MAAM,kBACN0C,UAAU,eACVhM,KAAK,WACLkJ,KAAK,SACLuG,YAAY,kBACZC,aAAa,WACbC,SAAUd,EACVe,OAAQd,EACRvI,MAAOiI,EAAOiC,UAInB7B,EAAQ6B,QACPhC,EAAOgC,QACP5E,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,KACEvD,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAeyC,EAAOgC,SAGzC5E,EAAAnC,EAAAoC,cAACsD,GAAA,EAAD,CAASC,MAAO,CAAE5E,MAAO,SACvBoB,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEC,UAAU,gBACVhM,KAAK,SACL6P,SAAO,EACPC,SAAUf,GAJZ,eAkEO4B,yLAfX,OACE9E,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,iBACbH,EAAAnC,EAAAoC,cAACkE,GAAA,EAAD,CAAMhE,UAAU,eACdH,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKC,OAAN,CAAajE,UAAU,iBACrBH,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CAAOG,IAAKI,KAAWvC,MAAM,QAC7BoB,EAAAnC,EAAAoC,cAAA,MAAIE,UAAU,iBAAd,WAEFH,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKE,QAAN,CAAclE,UAAU,kBACtBH,EAAAnC,EAAAoC,cAAC0E,GAAD,CAAkB9B,aAAcrE,KAAKH,MAAMiG,wBAVzB/C,aC7MxBwD,eACJ,SAAAA,EAAY1G,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAuG,IACjBzG,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAsP,GAAApG,KAAAH,KAAMH,KACDjJ,MAAQ,CACXX,SAAU,GACVC,SAAU,GACVG,MAAO,IALQyJ,2FAQOkG,GACpBA,EAASrC,WACXqC,EAASzG,QAAQ1B,KAAK,2CAIxB,OAAO2D,EAAAnC,EAAAoC,cAAC+E,GAAD,CAAiBV,YAAa9F,KAAKH,MAAMzJ,gBAftB2M,aAuCfW,eArBS,SAAA9M,GACtB,MAAO,CACLd,SAAUc,EAAMD,KAAKb,SACrBC,SAAUa,EAAMD,KAAKZ,SACrBQ,QAASK,EAAMD,KAAKJ,QACpBF,MAAOO,EAAMD,KAAKN,MAClBK,MAAOE,EAAMD,KAAKD,MAClBwG,gBAAiBtG,EAAMD,KAAKuG,gBAC5B0G,eAAgBhN,EAAMD,KAAKiN,eAC3BC,aAAcjN,EAAMD,KAAKkN,aACzB5N,SAAUW,EAAMD,KAAKV,WAGE,SAAAvB,GACzB,OAAOoP,YACL,CACE1N,UAEF1B,IAGWgP,CAGb6C,4CC0QaE,uBAvTb,SAAAA,IAAsB,IAAAC,EAAA5G,EAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAyG,GAAA,QAAAE,EAAA9P,UAAAC,OAAP+I,EAAO,IAAA+G,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAPhH,EAAOgH,GAAAhQ,UAAAgQ,GAAA,OACpB/G,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,MAAA0G,EAAAzP,OAAAiJ,GAAA,EAAAjJ,CAAAwP,IAAAtG,KAAA2G,MAAAJ,EAAA,CAAA1G,MAAAnL,OAASgL,MACJkH,MAAQ,GACbjH,EAAKkH,OAASlH,EAAKkH,OAAOxG,KAAZvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACdA,EAAKmH,eAAiBnH,EAAKmH,eAAezG,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACtBA,EAAKoH,eAAiBpH,EAAKoH,eAAe1G,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACtBA,EAAKqH,iBAAmBrH,EAAKqH,iBAAiB3G,KAAtBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KANJA,+HAUhBE,KAAK+G,MAAL,MAAsB/G,KAAKH,MAAMuH,UACnCpH,KAAKH,MAAMwH,WACTrH,KAAK+G,MAAL,KAAmBO,OACnBtH,KAAK+G,MAAL,KAAmBQ,OACnBvH,KAAK+G,MAAL,KAAmBS,WACnBxH,KAAK+G,MAAL,KAAmBU,4CAKlBC,EAAKC,GACV,IAAIC,EAAS5H,KAAK+G,MAAMW,GACpBG,EAAID,EAAON,OACf,KAAIO,EAAI,QAGJC,EAAI,KAAR,CAGA,IAAIA,EAAIF,EAAOL,OAef,OAdAM,EACEA,EAAI,IACA,IACAA,EAAI7H,KAAKH,MAAMkI,OAAS,IACtB/H,KAAKH,MAAMkI,OAAS,IACpBF,EACRC,EACEA,EAAI,IACA,IACAA,EAAI9H,KAAKH,MAAMmI,OAAS,IACtBhI,KAAKH,MAAMmI,OAAS,IACpBF,EACR9H,KAAK+G,MAAMW,GAAKO,KAAKJ,GACrB7H,KAAK+G,MAAMW,GAAKQ,KAAKJ,GACbJ,GACR,IAAK,UACH1H,KAAK+G,MAAL,SAAuBmB,KAAKJ,GAC5B9H,KAAK+G,MAAL,WAAyBkB,KAAKJ,GAC9B,MACF,IAAK,WACH7H,KAAK+G,MAAL,QAAsBmB,KAAKJ,GAC3B9H,KAAK+G,MAAL,YAA0BkB,KAAKJ,GAC/B,MACF,IAAK,cACH7H,KAAK+G,MAAL,WAAyBmB,KAAKJ,GAC9B9H,KAAK+G,MAAL,SAAuBkB,KAAKJ,GAC5B,MACF,IAAK,aACH7H,KAAK+G,MAAL,YAA0BmB,KAAKJ,GAC/B9H,KAAK+G,MAAL,QAAsBkB,KAAKJ,GAG7B7H,KAAKmH,mBACLnH,KAAK+G,MAAL,KAAmBoB,SAASnI,KAAK+G,MAAL,QAAsBoB,YAClD,IAAM/H,EAAQJ,KAAK+G,MAAL,SAAuBO,OAAStH,KAAK+G,MAAL,QAAsBO,OAC9D7E,EACJzC,KAAK+G,MAAL,WAAyBQ,OAASvH,KAAK+G,MAAL,QAAsBQ,OAEtDnH,GAASqC,IACXzC,KAAK+G,MAAL,KAAmBqB,SAAShI,GAC5BJ,KAAK+G,MAAL,KAAmBsB,UAAU5F,gDAI/B,IAAI6F,EAAQtI,KAAK+G,MAAL,KAAmBU,YAC3Bc,EAAQvI,KAAK+G,MAAL,KAAmBS,WAC/B,GAAIc,GAAS,EAAG,CAEd,IAAIE,EAAOxI,KAAK+G,MAAL,QAAsBQ,OAC7BkB,EAAUzI,KAAK+G,MAAL,WAAyBQ,OACvCvH,KAAK+G,MAAL,QAAsBmB,KAAKO,GAC3BzI,KAAK+G,MAAL,WAAyBmB,KAAKM,GAC9BxI,KAAK+G,MAAL,SAAuBmB,KAAKO,GAC5BzI,KAAK+G,MAAL,YAA0BmB,KAAKM,GAEjC,GAAID,GAAS,EAAG,CACd,IAAMG,EAAQ1I,KAAK+G,MAAL,QAAsBO,OAC9BqB,EAAS3I,KAAK+G,MAAL,SAAuBO,OACtCtH,KAAK+G,MAAL,QAAsBkB,KAAKU,GAC3B3I,KAAK+G,MAAL,SAAuBkB,KAAKS,GAC5B1I,KAAK+G,MAAL,WAAyBkB,KAAKU,GAC9B3I,KAAK+G,MAAL,YAA0BkB,KAAKS,2CAGpB7H,GACbb,KAAK+G,MAAL,QAAsBkB,KAAKjI,KAAK+G,MAAL,KAAmBO,QAC9CtH,KAAK+G,MAAL,QAAsBmB,KAAKlI,KAAK+G,MAAL,KAAmBQ,QAC9CvH,KAAK+G,MAAL,SAAuBmB,KAAKlI,KAAK+G,MAAL,KAAmBQ,QAC/CvH,KAAK+G,MAAL,SAAuBkB,KACrBjI,KAAK+G,MAAL,KAAmBO,OAAStH,KAAK+G,MAAL,KAAmBS,YAEjDxH,KAAK+G,MAAL,YAA0BkB,KACxBjI,KAAK+G,MAAL,KAAmBO,OAAStH,KAAK+G,MAAL,KAAmBS,YAEjDxH,KAAK+G,MAAL,YAA0BmB,KACxBlI,KAAK+G,MAAL,KAAmBQ,OAASvH,KAAK+G,MAAL,KAAmBU,aAEjDzH,KAAK+G,MAAL,WAAyBkB,KAAKjI,KAAK+G,MAAL,KAAmBO,QACjDtH,KAAK+G,MAAL,WAAyBmB,KACvBlI,KAAK+G,MAAL,KAAmBQ,OAASvH,KAAK+G,MAAL,KAAmBU,8CAG1C,IAAAvG,EAAAlB,KACDd,EAAIc,KAAKH,MAAMlK,KAAKuJ,EACpBC,EAAIa,KAAKH,MAAMlK,KAAKwJ,EACpBC,EAAIY,KAAKH,MAAMlK,KAAKyJ,EACpBC,EAAIW,KAAKH,MAAMlK,KAAK0J,EAE1B,OACEmC,EAAAnC,EAAAoC,cAACmH,GAAA,MAAD,CAAO/J,KAAMmB,KAAKH,MAAMhB,KAAM6I,IAAK,SAAAmB,GAAI,OAAK3H,EAAK6F,MAAL,MAAsB8B,IAChErH,EAAAnC,EAAAoC,cAACmH,GAAA,KAAD,CACElB,IAAK,SAAAmB,GAAI,OAAK3H,EAAK6F,MAAL,KAAqB8B,GACnCC,EAAG9I,KAAKH,MAAMiJ,EACdC,EAAG/I,KAAKH,MAAMkJ,EACd3I,MAAOJ,KAAKH,MAAMmJ,EAClBvG,OAAQzC,KAAKH,MAAMoJ,EACnBC,cAAelJ,KAAKH,MAAMuH,SAC1B+B,aAAW,EACXC,KAAMpJ,KAAKH,MAAMuH,SAAW,yBAA2B,KACvDiC,cAAe,GACfC,cAAe,EACfC,cAAe,EACfC,WAAY,GACZC,YAAazJ,KAAKH,MAAMuH,SAAW,OAAS,KAC5CsC,OACE1J,KAAKH,MAAMuH,SAAX,QAAAvS,OACYqK,EADZ,MAAArK,OACkBsK,EADlB,MAAAtK,OACwBuK,EADxB,MAAAvK,OAC8BwK,EAD9B,KAlBkB,yBAsBpBsK,YACE3J,KAAKH,MAAMuH,SAAW,EAAIpH,KAAKH,MAAM+J,KAAO5J,KAAKH,MAAM+J,KAEzDC,UAAW7J,KAAKH,MAAMuH,SACtB0C,WAAY9J,KAAKkH,eACjB6C,UAAW/J,KAAKiH,eAChB+C,cAAe,SAAAC,GACb,IAAIC,EAsBJ,OAhBEA,EAHAD,EAAIlB,EAAI7H,EAAK6F,MAAL,KAAmBU,YAC3BvG,EAAKrB,MAAMmI,OAAS,IAEb9G,EAAKrB,MAAMmI,OAAS9G,EAAK6F,MAAL,KAAmBU,YAAc,IACnDwC,EAAIlB,EAAI,IACVkB,EAAIlB,EAEJ,IAYF,CACLD,EAVAmB,EAAInB,EAAI5H,EAAK6F,MAAL,KAAmBS,WAC3BtG,EAAKrB,MAAMkI,OAAS,IAEb7G,EAAKrB,MAAMkI,OAAS7G,EAAK6F,MAAL,KAAmBS,WAAa,IAClDyC,EAAInB,EAAI,IACVmB,EAAInB,EAEJ,IAIPC,EAAGmB,MAKT1I,EAAAnC,EAAAoC,cAACmH,GAAA,OAAD,CACElB,IAAK,SAAAmB,GAAI,OAAK3H,EAAK6F,MAAL,QAAwB8B,GACtCC,EAAG9I,KAAKH,MAAMiJ,EAAI,EAClBC,EAAG/I,KAAKH,MAAMkJ,EAAI,EAClBoB,OAAQ,GAAK,EAAInK,KAAKH,MAAM+J,MAC5BD,YACE3J,KAAKH,MAAMuH,SAAW,EAAIpH,KAAKH,MAAM+J,KAAO5J,KAAKH,MAAM+J,KAAO,EAEhEF,OAAO,OACPN,KAAMpJ,KAAKH,MAAMuH,SAAW,OAnER,yBAoEpBvI,KAAK,UACLmG,MAAO,CAAEoF,OAAQpK,KAAKH,MAAMuH,SAAW,IAAM,GAC7CyC,UAAW7J,KAAKH,MAAMuH,SACtB0C,WAAY,WACV5I,EAAK8F,OAAO,WAAW,IAEzBqD,aAAc,WACZnJ,EAAK6F,MAAMuD,KAAKC,cAAa,GAC7BrJ,EAAK6F,MAAMyD,MAAMD,cAAa,IAEhCE,WAAY,WACVvJ,EAAK6F,MAAMuD,KAAKC,cAAa,GAC7BrJ,EAAK6F,MAAMyD,MAAMD,cAAa,GAC9BrJ,EAAK+F,kBAEP8C,UAAW,WACT7I,EAAK+F,kBAEPyD,UAAW,WACTxJ,EAAK+F,oBAITzF,EAAAnC,EAAAoC,cAACmH,GAAA,OAAD,CACEiB,UAAW7J,KAAKH,MAAMuH,SACtBM,IAAK,SAAAmB,GAAI,OAAK3H,EAAK6F,MAAL,SAAyB8B,GACvC7D,MAAO,CAAEoF,OAAQpK,KAAKH,MAAMuH,SAAW,IAAM,GAC7C0B,EAAG9I,KAAKH,MAAMiJ,EAAI9I,KAAKH,MAAMmJ,EAAI,EACjCD,EAAG/I,KAAKH,MAAMkJ,EAAI,EAClBoB,OAAQ,GAAK,EAAInK,KAAKH,MAAM+J,MAC5BD,YACE3J,KAAKH,MAAMuH,SAAW,EAAIpH,KAAKH,MAAM+J,KAAO5J,KAAKH,MAAM+J,KAAO,EAEhEF,OAAO,OACPN,KAAMpJ,KAAKH,MAAMuH,SAAW,OAtGR,yBAuGpBvI,KAAK,WACLiL,WAAY,WACV5I,EAAK8F,OAAO,YAAY,IAE1BqD,aAAc,WACZnJ,EAAK6F,MAAMyD,MAAMD,cAAa,GAC9BrJ,EAAK6F,MAAMuD,KAAKC,cAAa,IAE/BE,WAAY,WACVvJ,EAAK6F,MAAMyD,MAAMD,cAAa,GAC9BrJ,EAAK6F,MAAMuD,KAAKC,cAAa,GAC7BrJ,EAAK+F,kBAEP8C,UAAW,WACT7I,EAAK+F,kBAEPyD,UAAW,WACTxJ,EAAK+F,oBAITzF,EAAAnC,EAAAoC,cAACmH,GAAA,OAAD,CACEiB,UAAW7J,KAAKH,MAAMuH,SACtBpC,MAAO,CAAEoF,OAAQpK,KAAKH,MAAMuH,SAAW,IAAM,GAC7CM,IAAK,SAAAmB,GAAI,OAAK3H,EAAK6F,MAAL,WAA2B8B,GACzCC,EAAG9I,KAAKH,MAAMiJ,EAAI,EAClBC,EAAG/I,KAAKH,MAAMkJ,EAAI/I,KAAKH,MAAMoJ,EAAI,EACjCkB,OAAQ,GAAK,EAAInK,KAAKH,MAAM+J,MAC5BD,YACE3J,KAAKH,MAAMuH,SAAW,EAAIpH,KAAKH,MAAM+J,KAAO5J,KAAKH,MAAM+J,KAAO,EAEhEF,OAAO,OACPN,KAAMpJ,KAAKH,MAAMuH,SAAW,OAvIR,yBAwIpBvI,KAAK,aACLiL,WAAY,WACV5I,EAAK8F,OAAO,cAAc,IAE5BqD,aAAc,WACZnJ,EAAK6F,MAAMyD,MAAMD,cAAa,GAC9BrJ,EAAK6F,MAAMuD,KAAKC,cAAa,IAE/BE,WAAY,WACVvJ,EAAK6F,MAAMyD,MAAMD,cAAa,GAC9BrJ,EAAK6F,MAAMuD,KAAKC,cAAa,GAC7BrJ,EAAK+F,kBAEP8C,UAAW,WACT7I,EAAK+F,kBAEPyD,UAAW,WACTxJ,EAAK+F,oBAITzF,EAAAnC,EAAAoC,cAACmH,GAAA,OAAD,CACEiB,UAAW7J,KAAKH,MAAMuH,SACtBpC,MAAO,CAAEoF,OAAQpK,KAAKH,MAAMuH,SAAW,IAAM,GAC7CM,IAAK,SAAAmB,GAAI,OAAK3H,EAAK6F,MAAL,YAA4B8B,GAC1CC,EAAG9I,KAAKH,MAAMiJ,EAAI9I,KAAKH,MAAMmJ,EAAI,EACjCD,EAAG/I,KAAKH,MAAMkJ,EAAI/I,KAAKH,MAAMoJ,EAAI,EACjCkB,OAAQ,GAAK,EAAInK,KAAKH,MAAM+J,MAC5BD,YACE3J,KAAKH,MAAMuH,SAAW,EAAIpH,KAAKH,MAAM+J,KAAO5J,KAAKH,MAAM+J,KAAO,EAEhEF,OAAO,OACPN,KAAMpJ,KAAKH,MAAMuH,SAAW,OAxKR,yBAyKpBvI,KAAK,cACLiL,WAAY,WACV5I,EAAK8F,OAAO,eAAe,IAE7BqD,aAAc,WACZnJ,EAAK6F,MAAMyD,MAAMD,cAAa,GAC9BrJ,EAAK6F,MAAMuD,KAAKC,cAAa,IAE/BE,WAAY,WACVvJ,EAAK6F,MAAMyD,MAAMD,cAAa,GAC9BrJ,EAAK6F,MAAMuD,KAAKC,cAAa,GAC7BrJ,EAAK+F,kBAEP8C,UAAW,WACT7I,EAAK+F,kBAEPyD,UAAW,WACTxJ,EAAK+F,4BAhTMlE,mCCEnB4H,GAAW,CACbC,YAAaC,SAASpJ,cAAc,QAGlCmJ,GAAcD,GAASC,YAC3BA,GAAYrI,IAAMuI,KAClBF,GAAYG,OAAS,WACnB/K,KAAK4K,aAAc,OAuHNI,eAnHb,SAAAA,IAAqB,IAAAtE,EAAA5G,EAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAgL,GAAA,QAAArE,EAAA9P,UAAAC,OAANmU,EAAM,IAAArE,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAANoE,EAAMpE,GAAAhQ,UAAAgQ,GAAA,OACnB/G,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,MAAA0G,EAAAzP,OAAAiJ,GAAA,EAAAjJ,CAAA+T,IAAA7K,KAAA2G,MAAAJ,EAAA,CAAA1G,MAAAnL,OAASoW,MACJrU,MAAQ,CACXwB,MAAO,KACP8S,OAAO,EACPC,QAAQ,GALSrL,yEASbyC,GAAK,IAAArB,EAAAlB,KACX,IAAKuC,EACH,MAAM,IAAI6I,MAAM,yCAA2C7I,GAG7D,IAAI8I,EAAMV,GAASpI,GAEd8I,KACHA,EAAMV,GAASpI,GAAOsI,SAASpJ,cAAc,QACzC6J,QAAU,GACdD,EAAIE,SAAW,GACfF,EAAIG,QAAU,WACZH,EAAIH,OAAQ,EACZG,EAAIE,SAAS5N,QAAQ,SAAA8N,GAAE,OAAIA,EAAGtL,KAAKkL,MAErCA,EAAIN,OAAS,WACX,IAAIW,EAAQ,kBAAmBL,EAE7BpC,EAAIyC,EAAQ,gBAAkB,SACjBL,EAFTK,EAAQ,eAAiB,SAEPL,EAAIpC,KAAO,EAIjCoC,EAAIG,WAEJH,EAAIF,QAAS,EACbE,EAAIC,QAAQ3N,QAAQ,SAAA8N,GAAE,OAAIA,EAAGtL,KAAKkL,QAKnCA,EAAIF,QAAWE,EAAIH,MAUbG,EAAIH,MACblL,KAAKgB,SAAS,CAAEkK,OAAO,EAAM9S,MAAOwS,KAEpC5K,KAAKgB,SAAS,CAAEmK,QAAQ,EAAM/S,MAAOiT,KAZrCA,EAAIC,QAAQzN,KAAK,WACfwN,EAAIF,QAAS,EACbjK,EAAKF,SAAS,CAAEmK,QAAQ,EAAM/S,MAAOiT,MAGvCA,EAAIE,SAAS1N,KAAK,WAChBwN,EAAIH,OAAQ,EACZhK,EAAKF,SAAS,CAAEkK,OAAO,EAAM9S,MAAOwS,QAQnCS,EAAI9I,MACP8I,EAAI9I,IAAMA,oCAILpO,EAAGwX,GACV,OAAOA,EAAEvL,MAAQuL,EAAElJ,OAAStO,EAAEiM,MAAQjM,EAAEsO,OACpC,CAAErC,MAAOjM,EAAEiM,MAAOqC,OAAQkJ,EAAElJ,QAAUtO,EAAEiM,MAAQuL,EAAEvL,QAClD,CAAEqC,OAAQtO,EAAEsO,OAAQrC,MAAOuL,EAAEvL,OAASjM,EAAEsO,OAASkJ,EAAElJ,yCAGjDtO,EAAGwX,GACT,IAAIC,EACFD,EAAEvL,MAAQuL,EAAElJ,OAAStO,EAAEiM,MAAQjM,EAAEsO,OAC7B,CAAErC,MAAOjM,EAAEiM,MAAOqC,OAAQkJ,EAAElJ,QAAUtO,EAAEiM,MAAQuL,EAAEvL,QAClD,CAAEqC,OAAQtO,EAAEsO,OAAQrC,MAAOuL,EAAEvL,OAASjM,EAAEsO,OAASkJ,EAAElJ,SAGzD,OADAzC,KAAKH,MAAMgM,OAAOD,GACXA,kCAGDE,EAAOC,EAAQC,GACrB,OAAQF,GACR,IAAK,OACH,OAAO9L,KAAKiM,SAASF,EAAQC,GAE/B,IAAK,MACL,QACE,OAAOhM,KAAKkM,QAAQH,EAAQC,iDAM9BhM,KAAKmM,QAAQnM,KAAKH,MAAM0C,sCAIxB,IAAI6J,EAAW,CAAEhM,MAAOJ,KAAKH,MAAMO,MAAOqC,OAAQzC,KAAKH,MAAM4C,QAC3DrK,EAAQ4H,KAAKpJ,MAAMwB,MACnBiU,EAAYjU,EACR,CAAEgI,MAAOhI,EAAMgI,MAAOqC,OAAQrK,EAAMqK,QACpC2J,EACJE,EAAOtM,KAAKuM,QAAQvM,KAAKH,MAAMiM,MAAOM,EAAUC,GAChDpC,EAAM,CAAEnB,EAAG9I,KAAKH,MAAMiJ,GAAK,EAAGC,EAAG/I,KAAKH,MAAMkJ,GAAK,GAEnD,OACEvH,EAAAnC,EAAAoC,cAACmH,GAAA,MAAD,CACErH,IAAKvB,KAAKH,MAAM2M,OAChBpU,MAAO4H,KAAKpJ,MAAMwB,MAClB0Q,EAAGmB,EAAInB,EACPC,EAAGkB,EAAIlB,EACP3I,MAAOkM,EAAKlM,MACZqC,OAAQ6J,EAAK7J,gBA9GHM,aC2HH0J,eAlIb,SAAAA,EAAY5M,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAyM,IACjB3M,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAwV,GAAAtM,KAAAH,KAAMH,KACDjJ,MAAQ,CACX8V,SAAS,EACT9U,YAAa,IAEfkI,EAAK6M,SAAW,KAChB7M,EAAK8M,aAAe9M,EAAK8M,aAAapM,KAAlBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACpBA,EAAKuH,WAAavH,EAAKuH,WAAW7G,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAK+M,WAAa/M,EAAK+M,WAAWrM,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAKgN,kBAAoBhN,EAAKgN,kBAAkBtM,KAAvBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAVRA,mFAYDe,GAChB,GAAIb,KAAK2M,SAAU,CACjB,IAAM1C,EAAMjK,KAAK2M,SAASI,WAAWC,qBACrChN,KAAKH,MAAMoN,cACThD,EAAInB,EAAI9I,KAAKkN,WACbjD,EAAIlB,EAAI/I,KAAKmN,YACb,IAAMnN,KAAKkN,WACX,IAAMlN,KAAKmN,aACX,GACA,GACA,yCAIOb,GAETA,EAAK7J,QACL6J,EAAKlM,QACJJ,KAAKmN,cAAgBb,EAAK7J,QAAUzC,KAAKkN,aAAeZ,EAAKlM,SAE9DJ,KAAKmN,YAAcb,EAAK7J,OACxBzC,KAAKkN,WAAaZ,EAAKlM,MACvBJ,KAAKgB,SAAS,CAAE0L,SAAS,wCAGlB5D,EAAGC,EAAGC,EAAGC,GAClB,IAAImE,EAAKtE,EAAI9I,KAAKkN,WACdG,EAAKtE,EAAI/I,KAAKmN,YACdG,EAAKtE,EAAIhJ,KAAKkN,WACdK,EAAKtE,EAAIjJ,KAAKmN,YAClBnN,KAAKH,MAAMwH,WAAW+F,EAAIC,EAAIC,EAAIC,6CAElB1N,+CACCA,sDACOmG,EAAUnG,GAClCG,KAAKkN,WAAalH,EAASkH,WAC3BlN,KAAKmN,YAAcnH,EAASmH,YAC5BnN,KAAKgB,SAAS,CAAEwM,YAAaxH,EAASwH,cAClCxN,KAAK2M,UACP3M,KAAK2M,SAASI,WAAWU,MAAM,CAAE3E,EAAG,EAAGC,EAAG,uCAGnClK,GACTmB,KAAKH,MAAM6N,iBAAiB7O,oCAErB,IAAAqC,EAAAlB,KACHoH,EAAWpH,KAAKH,MAAMjI,YAAYoI,KAAKH,MAAMuH,UACjD,OAAIpH,KAAKH,MAAMzH,MAEXoJ,EAAAnC,EAAAoC,cAACmH,GAAA,MAAD,CACErH,IAAG,SAAA1M,OAAWmL,KAAKpJ,MAAM4W,aACzBpN,MAAOJ,KAAKkN,WACZzK,OAAQzC,KAAKmN,YACbzF,IAAK,SAAAA,GACHxG,EAAKyL,SAAWjF,IAGlBlG,EAAAnC,EAAAoC,cAACmH,GAAA,MAAD,CACErH,IAAG,SAAA1M,OAAWmL,KAAKpJ,MAAM4W,aACzBG,WAAY3N,KAAK8M,mBAEjBtL,EAAAnC,EAAAoC,cAACmM,GAAD,CACErM,IAAG,OAAA1M,OAASmL,KAAKpJ,MAAM4W,aACvB9F,IAAK,SAAAA,GACHxG,EAAK2M,SAAWnG,GAElBnF,IAAKvC,KAAKH,MAAMzH,MAChBqK,OAAQzC,KAAKmN,YACb/M,MAAOJ,KAAKkN,WACZrB,OAAQ7L,KAAK4M,aACbd,MAAM,QAEP9L,KAAKH,MAAMjI,YAAYuD,IAAI,SAAC2S,EAAYhW,GACvC,GAAIA,IAAUoJ,EAAKrB,MAAMuH,SACvB,OACE5F,EAAAnC,EAAAoC,cAACsM,GAAD,CACExM,IAAG,GAAA1M,OAAKqM,EAAKtK,MAAM4W,YAAhB,KAAA3Y,OAA+BiZ,EAAWjP,MAC7CA,KAAMiP,EAAWjP,KACjBiK,EAAGgF,EAAWhF,EAAI5H,EAAKgM,WACvBnE,EAAG+E,EAAW/E,EAAI7H,EAAKiM,YACvBnE,EAAG8E,EAAW9E,EAAI9H,EAAKgM,WACvBjE,EAAG6E,EAAW7E,EAAI/H,EAAKiM,YACvBpF,OAAQ7G,EAAKgM,WACblF,OAAQ9G,EAAKiM,YACbxX,KAAMuL,EAAKrB,MAAMtK,OAAOuY,EAAWnY,MACnC0R,WAAYnG,EAAKmG,WACjBwF,WAAY3L,EAAK2L,WACjBjD,KAAM1I,EAAKrB,MAAM+J,SAKxBxC,GACC5F,EAAAnC,EAAAoC,cAACsM,GAAD,CACExM,IAAG,GAAA1M,OAAKmL,KAAKpJ,MAAM4W,YAAhB,KAAA3Y,OAA+BuS,EAASvI,MAC3CA,KAAMuI,EAASvI,KACfiK,EAAG1B,EAAS0B,EAAI9I,KAAKkN,WACrBnE,EAAG3B,EAAS2B,EAAI/I,KAAKmN,YACrBnE,EAAG5B,EAAS4B,EAAIhJ,KAAKkN,WACrBjE,EAAG7B,EAAS6B,EAAIjJ,KAAKmN,YACrBpF,OAAQ/H,KAAKkN,WACblF,OAAQhI,KAAKmN,YACbxX,KAAMqK,KAAKH,MAAMtK,OAAO6R,EAASzR,MACjC0R,WAAYrH,KAAKqH,WACjBD,UAAU,EACVyF,WAAY7M,KAAK6M,WACjBjD,KAAM5J,KAAKH,MAAM+J,SAOpBpI,EAAAnC,EAAAoC,cAAA,mBA9HgBsB,uBC8BdiL,uBAhCb,SAAAA,EAAYnO,GAAQ,OAAA5I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAgO,GAAA/W,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAA+W,GAAA7N,KAAAH,KACZH,4EAEC,IAAAC,EAAAE,KACC4J,EAAS5J,KAAKH,MAAd+J,KACR,OACEpI,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SAAW,uBAAyB,yBAGjDzM,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,KAAKvM,UAAU,cAA1B,cAGAH,EAAAnC,EAAAoC,cAAC0D,GAAA,EAAD,CACExD,UACE3B,KAAKH,MAAMoO,SAAW,sBAAwB,uBAEhDtY,KAAK,SACLwY,KAAK,MACLC,IAAI,MACJC,IAAI,OACJjJ,YAAY,OACZkJ,aAAc1E,EACdtE,SAAU,SAACiJ,EAAK3C,GACd9L,EAAKD,MAAM2O,WAAWC,WAAW7C,EAAI1P,mBA1BrB6G,sDCuFb2L,uBArFb,SAAAA,EAAY7O,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAA0O,IACjB5O,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAyX,GAAAvO,KAAAH,KAAMH,KACD8O,WAAa7O,EAAK6O,WAAWnO,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAK8O,gBAAkB9O,EAAK8O,gBAAgBpO,KAArBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACvBA,EAAK+O,eAAiB/O,EAAK+O,eAAerO,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACtBA,EAAKgP,gBAAkBhP,EAAKgP,gBAAgBtO,KAArBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KALNA,4EAOR5D,GACT8D,KAAKH,MAAM8O,WAAWzS,EAAO,gDAEfA,GACd8D,KAAKH,MAAM8O,WAAWzS,EAAO,oDAEhBA,GACb8D,KAAKH,MAAM8O,WAAWzS,EAAO,oDAEfA,GACd8D,KAAKH,MAAM8O,WAAWzS,EAAO,8CAM7B,IAHO,IAAAgF,EAAAlB,KAAAmB,EAC0CnB,KAAKH,MAA9ClK,EADDwL,EACCxL,KAAMoZ,EADP5N,EACO4N,SAAUC,EADjB7N,EACiB6N,UAAWC,EAD5B9N,EAC4B8N,UAC/BC,EAAc,GAClBC,EAAA,EAAAC,EAAkBnY,OAAOqK,KAAKtB,KAAKH,MAAMtK,QAAzC4Z,EAAAC,EAAAtY,OAAAqY,IAAkD,CAA7C,IAAIlQ,EAAKmQ,EAAAD,GACZD,EAAYrR,KAAK,CACfwR,KAAMrP,KAAKH,MAAMtK,OAAO0J,GAAO9E,YAC/B+B,MAAO+C,IAGX,OACEuC,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SAAW,uBAAyB,yBAGjDzM,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,KAAKvM,UAAU,cAA1B,eAGAH,EAAAnC,EAAAoC,cAAC6N,GAAA,EAAD,CACEC,QAASL,EACTM,OAAK,EACLC,WAAS,EACTnB,aAAc3Y,EACdyP,YAAY,cACZE,SAAU,SAACiJ,EAAK3C,GACd1K,EAAKyN,WAAW/C,EAAI1P,UAGvB,IACDsF,EAAAnC,EAAAoC,cAACiO,GAAA,EAAD,CACEC,WAAU,WACVC,WAAS,6CACTC,iBAAe,OACfC,eAAgBf,EAChBzJ,SAAU,SAACiJ,EAAK3C,GACd1K,EAAK2N,eAAejD,EAAImE,YAG5BvO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,WAAWqX,MAAM,SAASta,KAAK,SAC/C,IACD6L,EAAAnC,EAAAoC,cAACiO,GAAA,EAAD,CACEC,WAAU,YACVC,WAAS,0CACTC,iBAAe,OACfC,eAAgBd,EAChB1J,SAAU,SAACiJ,EAAK3C,GACd1K,EAAK4N,gBAAgBlD,EAAImE,YAG7BvO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,YAAYqX,MAAM,SAASta,KAAK,SAChD,IACD6L,EAAAnC,EAAAoC,cAACiO,GAAA,EAAD,CACEC,WAAU,YACVC,WAAS,4BACTC,iBAAe,OACfC,eAAgBb,EAChB3J,SAAU,SAACiJ,EAAK3C,GACd1K,EAAK0N,gBAAgBhD,EAAImE,YAG7BvO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,YAAYqX,MAAM,SAASta,KAAK,iBAjF7BoN,cCgDbmN,uBAzCb,SAAAA,EAAYrQ,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAkQ,IACjBpQ,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAiZ,GAAA/P,KAAAH,KAAMH,KACD5B,eAAiB6B,EAAK7B,eAAeuC,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAFLA,gFAIJ5D,GACb8D,KAAKH,MAAM5B,eAAe/B,oCAEnB,IAAAgF,EAAAlB,KAAAmB,EACyBnB,KAAKH,MAA7BxF,EADD8G,EACC9G,UAAW9B,EADZ4I,EACY5I,SACf4X,EAAkB,GAFf1U,GAAA,EAAAC,GAAA,EAAAC,OAAA5E,EAAA,IAGP,QAAA6E,EAAAC,EAAwBxB,EAAxByB,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAmC,KAA1B2U,EAA0BxU,EAAAM,MACjCiU,EAAgBtS,KAAK,CACnBwR,KAAMe,EAAY7X,SAClB2D,MAAOkU,EAAY7X,YANhB,MAAAxD,GAAA2G,GAAA,EAAAC,EAAA5G,EAAA,YAAA0G,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GASP,OACE6F,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SACP,2BACA,6BAGNzM,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,KAAKvM,UAAU,kBAA1B,mBAGAH,EAAAnC,EAAAoC,cAAC6N,GAAA,EAAD,CACEC,QAASY,EACTX,OAAK,EACLC,WAAS,EACTnB,aAAc/V,EACd6M,YAAY,kBACZE,SAAU,SAACiJ,EAAK3C,GACd1K,EAAKjD,eAAe2N,EAAI1P,kBAnCJ6G,cCsCjBsN,uBArCb,SAAAA,EAAYxQ,GAAQ,OAAA5I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAqQ,GAAApZ,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAoZ,GAAAlQ,KAAAH,KACZH,4EAKN,IAHO,IAAAC,EAAAE,KAAAmB,EACkBnB,KAAKH,MAAtByQ,EADDnP,EACCmP,MAAOxY,EADRqJ,EACQrJ,MACXyY,EAAe,GACVC,EAAW,EAAGA,EAAWF,EAAOE,GAAY,EACnDD,EAAa1S,KAAK,CAChBwR,KAAMmB,EACNtU,MAAOsU,IAGX,OACEhP,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SACP,wBACA,0BAGNzM,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,KAAKvM,UAAU,eAA1B,gBAGAH,EAAAnC,EAAAoC,cAAC6N,GAAA,EAAD,CACEC,QAASgB,EACTf,OAAK,EACLC,WAAS,EACTnB,aAAcxW,EACdsN,YAAY,eACZE,SAAU,SAACiJ,EAAK3C,GACd9L,EAAKD,MAAM3H,YAAY,EAAG0T,EAAI1P,kBA/Bb6G,cCiPd0N,uBAlPb,SAAAA,EAAY5Q,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAyQ,IACjB3Q,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAwZ,GAAAtQ,KAAAH,KAAMH,KACDjJ,MAAQ,CACX8Z,WAAY,KACZC,cAAe,KACfC,aAAa,EACbC,UAAW,MAEb/Q,EAAKgR,SAAWhR,EAAKgR,SAAStQ,KAAdvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAChBA,EAAKkH,OAASlH,EAAKkH,OAAOxG,KAAZvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACdA,EAAKiR,cAAgBjR,EAAKiR,cAAcvQ,KAAnBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAVJA,0EAYVe,EAAKiI,GAAG,IAAA5H,EAAAlB,KAAAgR,EACmCnQ,EAAIoQ,OAA9CC,EADOF,EACPE,aAAcC,EADPH,EACOG,aAAcC,EADrBJ,EACqBI,UAChCT,EAAgB,KAChBD,EAAa,KAIbU,EAAYD,EAAeD,GAAgB/U,OAAOkE,WAAa,MACjEsQ,EACEnP,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,oBACLqG,KAAK,MACLpD,QAAS,WACHZ,EAAKtK,MAAMia,YACb3P,EAAKtK,MAAMia,UAAUO,UAAYF,OAMvCE,EAAY,GAAKjV,OAAOkE,WAAa,MACvCqQ,EACElP,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,kBACLqG,KAAK,MACLpD,QAAS,WACHZ,EAAKtK,MAAMia,YACb3P,EAAKtK,MAAMia,UAAUO,UAAY,OAO3CpR,KAAKgB,SAAS,CAAE2P,gBAAeD,iEAEP1K,mCACnB0B,GACL,GAAIA,GAAO1H,KAAKpJ,MAAMga,YAAa,CACjC,IAAID,EAAgB,KAChBD,EAAa,KAETQ,EAA0CxJ,EAA1CwJ,aAAcC,EAA4BzJ,EAA5ByJ,aAAcC,EAAc1J,EAAd0J,UAChCA,EAAYD,EAAeD,GAAgB/U,OAAOkE,WAAa,MACjEsQ,EAAgBnP,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,oBAAoBqG,KAAK,SAElDkM,EAAY,GAAKjV,OAAOkE,WAAa,MACvCqQ,EACElP,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,kBACLqG,KAAK,MACLpD,QAAS,WACP4F,EAAI0J,UAAY,MAMxBpR,KAAKgB,SAAS,CACZ2P,gBACAD,aACAE,aAAa,EACbC,UAAWnJ,+EAKR,IAAA2J,EAAArR,KACP,OACEwB,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SACP,kCACA,oCAGNzM,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,sBAAsB3B,KAAKpJ,MAAM8Z,YAChDlP,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SACP,oCACA,qCAEN1I,OAAQvF,KAAK8Q,SACbA,SAAU9Q,KAAK8Q,SACfpJ,IAAK,SAAAA,GACH4J,WAAW,WACTD,EAAKrK,OAAOU,IACX,OAGJ1H,KAAKH,MAAMjI,aACVoI,KAAKH,MAAMjI,YAAYuD,IAAI,SAAC2S,EAAYhW,GACtC,IAAIoH,EAAImS,EAAKxR,MAAMtK,OAAOuY,EAAWnY,MAAMuJ,EACvCC,EAAIkS,EAAKxR,MAAMtK,OAAOuY,EAAWnY,MAAMwJ,EACvCC,EAAIiS,EAAKxR,MAAMtK,OAAOuY,EAAWnY,MAAMyJ,EACvCC,EAAIgS,EAAKxR,MAAMtK,OAAOuY,EAAWnY,MAAM0J,EAE3C,OACEmC,EAAAnC,EAAAoC,cAAA,OACEF,IAAKuM,EAAWjP,KAChBiD,QAAS,WACPuP,EAAKxR,MAAM6N,iBAAiBI,EAAWjP,OAEzC8C,UACE7J,IAAUuZ,EAAKxR,MAAMuH,SAAW,WAAa,aAE/CpC,MAAO,CACLuM,gBACEzZ,IAAUuZ,EAAKxR,MAAMuH,SACjB,QADJ,QAAAvS,OAEYqK,EAFZ,KAAArK,OAEiBsK,EAFjB,KAAAtK,OAEsBuK,EAFtB,KAAAvK,OAE2BwK,EAF3B,OAKHgS,EAAKxR,MAAMtK,OAAOuY,EAAWnY,MAAMwE,gBAI1C6F,KAAKH,MAAMjI,aACwB,IAAlCoI,KAAKH,MAAMjI,YAAYd,QACtB0K,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,WAAWqD,MAAO,CAAEuM,gBAAiB,UACjD,uBAIT/P,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,yBAAyB3B,KAAKpJ,MAAM+Z,eACnDnP,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SACP,2BACA,6BAGNzM,EAAAnC,EAAAoC,cAAC+P,GAAD,CACEjQ,IAAG,kBAAA1M,OAAoBmL,KAAKH,MAAMvH,SAClCkW,WAAYxO,KAAKH,MAAM2O,WACvB5E,KAAM5J,KAAKH,MAAM+J,KACjBqE,SAAUjO,KAAKH,MAAMoO,WAEtBjO,KAAKH,MAAMjI,YAAYd,OAAS,GAC/B0K,EAAAnC,EAAAoC,cAACgQ,GAAD,CACElQ,IAAG,kBAAA1M,OAAoBmL,KAAKH,MAAMuH,UAClCuH,WAAY3O,KAAKH,MAAM8O,WACvBV,SAAUjO,KAAKH,MAAMoO,SACrBtY,KAAMqK,KAAKH,MAAMjI,YAAYoI,KAAKH,MAAMuH,UAAlC,KACN2H,SAAU/O,KAAKH,MAAMjI,YAAYoI,KAAKH,MAAMuH,UAAlC,SACV6H,UACEjP,KAAKH,MAAMjI,YAAYoI,KAAKH,MAAMuH,UAAlC,UAEF4H,UACEhP,KAAKH,MAAMjI,YAAYoI,KAAKH,MAAMuH,UAAlC,UAEF7R,OAAQyK,KAAKH,MAAMtK,SAGtByK,KAAKH,MAAMxF,WACVmH,EAAAnC,EAAAoC,cAACiQ,GAAD,CACEnQ,IAAG,QAAA1M,OAAUmL,KAAKH,MAAMvH,SACxB+B,UAAW2F,KAAKH,MAAMxF,UACtB9B,SAAUyH,KAAKH,MAAMtH,SACrB0F,eAAgB+B,KAAKH,MAAM5B,iBAG9B+B,KAAKH,MAAMyQ,OACV9O,EAAAnC,EAAAoC,cAACkQ,GAAD,CACEpQ,IAAG,OAAA1M,OAASmL,KAAKH,MAAMvH,SACvBgY,MAAOtQ,KAAKH,MAAMyQ,MAClBxY,MAAOkI,KAAKH,MAAM/H,MAClBI,YAAa8H,KAAKH,MAAM3H,cAG5BsJ,EAAAnC,EAAAoC,cAAA,OACEE,UAAW3B,KAAKH,MAAMoO,SAAW,gBAAkB,kBAEnDzM,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEC,UACE3B,KAAKH,MAAMoO,SACP,uBACA,wBAENnM,QAAS9B,KAAKH,MAAM+R,KACpBpM,SAAO,GAPT,QAWAhE,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEC,UACE3B,KAAKH,MAAMoO,SACP,uBACA,wBAENnM,QAAS9B,KAAKH,MAAMgS,KACpBC,WAAS,GAPX,SAYFtQ,EAAAnC,EAAAoC,cAAA,OACEE,UACE3B,KAAKH,MAAMoO,SAAW,qBAAuB,uBAG/CzM,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEC,UACE3B,KAAKH,MAAMoO,SACP,uBACA,wBAENnM,QAAS9B,KAAKH,MAAMkS,MAEpBvQ,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,gBAGb2C,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEC,UACE3B,KAAKH,MAAMoO,SACP,uBACA,wBAENnM,QAAS9B,KAAKH,MAAM7D,MAEpBwF,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,2BA1OakE,cCQhCiP,uBACJ,SAAAA,EAAYnS,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAgS,IACjBlS,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAA+a,GAAA7R,KAAAH,KAAMH,KACDjJ,MAAQ,CACXuW,YAAa,EACbD,WAAY,EACZtV,YAAa,GACbgS,KAAM,EACNxR,MAAO,KACPE,QAAS,KACT2Z,eAAgB,KAChBC,OAAO,GAETpS,EAAKoS,OAAQ,EACbpS,EAAKqS,kBAAmB,EACxBrS,EAAKsS,YAAa,EAClBtS,EAAKuS,WAAY,EACjBvS,EAAKlI,YAAc,GACnBkI,EAAKxH,QAAU,KACfwH,EAAKwS,WAAa,KAClBxS,EAAK1H,MAAQ,KACb0H,EAAKsH,SAAW,EAChBtH,EAAKyS,QAAU,EAEfzS,EAAKmN,cAAgBnN,EAAKmN,cAAczM,KAAnBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACrBA,EAAKuH,WAAavH,EAAKuH,WAAW7G,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAK6O,WAAa7O,EAAK6O,WAAWnO,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAK0O,WAAa1O,EAAK0O,WAAWhO,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAK7B,eAAiB6B,EAAK7B,eAAeuC,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACtBA,EAAK4N,iBAAmB5N,EAAK4N,iBAAiBlN,KAAtBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACxBA,EAAK0S,UAAY1S,EAAK0S,UAAUhS,KAAfvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACjBA,EAAK2S,aAAe3S,EAAK2S,aAAajS,KAAlBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACpBA,EAAK4S,WAAa5S,EAAK4S,WAAWlS,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAK6S,QAAU7S,EAAK6S,QAAQnS,KAAbvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACfA,EAAKiS,KAAOjS,EAAKiS,KAAKvR,KAAVvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACZA,EAAK9D,KAAO8D,EAAK9D,KAAKwE,KAAVvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACZA,EAAK+R,KAAO/R,EAAK+R,KAAKrR,KAAVvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACZA,EAAK8R,KAAO9R,EAAK8R,KAAKpR,KAAVvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KApCKA,+EAsCLgJ,EAAGC,EAAGC,EAAGC,EAAG2J,EAAGC,EAAGC,EAAGnd,GAEjC,IAAIiC,EAAcoI,KAAKpI,YAAYmb,MAAM,GACzCnb,EAAYiG,KAAK,CACfgB,KACEjH,EAAYd,OAAS,EAArB,GAAAjC,OACOsC,SAASS,EAAYA,EAAYd,OAAS,GAAG+H,MAAQ,GACxD,IACNiK,IACAC,IACAC,IACAC,IACA8F,SAAU6D,EACV5D,UAAW6D,EACX5D,UAAW6D,EACXnd,KAAMsB,OAAOqK,KAAKtB,KAAKH,MAAMtK,QAAQ,KAEvCyK,KAAKqS,WAAY,EACjBrS,KAAKoH,SAAWxP,EAAYd,OAAS,EACrCkJ,KAAKpI,YAAcA,EACnBoI,KAAKgT,iDAEIC,GAAwB,IAAftd,EAAekB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,OAErBe,EAAcoI,KAAKpI,YAAYmb,MAAM,GACzCnb,EAAYoI,KAAKoH,UAAUzR,GAAQsd,EACnCjT,KAAKpI,YAAcA,EACnBoI,KAAKqS,WAAY,EACjBrS,KAAKgT,iDAEIlK,EAAGC,EAAGC,EAAGC,GAElB,IAAIrR,EAAcoI,KAAKpI,YAAYmb,MAAM,GACzCnb,EAAYoI,KAAKoH,UAAY,CAC3BvI,KAAMjH,EAAYoI,KAAKoH,UAAUvI,KACjCiK,IACAC,IACAC,IACAC,IACA8F,SAAUnX,EAAYoI,KAAKoH,UAAU2H,SACrCC,UAAWpX,EAAYoI,KAAKoH,UAAU4H,UACtCC,UAAWrX,EAAYoI,KAAKoH,UAAU6H,UACtCtZ,KAAMiC,EAAYoI,KAAKoH,UAAUzR,MAEnCqK,KAAKpI,YAAcA,EACnBoI,KAAKqS,WAAY,EACjBrS,KAAKgT,iDAGInU,GAGT,IAFA,IAAIqU,EAAI,EACJtb,EAAcoI,KAAKpI,YAChBsb,EAAItb,EAAYd,QACjBc,EAAYsb,GAAGrU,OAASA,EADCqU,GAAK,GAKpC,OAAIA,IAAMtb,EAAYd,QACZ,EAEHoc,2CAEQrU,GACf,IAAI/G,EAAQkI,KAAKmT,WAAWtU,IACb,IAAX/G,GAAgBkI,KAAKoH,WAAatP,IACpCkI,KAAKqS,WAAY,EACjBrS,KAAKoH,SAAWtP,EAChBkI,KAAKgT,iEAIiBhN,GACxB,GAAIA,EAASpO,aAAeoI,KAAKqS,UAAW,CAC1C,IAAIa,EAAI,EACJE,EAAiB,GAFqB3X,GAAA,EAAAC,GAAA,EAAAC,OAAA5E,EAAA,IAG1C,QAAA6E,EAAAC,EAAgBmK,EAASpO,YAAzBkE,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAsC,KAA7B4X,EAA6BzX,EAAAM,MACpCkX,EAAevV,KAAK,CAClBgB,KAAI,GAAAhK,OAAKqe,GACTpK,EAAGuK,EAAIvK,EACPC,EAAGsK,EAAItK,EACPC,EAAGqK,EAAIjT,MACP6I,EAAGoK,EAAI5Q,OACP9M,KAAM0d,EAAIC,SACVvE,cAA0BhY,GAAhBsc,EAAItE,UAAwBsE,EAAItE,SAC1CC,eAA4BjY,GAAjBsc,EAAIrE,WAAyBqE,EAAIrE,UAC5CC,eAA4BlY,GAAjBsc,EAAIpE,WAAyBoE,EAAIpE,YAE9CiE,GAAK,GAfmC,MAAAne,GAAA2G,GAAA,EAAAC,EAAA5G,EAAA,YAAA0G,GAAA,MAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAiB1CqE,KAAKmS,kBAAmB,EACxBnS,KAAKpI,YAAcwb,EACnBpT,KAAKoH,SAAW,EAChBpH,KAAK5H,MAAQ4N,EAAS5N,MACtB4H,KAAKsS,WAAatS,KAAK1H,QACvB0H,KAAK1H,QAAU0N,EAAS1N,QACxB0H,KAAKgT,eAEHhT,KAAKkS,OAASlS,KAAK1H,UAAY0H,KAAKsS,cACtCtS,KAAKkS,OAAQ,EACblS,KAAKwS,yDAIP,IAAIU,EAAI,EACJE,EAAiB,GAFHzW,GAAA,EAAAC,GAAA,EAAAC,OAAA9F,EAAA,IAGlB,QAAA+F,EAAAC,EAAgBiD,KAAKH,MAAMjI,YAA3BkE,OAAAC,cAAAY,GAAAG,EAAAC,EAAAf,QAAAC,MAAAU,GAAA,EAAwC,KAA/B0W,EAA+BvW,EAAAZ,MACtCkX,EAAevV,KAAK,CAClBgB,KAAI,GAAAhK,OAAKqe,GACTpK,EAAGuK,EAAIvK,EACPC,EAAGsK,EAAItK,EACPC,EAAGqK,EAAIjT,MACP6I,EAAGoK,EAAI5Q,OACP9M,KAAM0d,EAAIC,SACVvE,cAA0BhY,GAAhBsc,EAAItE,UAAwBsE,EAAItE,SAC1CC,eAA4BjY,GAAjBsc,EAAIrE,WAAyBqE,EAAIrE,UAC5CC,eAA4BlY,GAAjBsc,EAAIpE,WAAyBoE,EAAIpE,YAE9CiE,GAAK,GAfW,MAAAne,GAAA6H,GAAA,EAAAC,EAAA9H,EAAA,YAAA4H,GAAA,MAAAI,EAAAR,QAAAQ,EAAAR,SAAA,WAAAK,EAAA,MAAAC,GAiBlBmD,KAAKpI,YAAcwb,EACnBpT,KAAKwS,YACLxS,KAAKyS,kDAEI7I,GACT,GAAIA,IAAS2J,MAAM3J,IAAkB,IAATA,EAAY,CACtC,IAAIsD,EAAa/Q,OAAOkE,WAAauJ,EACjCuD,EAAchR,OAAOqX,YAAc5J,EACvC5J,KAAKgB,SAAS,CAAEkM,aAAYC,cAAavD,iDAG9B6J,GACbzT,KAAKH,MAAM5B,eAAewV,GAC1BzT,KAAKqS,WAAY,EACjBrS,KAAKwS,yDAGLxS,KAAKH,MAAM9B,eACXiC,KAAKH,MAAMrL,YACXwL,KAAKwS,YACLxS,KAAKyS,eACLtW,OAAO2E,iBAAiB,SAAUd,KAAKyS,cACvCtW,OAAO2E,iBAAiB,UAAWd,KAAK2S,yCAElCe,GACmB,MAArBA,EAAanS,KAAoC,MAArBmS,EAAanS,MAC3CvB,KAAKpI,YAAY+b,OAAO3T,KAAKoH,SAAU,GACvCpH,KAAKoH,SAAW,EAChBpH,KAAKqS,WAAY,EACjBrS,KAAKgT,2DAIPhT,KAAKyS,mDAGLzS,KAAKgB,SAAS,CAAE4S,aAAa,IAE7B5T,KAAKH,MAAM7H,SAASgI,KAAK0S,iDAGzB1S,KAAKgB,SAAS,CAAE4S,aAAa,qDAG7B5T,KAAKgB,SAAS,CAAE4S,aAAa,IAE7B5T,KAAKH,MAAMrI,gBADK,EACkBwI,KAAK0S,iDAE5B7R,GAEX,IAAIqM,EAAa/Q,OAAOkE,WAAaL,KAAKpJ,MAAMgT,KAC5CuD,EAAchR,OAAOqX,YAAcxT,KAAKpJ,MAAMgT,KAClD5J,KAAKgB,SAAS,CAAEkM,aAAYC,+CAG5BnN,KAAKgB,SAAS,CAAE4S,aAAa,IAC7B5T,KAAKkS,OAAQ,EACblS,KAAKoH,SAAW,EAChBpH,KAAKH,MAAMvI,gBAAgB0I,KAAKpI,YAAaoI,KAAKhE,qCAGlDgE,KAAKmS,kBAAmB,EACxBnS,KAAKqS,WAAY,EACjBrS,KAAK6T,wDAGL7T,KAAKkS,OAAQ,EACblS,KAAKoS,YAAa,EAClBpS,KAAKmS,kBAAmB,EACxBnS,KAAKqS,WAAY,EACjBrS,KAAKH,MAAM3H,aAAa,EAAG,KAAM8H,KAAK0S,YACtC1S,KAAKyS,8CAGLzS,KAAKgB,SAAS,CAAE4S,aAAa,IAC7B5T,KAAKkS,OAAQ,EACblS,KAAKoS,YAAa,EAClBpS,KAAKmS,kBAAmB,EACxBnS,KAAKqS,WAAY,EACjBrS,KAAKH,MAAM3H,YAAY,EAAG,KAAM8H,KAAK0S,YACrC1S,KAAKyS,gDAGL,OACEjR,EAAAnC,EAAAoC,cAAA,OACEE,UACExF,OAAOkE,WAAalE,OAAOqX,YACvB,yCACA,yCAGNhS,EAAAnC,EAAAoC,cAAA,OACEE,UACExF,OAAOkE,WAAalE,OAAOqX,YACvB,yBACA,yBAGNhS,EAAAnC,EAAAoC,cAACqS,GAAA,EAAD,CACEC,KAAM/T,KAAKpJ,MAAMgd,YACjB1O,KAAK,OACLvD,UAAU,gBACVqS,OAAO,QAEPxS,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMlO,OAAP,sBACApE,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMjO,QAAP,KACErE,EAAAnC,EAAAoC,cAACwS,GAAA5U,EAAD,CAAc1J,KAAK,OAAOue,MAAM,cAGnClU,KAAK5H,OACJoJ,EAAAnC,EAAAoC,cAAC0S,GAAD,CACE5S,IAAG,SAAA1M,OAAWmL,KAAK1H,SACnBF,MAAO4H,KAAK5H,MACZR,YAAaoI,KAAKpI,YAClBU,QAAS0H,KAAK1H,QACdkV,YAAaxN,KAAKH,MAAM2N,YACxB4G,iBAAkBpU,KAAKH,MAAMuU,iBAC7BlH,WAAYlN,KAAKpJ,MAAMsW,WACvBC,YAAanN,KAAKpJ,MAAMuW,YACxB9F,WAAYrH,KAAKqH,WACjB4F,cAAejN,KAAKiN,cACpBS,iBAAkB1N,KAAK0N,iBACvBtG,SAAUpH,KAAKoH,SACf7R,OAAQyK,KAAKH,MAAMtK,OACnBqU,KAAM5J,KAAKpJ,MAAMgT,OAGN,MAAd5J,KAAK5H,OAAiBoJ,EAAAnC,EAAAoC,cAAA,8BAEzBD,EAAAnC,EAAAoC,cAAA,OACEE,UACExF,OAAOkE,WAAalE,OAAOqX,YACvB,mCACA,mCAGNhS,EAAAnC,EAAAoC,cAAC4S,GAAD,CACE9S,IAAG,kBAAA1M,OAAoBmL,KAAK1H,SAC5BV,YAAaoI,KAAKpI,YAClB+W,WAAY3O,KAAK2O,WACjBH,WAAYxO,KAAKwO,WACjBpH,SAAUpH,KAAKoH,SACfwC,KAAM5J,KAAKpJ,MAAMgT,KACjB8D,iBAAkB1N,KAAK0N,iBACvBnY,OAAQyK,KAAKH,MAAMtK,OACnB0Y,SAAU9R,OAAOqX,YAAcrX,OAAOkE,WACtCvI,MAAOkI,KAAKH,MAAM2N,YAClBjV,SAAUyH,KAAKH,MAAMtH,SACrB8B,UAAW2F,KAAKH,MAAMxF,UACtB4D,eAAgB+B,KAAK/B,eACrB/F,YAAa8H,KAAKH,MAAM3H,YACxBoY,MAAOtQ,KAAKH,MAAMrH,MAClBoZ,KAAM5R,KAAK4R,KACX5V,KAAMgE,KAAKhE,KACX+V,KAAM/R,KAAK+R,KACXF,KAAM7R,KAAK6R,gBAzTS9O,cAkWjBW,eAlCS,SAAA9M,GAAS,IACvBD,EAA+CC,EAA/CD,KAAMiB,EAAyChB,EAAzCgB,YAAarC,EAA4BqB,EAA5BrB,OAAQ6C,EAAoBxB,EAApBwB,MAAOG,EAAa3B,EAAb2B,SAI1C,MAHoC,oBAAzBX,EAAYnD,UACrBmD,EAAYnD,SAASmD,EAAYA,aAE5B,CACLA,YAAaA,EAAYA,YACzB9B,SAAUa,EAAKb,SACfuE,UAAW9B,EAAS8B,UACpB9E,OAAQA,EAAOA,OACf6C,MAAOA,EAAMA,MACbkc,UAAWlc,EAAMN,MACjBsc,iBAAkBxc,EAAYE,MAC9BQ,QAASF,EAAME,QACfkV,YAAapV,EAAMN,MACnBS,SAAUH,EAAMG,SAChBC,MAAOJ,EAAMI,MACb4E,QAASzG,EAAKuG,kBAGS,SAAAxI,GACzB,OAAOoP,YACL,CACEtM,iBACAF,kBACAU,WACAxD,YACA0D,cACA+F,kBACAF,iBAEFrJ,IAGWgP,CAGbsO,uBClXIuC,GAAQ,CACZ,CACEhT,IAAK,UACLnJ,cAAOoc,EACPC,QAAS,CACPC,OAAQ,uBACRC,KAAM,uBACNxa,YACE,8OAiFOya,eA1Eb,SAAAA,EAAY/U,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAA4U,IACjB9U,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAA2d,GAAAzU,KAAAH,KAAMH,KACDjJ,MAAQ,CACXie,YAAa,EACbC,aAAc,MAEhBhV,EAAKiV,UAAYjV,EAAKiV,UAAUvU,KAAfvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACjBA,EAAKkV,SAAWlV,EAAKkV,SAASxU,KAAdvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAPCA,2EASTe,GACRb,KAAKgB,SAAS,CAAE8T,aAAc,wCAEvBL,GACP,QAAAtF,EAAA,EAAA8F,EAAiBV,GAAjBpF,EAAA8F,EAAAne,OAAAqY,IAAwB,CAAnB,IAAI+F,EAAID,EAAA9F,GACP+F,EAAK3T,MAAQkT,GACfzU,KAAKgB,SAAS,CACZ8T,aACEtT,EAAAnC,EAAAoC,cAACqS,GAAA,EAAD,CACE5O,KAAK,QACLiQ,WAAS,EACTC,aAAa,EACbC,QAASrV,KAAK+U,UACdxT,IAAK2T,EAAK3T,KAEVC,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMlO,OAAP,KACGsP,EAAKT,QAAQC,OACdlT,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAeuT,EAAKT,QAAQE,OAE7CnT,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMjO,QAAP,CAAezN,OAAK,EAACkd,WAAS,GAC5B9T,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CAAOG,IAAK2S,EAAK9c,MAAO8M,KAAK,SAASqQ,SAAO,IAC7C/T,EAAAnC,EAAAoC,cAACqS,GAAA,EAAM0B,YAAP,KACEhU,EAAAnC,EAAAoC,cAAA,SAAIyT,EAAKT,QAAQta,oDASxB,IAAA+G,EAAAlB,KACiBA,KAAKpJ,MAArBie,YACR,OACErT,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,QACZ3B,KAAKpJ,MAAMke,aACXP,GAAMpZ,IAAI,SAAA+Z,GACT,OACE1T,EAAAnC,EAAAoC,cAACkE,GAAA,EAAD,CAAMpE,IAAK2T,EAAK3T,KACdC,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CAAOG,IAAK2S,EAAK9c,QACjBoJ,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKE,QAAN,CAAclE,UAAU,gBACtBH,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKC,OAAN,KAAcsP,EAAKT,QAAQC,QAC3BlT,EAAAnC,EAAAoC,cAACkE,GAAA,EAAK8P,KAAN,KAAYP,EAAKT,QAAQE,MACzBnT,EAAAnC,EAAAoC,cAACkE,GAAA,EAAK6P,YAAN,KACGN,EAAKT,QAAQta,YAAYub,OAAO,EAAG,IAAM,QAG7CR,EAAKT,QAAQta,YAAYrD,OAAS,IACjC0K,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKE,QAAN,CAAc8P,OAAK,GACjBnU,EAAAnC,EAAAoC,cAAA,KACEK,QAAS,SAAAjB,GACPK,EAAK8T,SAAS,aAGhBxT,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,kBAAkBqG,KAAK,UALpC,wBA3DUnC,aCbtB6S,GAAe,SAAAC,GACnB,IAAIC,EAAW,IAAIC,KAAK,GACxBD,EAASE,cAAcH,GAOvB,SAAAhhB,OAAUihB,EAASG,mBAAmB,QANxB,CACZC,QAAS,OACTC,KAAM,UACNC,MAAO,OACPC,IAAK,cAKHC,yLAEF,OAAO9U,EAAAnC,EAAAoC,cAAC8U,GAAD,CAAeC,eAAgBZ,YAFvB7S,aAyBJuT,GAJfA,GAAO5S,YAfiB,SAAA9M,GACtB,MAAO,CACLd,SAAUc,EAAMD,KAAKb,SACrBC,SAAUa,EAAMD,KAAKZ,SACrBQ,QAASK,EAAMD,KAAKJ,QACpBF,MAAOO,EAAMD,KAAKN,MAClBK,MAAOE,EAAMD,KAAKD,MAClBT,SAAUW,EAAMD,KAAKV,WAGE,SAAAvB,GACzB,MAAO,CACLA,aAGGgP,CAGL4S,yGC3BIG,WAAoB,CACxBC,EAAGC,KACHC,EAAGD,KACHE,EAAGF,KACHG,EAAGC,KACHC,EAAGD,OA4QUE,eAzQb,SAAAA,EAAYpX,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAiX,IACjBnX,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAggB,GAAA9W,KAAAH,KAAMH,KACDjJ,MAAQ,CAAEsgB,MAAO,MAFLpX,8EAKNhI,GAEKkI,KAAKH,MAAMuB,MAAMtJ,sCAGxBnC,EAAMwhB,EAASrf,GAAO,IAAAoJ,EAAAlB,KACzB5C,EAAU4C,KAAKH,MAAMuB,MAAMtJ,GACjC,OAAKkI,KAAKH,MAAM/J,SAId0L,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACY,UAATzhB,GACCwhB,GACA3V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEoS,QAAM,EACNnS,KAAK,QACLyK,WAAU,SACVC,WAAS,SACTC,iBAAe,OACfhR,KAAK,OACLiD,QAAS9B,KAAKH,MAAMyX,aAGd,UAAT3hB,GACCwhB,GACA3V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEC,KAAK,QACLyK,WAAU,WACVC,WAAS,WACTC,iBAAe,OACfhR,KAAK,UACLiD,QAAS9B,KAAKH,MAAMrG,sBAGvB2d,GACC/Z,EAAQma,QACR/V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,YACLqG,KAAK,QACLyK,WAAU,QACVC,WAAS,QACTC,iBAAe,OACfwH,QAAM,EACNvV,QAAS,WACPZ,EAAKrB,MAAMtG,aAAa6D,EAAQxE,QAIpCue,IACC/Z,EAAQma,SACC,UAAT5hB,GAA6B,YAATA,GAAsByH,EAAQnD,aACnDuH,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,UACLqG,KAAK,QACLyK,WAAU,OACVC,WAAS,eACTC,iBAAe,OACfwH,QAAM,EACNvV,QAAS,WACPZ,EAAKrB,MAAMxG,YAAY+D,EAAQxE,QAInCue,GACA/Z,EAAQma,SACE,UAAT5hB,GAA6B,YAATA,GAAsByH,EAAQnD,aACnDuH,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,OACLqG,KAAK,QACLyK,WAAU,OACVC,WAAS,yBACTC,iBAAe,OACfwH,QAAM,EACNvV,QAAS,WACPZ,EAAKrB,MAAM5G,cAAcmE,EAAQxE,OAKtCue,IACW,UAATxhB,GAAoByH,EAAQnD,aAC7BuH,EAAAnC,EAAAoC,cAAA,OACEE,UAAU,WACVgO,WAAU,OACVC,WAAS,+BACTC,iBAAe,OACf/N,QAAS,WACPZ,EAAKrB,MAAMlH,sBAAsByE,EAAQxE,GAAI,UANjD,KAYDue,IACW,UAATxhB,GAAoByH,EAAQnD,aAC7BuH,EAAAnC,EAAAoC,cAAA,OACEE,UAAU,WACVgO,WAAU,MACVC,WAAS,8BACTC,iBAAe,OACf/N,QAAS,WACPZ,EAAKrB,MAAMlH,sBAAsByE,EAAQxE,GAAI,SANjD,KAYF4I,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,SAASqX,MAAM,SAASta,KAAK,SAC9C6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,WAAWqX,MAAM,SAASta,KAAK,SAChD6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,OAAOqX,MAAM,SAASta,KAAK,SAC5C6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,OAAOqX,MAAM,SAASta,KAAK,SAC5C6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,MAAMqX,MAAM,SAASta,KAAK,SAC3C6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,QAAQqX,MAAM,SAASta,KAAK,UAzGxC6L,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,uCA+GF,IAUH1C,EAVGrD,EAAArR,KAAAmB,EACuCnB,KAAKH,MAA3ClK,EADDwL,EACCxL,KAAMyL,EADPD,EACOC,MAAO3G,EADd0G,EACc1G,OAAQkE,EADtBwC,EACsBxC,aACvB6Y,EAAiBpW,EAAM3G,OAAO,SAAAgd,GAElC,OACEA,EAAKtd,YAAYud,SAASjd,IAC1Bgd,EAAKE,iBAAiBD,SAASjd,IAC/Bgd,EAAKG,MAAMF,SAASjd,KAIxB,OAAQ9E,GACR,IAAK,QACH+e,EAAS,sBACT,MACF,IAAK,UACHA,EAAS,mCACT,MACF,IAAK,YACHA,EAAS,8CACT,MACF,IAAK,UACHA,EAAS,0CACT,MACF,QACEA,EAAS,wBAGX,OAA8B,IAA1B8C,EAAe1gB,OACV0K,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,MAGP5V,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACGpX,KAAKpJ,MAAMsgB,MACZ1V,EAAAnC,EAAAoC,cAACoW,GAAA,EAAD,KACErW,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAMwG,GACjBlT,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKmS,MAAN,KACGN,EAAerc,IAAI,SAACsc,EAAM3f,GAAU,IAEjC8f,EAMEH,EANFG,MACAzd,EAKEsd,EALFtd,YACA1D,EAIEghB,EAJFhhB,eACAshB,EAGEN,EAHFM,YACA9d,EAEEwd,EAFFxd,WACA+d,EACEP,EADFO,SAEIC,EACJzW,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKC,OAAN,KACEpE,EAAAnC,EAAAoC,cAACW,GAAA,EAAD,CAAOG,IAAKkU,GAAkBsB,GAAc7S,KAAK,UACjD1D,EAAAnC,EAAAoC,cAACwD,GAAA,EAAK6S,MAAN,CAAYI,SAAS,OAAOhT,KAAK,SAC9B8S,GACCxW,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,OACL8Q,WAAU,WACVC,WAAS,qBACTC,iBAAe,SAEjBrO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CACEzG,GAAG,WACHqX,MAAM,SACNta,KAAK,UAIVc,GACC+K,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,WACL8Q,WAAU,UACVC,WAAS,kBACTC,iBAAe,SAEjBrO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,UAAUqX,MAAM,SAASta,KAAK,UAGlDsE,GACCuH,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,SACL8Q,WAAU,SACVC,WAAS,iBACTC,iBAAe,SAEjBrO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,SAASqX,MAAM,SAASta,KAAK,WAGhDsE,GACAuH,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,OACL8Q,WAAU,UACVC,WAAS,kBACTC,iBAAe,SAEjBrO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,UAAUqX,MAAM,SAASta,KAAK,UAGlDgJ,EAAaoZ,GAAajZ,OACzB0C,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,OACL8Q,WAAU,QACVC,WAAS,gBACTC,iBAAe,SAEjBrO,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,QAAQqX,MAAM,SAASta,KAAK,YAMjDwiB,EACJ3W,EAAAnC,EAAAoC,cAACkE,GAAA,EAAK6P,YAAN,KACEhU,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CAAQI,QAASuP,EAAK+G,aAAatgB,IACjC0J,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAM0J,IAEnBpW,EAAAnC,EAAAoC,cAAA,WACCtH,GAGCke,EAAUhH,EAAKiH,WAAW3iB,EAAMc,EAAgBqB,GAGtD,OACE0J,EAAAnC,EAAAoC,cAACkE,GAAA,EAAD,CAAMpE,IAAKqW,GACTpW,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKE,QAAN,KACGoS,EACAE,GAEH3W,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKE,QAAN,CAAc8P,OAAK,GAAE0C,gBA/PFE,IAAMxV,qBCVrCyV,ICPgCD,IAAMxV,UDOf,SAAA0V,GAgB3B,OAfaxhB,OAAOqK,KAAKmX,GACFtd,IAAI,SAACoG,EAAKzJ,GAC/B,IAAMmH,EAAQwZ,EAASlX,GACvB,MAAO,CACLA,IAAKzJ,EACLnC,KAAMsJ,EAAMtJ,KACZwE,YAAa8E,EAAM9E,YACnB+E,EAAGD,EAAMC,EACTC,EAAGF,EAAME,EACTC,EAAGH,EAAMG,EACTC,EAAGJ,EAAMI,EACTzE,KAAK,EACL8d,UAAU,OAKVC,GAAe,SAAAzE,GACnB,IAAMhV,EAAI,IAAMgV,EAAMhV,EAChBC,EAAI,IAAM+U,EAAM/U,EAChBC,EAAI,IAAM8U,EAAM9U,EACtB,cAAAvK,OAAeqK,EAAf,KAAArK,OAAoBsK,EAApB,KAAAtK,OAAyBuK,EAAzB,UAsLawZ,eAnLb,SAAAA,EAAY/Y,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAA4Y,IACjB9Y,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAA2hB,GAAAzY,KAAAH,KAAMH,KACDjJ,MAAQ,CACXrB,OAAQijB,GAAqB1Y,EAAKD,MAAMtK,QACxCsjB,eAAgB,MAElB/Y,EAAKgZ,cAAgBhZ,EAAKgZ,cAActY,KAAnBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACrBA,EAAKiZ,WAAajZ,EAAKiZ,WAAWvY,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAKkZ,OAASlZ,EAAKkZ,OAAOxY,KAAZvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACdA,EAAKmZ,YAAcnZ,EAAKmZ,YAAYzY,KAAjBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACnBA,EAAKoZ,YAAcpZ,EAAKoZ,YAAY1Y,KAAjBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACnBA,EAAKqZ,SAAWrZ,EAAKqZ,SAAS3Y,KAAdvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAChBA,EAAKsZ,OAAStZ,EAAKsZ,OAAO5Y,KAAZvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAZGA,0EAcVe,GACPA,EAAIwY,iBADQ,IAGNC,EADatZ,KAAKpJ,MAAhBrB,OACoBgkB,KAAK,SAACla,EAAGD,GACnC,OAAIC,EAAEkC,IAAMnC,EAAEmC,KACJ,EACClC,EAAEkC,IAAMnC,EAAEmC,IACZ,EAEF,IAEHzK,EAASwiB,EAAaxiB,OAC5BwiB,EAAazb,KAAK,CAChB0D,IAAKzK,EAAS,EAAIwiB,EAAaxiB,EAAS,GAAGyK,IAAM,EAAI,EACrD5L,KAAM,YACNwE,YAAa,GACb+E,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHzE,KAAK,EACL8d,UAAU,IAEZ1Y,KAAKgB,SAAS,CAAEzL,OAAQ+jB,0CAEZzY,EAAK/I,GACjB+I,EAAIwY,iBACJrZ,KAAKgB,SAAS,CAAE6X,eAAgB/gB,yCAGhCkI,KAAKgB,SAAS,CAAE6X,eAAgB,sCAG3BhY,GACL3L,QAAQC,IAAI6K,KAAKpJ,OACjBoJ,KAAKH,MAAMvK,UAAU0K,KAAKpJ,MAAMrB,uCAE3BuC,EAAOnC,EAAMuG,GAAO,IACjB3G,EAAWyK,KAAKpJ,MAAhBrB,OACRA,EAAOuC,GAAOnC,GAAQuG,EACtB8D,KAAKgB,SAAS,CAAEzL,+CAENsL,EAAK/I,GACf+I,EAAIwY,iBADkB,IAEd9jB,EAAWyK,KAAKpJ,MAAhBrB,OACRL,QAAQC,IAAI,SAAU2C,GACtBvC,EAAOoe,OAAO7b,EAAO,GACrBkI,KAAKgB,SAAS,CAAEzL,+CAEN2e,GAAO,IAAAsF,EACMtF,EAAMuF,IAArBva,EADSsa,EACTta,EAAGC,EADMqa,EACNra,EAAGC,EADGoa,EACHpa,EAAGC,EADAma,EACAna,EADAqa,EAEgB1Z,KAAKpJ,MAAhCrB,EAFWmkB,EAEXnkB,OAAQsjB,EAFGa,EAEHb,eACdtjB,EAAOsjB,GAAP,EAA8B3Z,EAC9B3J,EAAOsjB,GAAP,EAA8B1Z,EAC9B5J,EAAOsjB,GAAP,EAA8BzZ,EAC9B7J,EAAOsjB,GAAP,EAA8BxZ,EAC9B9J,EAAOsjB,GAAP,UAAqC,EACrC7Y,KAAKgB,SAAS,CAAEzL,4CAET,IAAA2L,EAAAlB,KAAA2Z,EAC4B3Z,KAAKpJ,MAAhCrB,EADDokB,EACCpkB,OAAQsjB,EADTc,EACSd,eACZ3E,EAAQ,CAAEhV,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAOnC,OANsB,MAAlBwZ,IACF3E,EAAMhV,EAAI3J,EAAOsjB,GAAgB3Z,EACjCgV,EAAM/U,EAAI5J,EAAOsjB,GAAgB1Z,EACjC+U,EAAM9U,EAAI7J,EAAOsjB,GAAgBzZ,EACjC8U,EAAM7U,EAAI9J,EAAOsjB,GAAgBxZ,GAGjCmC,EAAAnC,EAAAoC,cAACkD,GAAA,EAAD,CAAMC,SAAU5E,KAAKoZ,QACnB5X,EAAAnC,EAAAoC,cAACqS,GAAA,EAAD,CACEC,KAAwB,MAAlB8E,EACN1D,WAAS,EACTE,QAASrV,KAAK+Y,WACd7T,KAAK,QAEL1D,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMlO,OAAP,wBACmB,IACU,MAA1BrQ,EAAOsjB,GAA0BtjB,EAAOsjB,GAAgBljB,KAAO,IAElE6L,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMjO,QAAP,KACErE,EAAAnC,EAAAoC,cAACqS,GAAA,EAAM0B,YAAP,KACEhU,EAAAnC,EAAAoC,cAACmY,GAAA,aAAD,CAAcC,iBAAkB7Z,KAAKiZ,YAAa/E,MAAOA,OAI/D1S,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,UACA1M,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEwS,MAAM,QACNpS,QAAS9B,KAAKmZ,SACdW,KAAK,OACLrF,QAAQ,cAEVjT,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKjD,OAAN,CAAa+S,QAAQ,WACrBjT,EAAAnC,EAAAoC,cAAA,WACAD,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKmS,MAAN,KACGviB,EAAO4F,IAAI,SAAC8D,EAAOnH,GAClB,OACE0J,EAAAnC,EAAAoC,cAACkE,GAAA,EAAD,CAAMpE,IAAG,GAAA1M,OAAKoK,EAAMsC,MAClBC,EAAAnC,EAAAoC,cAACkE,GAAA,EAAKE,QAAN,KACErE,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACElG,MAAM,OACNmG,YAAY,OACZkJ,aAAcrP,EAAMtJ,KACpB2P,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK8X,OAAOlhB,EAAO,OAAQkiB,EAAE9d,UAGjCsF,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACElG,MAAM,cACNmG,YAAY,cACZkJ,aAAcrP,EAAM9E,YACpBmL,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK8X,OAAOlhB,EAAO,cAAekiB,EAAE9d,UAGxCsF,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEI,QAAS,SAAAjB,GACPK,EAAK4X,cAAcjY,EAAK/I,IAE1BkN,MAAO,CACLuM,gBAAe,QAAA1c,OAAUoK,EAAMC,EAAhB,KAAArK,OAAqBoK,EAAME,EAA3B,KAAAtK,OAAgCoK,EAAMG,EAAtC,KAAAvK,OACboK,EAAMI,EADO,OAKjBmC,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAK,aACLqV,MAAOyE,GAAa,CAClBzZ,EAAGD,EAAMC,EACTC,EAAGF,EAAME,EACTC,EAAGH,EAAMG,EACTC,EAAGJ,EAAMI,MAGbmC,EAAAnC,EAAAoC,cAAA,QACEuD,MAAO,CACLkP,MAAOyE,GAAa,CAClBzZ,EAAGD,EAAMC,EACTC,EAAGF,EAAME,EACTC,EAAGH,EAAMG,EACTC,EAAGJ,EAAMI,MAIZ,UAGLmC,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEoY,KAAK,gBACLhY,QAAS,SAAAjB,GACPK,EAAKgY,YAAYrY,EAAK/I,WAQpC0J,EAAAnC,EAAAoC,cAAA,WACAD,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKjD,OAAN,CAAa+S,QAAQ,mBA/KS8D,IAAMxV,8BE+tB7BkX,uBA/uBb,SAAAA,EAAYpa,GAAO,IAAAC,EAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAia,GAAA,IAAAC,GACjBpa,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAgjB,GAAA9Z,KAAAH,KAAMH,KAWGA,MAAMzC,QATbtD,EAHeogB,EAGfpgB,QACAC,EAJemgB,EAIfngB,QACAC,EALekgB,EAKflgB,UACArE,EANeukB,EAMfvkB,KACAwE,EAPe+f,EAOf/f,YACAC,EARe8f,EAQf9f,gBACAH,EATeigB,EASfjgB,WACAkgB,EAVeD,EAUfC,cACAC,EAXeF,EAWfE,QAEMzb,EAAiBmB,EAAKD,MAAtBlB,aACJtE,EAAY8f,EAAchf,IAAI,SAAAT,GAChC,MAAO,CACLY,aAAcZ,EAAImE,KAClBwb,cAAe3f,EAAIoE,MACnBwb,eAAgB5f,EAAI6f,OACpBC,eAAgB9f,EAAI+f,OACpBC,SAAUhgB,EAAIigB,MACdC,QAASlgB,EAAImE,KACbgc,UAAWngB,EAAI6f,OACfO,UAAWpgB,EAAI+f,OACf9f,SAAS,EACTC,KAAK,EACL8R,SAAS,KAGP+G,EAAc,CAClBmH,QAAS,GACT3f,QAAS,KACT8f,SAAUpc,EAAahJ,GAAMmJ,MAC7B+b,UAAW,EACXC,UAAW,EACXE,UAAW,EACXC,WAAY,IACZC,gBAAiB,EACjBC,gBAAgB,EAChBxgB,SAAS,EACTC,KAAK,GAxCU,OA0CjBkF,EAAKlJ,MAAQ,CACXwG,QAAS,CACPtD,UACAC,UACAC,YACAE,MAAO4F,EAAKD,MAAM5J,SAClBN,OACAwE,cACAC,kBACAC,YACAJ,aACAkhB,gBAAgB,GAElB1H,cACA2G,UACAgB,WAAY5Z,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,oBAAoBqG,KAAK,QAChDmW,SAAU,MAEZvb,EAAK+Q,UAAY,KACjB/Q,EAAKwb,SAAWxb,EAAKwb,SAAS9a,KAAdvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAChBA,EAAKyb,QAAUzb,EAAKyb,QAAQ/a,KAAbvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACfA,EAAK0b,WAAa1b,EAAK0b,WAAWhb,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAKiK,UAAYjK,EAAKiK,UAAUvJ,KAAfvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACjBA,EAAK2b,eAAiB3b,EAAK2b,eAAejb,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACtBA,EAAK4b,eAAiB5b,EAAK4b,eAAelb,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACtBA,EAAK6b,UAAY7b,EAAK6b,UAAUnb,KAAfvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACjBA,EAAKwF,SAAWxF,EAAKwF,SAAS9E,KAAdvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAChBA,EAAK8b,gBAAkB9b,EAAK8b,gBAAgBpb,KAArBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACvBA,EAAK+b,oBAAsB/b,EAAK+b,oBAAoBrb,KAAzBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAC3BA,EAAKgc,iBAAmBhc,EAAKgc,iBAAiBtb,KAAtBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACxBA,EAAKic,oBAAsBjc,EAAKic,oBAAoBvb,KAAzBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAC3BA,EAAKkc,kBAAoBlc,EAAKkc,kBAAkBxb,KAAvBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACzBA,EAAKmc,eAAiBnc,EAAKmc,eAAezb,KAApBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACtBA,EAAKoc,iBAAmBpc,EAAKoc,iBAAiB1b,KAAtBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACxBA,EAAKqc,kBAAoBrc,EAAKqc,kBAAkB3b,KAAvBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACzBA,EAAKsc,aAAetc,EAAKsc,aAAa5b,KAAlBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KA7EHA,iFA+EHnK,GACd,OAAa,IAATA,GAAuB,IAATA,EACTghB,KAEAI,uCAID9b,GAAS,IACXwY,EAAgBzT,KAAKpJ,MAArB6c,YAUN,OAPuB,IAAnBxY,EAAQnE,SACiB,MAAvB2c,EAAYxY,SACdkB,OAAOC,IAAIC,gBAAgBoX,EAAYxY,QAAQqB,SAEjDmX,EAAYxY,QAAUA,EAAQ,IAEhCwY,EAAY0H,gBAAiB,EACtBnb,KAAKgB,SAAS,CAAEyS,uDAGV5S,GAAK,IACZ4S,EAAgBzT,KAAKpJ,MAArB6c,YACNA,EAAY0H,gBAAiB,EAC7Bnb,KAAKgB,SAAS,CAAEyS,uDAGH5S,GAAK,IACZ4S,EAAgBzT,KAAKpJ,MAArB6c,YACNA,EAAY0H,gBAAiB,EAC7Bnb,KAAKgB,SAAS,CAAEyS,uDAGH5S,GACbA,EAAIwY,iBADc,IAEZ5F,EAAgBzT,KAAKpJ,MAArB6c,YACNve,QAAQC,IAAIse,GAHM,IAIVrW,EAAY4C,KAAKpJ,MAAjBwG,QACR,GAA2B,MAAvBqW,EAAYxY,SAA2C,KAAxBwY,EAAYmH,QAA/C,CAGA,IAAIyB,EAAiBjf,EAAQ/C,UAC1BI,OAAO,SAAAC,GACN,OAAQA,EAAIC,UAEbQ,IAAI,SAAAT,GACH,OAAOA,EAAIkgB,UAEXyB,EAAe3E,SAASjE,EAAYmH,UAGpCyB,EAAevlB,QAAU,KAG7BsG,EAAQ/C,UAAUwD,KAAK4V,GACvBzT,KAAKgB,SAAS,CAAE5D,YAChB4C,KAAKkc,gEAGL,IAAII,EAAgB,CAClB1B,QAAS,GACTD,MAAO,EACP1f,QAAS,KACT8f,SAAU/a,KAAKH,MAAMlB,aAAaqB,KAAKpJ,MAAMwG,QAAQzH,MAAMmJ,MAC3D+b,UAAW,EACXC,UAAW,EACXE,UAAW,EACXC,WAAY,IACZC,gBAAiB,EACjBC,gBAAgB,EAChBxgB,SAAS,EACTC,KAAK,GAGCK,EAAY+E,KAAKpJ,MAAM6c,YAAvBxY,QACO,MAAXA,GACFkB,OAAOC,IAAIC,gBAAgBpB,EAAQqB,SAErC0D,KAAKgB,SAAS,CAAEyS,YAAa6I,6CAGdxkB,EAAOnC,EAAMuG,GAAO,IAC3BkB,EAAY4C,KAAKpJ,MAAjBwG,QACRA,EAAQ/C,UAAUvC,GAAOnC,GAAQuG,EACjCkB,EAAQ/C,UAAUvC,GAAO4U,SAAU,EACnC1M,KAAKgB,SAAS,CAAE5D,wDAGEzH,EAAMuG,GAAO,IACzBuX,EAAgBzT,KAAKpJ,MAArB6c,YACNA,EAAY9d,GAAQuG,EACpB8D,KAAKgB,SAAS,CAAEyS,uDAGH3b,GAAO,IACZsF,EAAY4C,KAAKpJ,MAAjBwG,QACAnC,EAAYmC,EAAQ/C,UAAUvC,GAA9BmD,QACO,MAAXA,GACFkB,OAAOC,IAAIC,gBAAgBpB,EAAQqB,SAErCc,EAAQ/C,UAAUvC,GAAO6C,SAAU,EACnCqF,KAAKgB,SAAS,CAAE5D,wDAGE,IACVA,EAAY4C,KAAKpJ,MAAjBwG,QACa,MAAjBA,EAAQlD,OAAkBkD,EAAQtD,QAAQ4d,SAASta,EAAQlD,OAI/D8F,KAAKH,MAAMhG,cACTuD,EAAQtD,QACRsD,EAAQrD,QACRqD,EAAQpD,UACRoD,EAAQnD,WACRmD,EAAQlD,MACRkD,EAAQjD,YACRiD,EAAQhD,gBACRgD,EAAQzH,KACRyH,EAAQ/C,WAZRkiB,MAAM,oEAgBAC,GAAQ,IAERC,EAAwBD,EAAxBC,OAAQC,EAAgBF,EAAhBE,YAChB,GAAmB,MAAfA,GAAuBA,EAAYC,cAAgBF,EAAOE,YAC5D3c,KAAKsb,SAASmB,EAAOE,YAAaF,EAAO3kB,MAAO4kB,EAAY5kB,YACvD,GAAmB,MAAf4kB,EAAqB,CAC9B,IAAMjF,EAAOzX,KAAKwb,WAAWiB,EAAOE,YAAaF,EAAO3kB,OACxDkI,KAAKub,QAAQmB,EAAYC,YAAaD,EAAY5kB,MAAO2f,qCAIpD7e,EAAIgkB,EAAMC,GACjB,GAAID,GAAQC,EAAZ,CADuB,IAIfzf,EAAY4C,KAAKpJ,MAAjBwG,QACJqf,EAASrf,EAAQxE,GACjB6e,EAAOgF,EAAOG,GAClBH,EAAO9I,OAAOiJ,EAAM,GACpBH,EAAO9I,OAAOkJ,EAAM,EAAGpF,GACvBzX,KAAKgB,SAAS,CAAE5D,gDAGPxE,EAAIkkB,GAAM,IACX1f,EAAY4C,KAAKpJ,MAAjBwG,QACJqa,EAAOra,EAAQxE,GAAIkkB,GAGvB,OAFA1f,EAAQxE,GAAI+a,OAAOmJ,EAAM,GACzB9c,KAAKgB,SAAS,CAAE5D,YACTqa,kCAGD7e,EAAIikB,EAAMpF,GAAM,IACdra,EAAY4C,KAAKpJ,MAAjBwG,QACKA,EAAQxE,GACd+a,OAAOkJ,EAAM,EAAGpF,GACvBzX,KAAKgB,SAAS,CAAE5D,6CAGTzH,EAAMuG,GAAO,IACZkB,EAAY4C,KAAKpJ,MAAjBwG,QACRA,EAAQzH,GAAQuG,EAChB8D,KAAKgB,SAAS,CAAE5D,wDAGEyD,EAAK+K,GAAK,IACpBxO,EAAY4C,KAAKpJ,MAAjBwG,QACRA,EAAQzH,KAAOiW,EAAI1P,MACnBkB,EAAQ2d,SAAW/a,KAAKH,MAAMlB,aAAaiN,EAAI1P,OAAO4C,MACtDkB,KAAKgB,SAAS,CAAE5D,YAChB4C,KAAKkc,6DAEWrT,GACZA,GACFA,EAAK/H,iBAAiB,SAAUd,KAAKoc,mDAI5Bvb,GAEX,IAAIwa,EAAW,KACXD,EAAa,KACbva,EAAIoQ,OAAOG,UAAY,IACzBiK,EACE7Z,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,aACbH,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,kBAAkBqG,KAAK,UAKtCrE,EAAIoQ,OAAOG,UAAYvQ,EAAIoQ,OAAOE,aAClCtQ,EAAIoQ,OAAOC,eAEXkK,EACE5Z,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eACbH,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CAAMpG,KAAK,oBAAoBqG,KAAK,UAI1ClF,KAAKgB,SAAS,CAAEoa,aAAYC,8CAGrB,IAAAna,EAAAlB,KAAA+c,EAWH/c,KAAKpJ,MAAMwG,QATbjD,EAFK4iB,EAEL5iB,YACAC,EAHK2iB,EAGL3iB,gBACAJ,EAJK+iB,EAIL/iB,UACAF,EALKijB,EAKLjjB,QACAC,EANKgjB,EAMLhjB,QACAE,EAPK8iB,EAOL9iB,WACAtE,EARKonB,EAQLpnB,KACA0E,EATK0iB,EASL1iB,UACAH,EAVK6iB,EAUL7iB,MAVKwf,EAY0B1Z,KAAKpJ,MAA9B6c,EAZDiG,EAYCjG,YAAa2G,EAZdV,EAYcU,QACbzb,EAAiBqB,KAAKH,MAAtBlB,aACFqe,EAAiB/lB,OAAOqK,KAAK3C,GAAcxD,IAAI,SAACoG,EAAKzJ,GACzD,MAAO,CACLM,MAAO,CAAE6kB,QAAQ,EAAM1a,IAAKrB,EAAK0a,gBAAgBzkB,SAASoK,KAC1D8N,KAAM1Q,EAAa4C,GAAK1C,KACxB3C,MAAO/E,SAASoK,MAOpB,OACEC,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,oBACA1M,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,8BACbH,EAAAnC,EAAAoC,cAACoW,GAAA,EAAD,CAASlW,UAAU,4BACjBH,EAAAnC,EAAAoC,cAAA,OACEE,UAAU,0BACV+F,IAAK1H,KAAKmc,mBAEV3a,EAAAnC,EAAAoC,cAACkD,GAAA,EAAD,KACEnD,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEsD,MAAO,CAAEkY,MAAO,SAChBvnB,KAAK,SACL6P,SAAS,EACT1D,QAAS9B,KAAKgc,mBAJhB,gBAQAxa,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CACEsD,MAAO,CAAEkY,MAAO,SAChBvnB,KAAK,SACL6P,SAAS,EACT1D,QAAS,WACPZ,EAAKrB,MAAMpG,oBAAoB,QALnC,UAUA+H,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,uBACA1M,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,KACEtW,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACEmJ,aAAcnU,EACdiL,YAAY,sBACZE,SAAU,SAACyU,EAAGC,GACZ9Y,EAAKoE,SAAS,cAAe0U,EAAE9d,QAEjCyT,WAAU,cACVC,WAAS,sFACTC,iBAAe,UAGnBrO,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,oBACA1M,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,KACEtW,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKwY,SAAN,CACE7O,aAAclU,EACdgL,YAAY,iCACZE,SAAU,SAACyU,EAAGC,GACZ9Y,EAAKoE,SAAS,kBAAmB0U,EAAE9d,QAErCyT,WAAU,kBACVC,WAAS,6GACTC,iBAAe,UAGnBrO,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,SACA1M,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,KACEtW,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACEmJ,aAAcpU,EACdoL,SAAU,SAACyU,EAAGC,GACZ9Y,EAAKoE,SAAS,QAAS0U,EAAE9d,WAI/BsF,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,uBACA1M,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,KACEtW,EAAAnC,EAAAoC,cAAC6N,GAAA,EAAD,CACEE,OAAK,EACLC,WAAS,EACTF,QAASyN,EACT1O,aAAc3Y,EACd2P,SAAUtF,KAAK+b,uBAGnBva,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,KACEtW,EAAAnC,EAAAoC,cAAC6N,GAAA,EAAD,CACEE,OAAK,EACLC,WAAS,EACTF,QAjFU,CACxB,CAAEF,KAAM,SAAUnT,OAAO,EAAM4d,KAAM,CAAEjb,KAAM,WAC7C,CAAEwQ,KAAM,UAAWnT,OAAO,EAAO4d,KAAM,CAAEjb,KAAM,UAgFjCyP,aAAcrU,EACdqL,SAAU,SAACyU,EAAGC,GACZ9Y,EAAKoE,SAAS,aAAc0U,EAAE9d,WAKpCsF,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,CAAYnW,UAAU,qBACpBH,EAAAnC,EAAAoC,cAAC2b,GAAA,EAAD,CAAiBrT,UAAW/J,KAAK+J,WAC/BvI,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,6BACbH,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,kBACA1M,EAAAnC,EAAAoC,cAAC2b,GAAA,EAAD,CAAWT,YAAY,aACpB,SAACU,EAAUC,GAAX,OACC9b,EAAAnC,EAAAoC,cAACoW,GAAA,EAAD,CACE7S,MAAO,CACLuM,gBAAiB+L,EAASC,eACtB,OACA,UAGN/b,EAAAnC,EAAAoC,cAAA,OAAKiG,IAAK2V,EAASG,UAChBxjB,EAAUmB,IAAI,SAACsiB,EAAe3lB,GAC7B,OACE0J,EAAAnC,EAAAoC,cAAC2b,GAAA,EAAD,CACE7b,IAAKkc,EACLC,YAAaD,EACb3lB,MAAOA,GAEN,SAAC3D,EAAGwpB,GAAJ,OACCnc,EAAAnC,EAAAoC,cAAA,MAAAxK,OAAAC,OAAA,CACEyK,UAAU,iBACV+F,IAAKvT,EAAEqpB,UACHrpB,EAAEypB,eACFzpB,EAAE0pB,iBAELJ,OAMXjc,EAAAnC,EAAAoC,cAAA,WACC4b,EAASjY,iBAMpB5D,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,2BACbH,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,gBACA1M,EAAAnC,EAAAoC,cAAC2b,GAAA,EAAD,CAAWT,YAAY,WACpB,SAACU,EAAUC,GAAX,OACC9b,EAAAnC,EAAAoC,cAACoW,GAAA,EAAD,CACE7S,MAAO,CACLuM,gBAAiB+L,EAASC,eACtB,OACA,UAGN/b,EAAAnC,EAAAoC,cAAA,OAAKiG,IAAK2V,EAASG,UAChB1jB,EAAQqB,IAAI,SAAC2iB,EAAahmB,GACzB,OACE0J,EAAAnC,EAAAoC,cAAC2b,GAAA,EAAD,CACE7b,IAAKuc,EACLJ,YAAaI,EACbhmB,MAAOA,GAEN,SAAC3D,EAAGwpB,GAAJ,OACCnc,EAAAnC,EAAAoC,cAAA,MAAAxK,OAAAC,OAAA,CACEyK,UAAU,eACV+F,IAAKvT,EAAEqpB,UACHrpB,EAAEypB,eACFzpB,EAAE0pB,iBAELC,OAMXtc,EAAAnC,EAAAoC,cAAA,WACC4b,EAASjY,iBAMpB5D,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,2BACbH,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,gBACA1M,EAAAnC,EAAAoC,cAAC2b,GAAA,EAAD,CAAWT,YAAY,WACpB,SAACU,EAAUC,GAAX,OACC9b,EAAAnC,EAAAoC,cAACoW,GAAA,EAAD,CACE7S,MAAO,CACLuM,gBAAiB+L,EAASC,eACtB,OACA,UAGN/b,EAAAnC,EAAAoC,cAAA,OAAKiG,IAAK2V,EAASG,UAChBzjB,EAAQoB,IAAI,SAAC4iB,EAAajmB,GACzB,OACE0J,EAAAnC,EAAAoC,cAAC2b,GAAA,EAAD,CACE7b,IAAKwc,EACLL,YAAaK,EACbjmB,MAAOA,GAEN,SAAC3D,EAAGwpB,GAAJ,OACCnc,EAAAnC,EAAAoC,cAAA,MAAAxK,OAAAC,OAAA,CACEyK,UAAU,eACV+F,IAAKvT,EAAEqpB,UACHrpB,EAAEypB,eACFzpB,EAAE0pB,iBAELE,OAMXvc,EAAAnC,EAAAoC,cAAA,WACC4b,EAASjY,mBAQxB5D,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,gBACA1M,EAAAnC,EAAAoC,cAACoW,GAAA,EAAD,CAAS7S,MAAO,CAAEuM,gBAAiB,SACjC/P,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,KACEtW,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAM4U,EAAYsH,SAAW,QAAU,SACvC7V,KAAK,QAEP1D,EAAAnC,EAAAoC,cAACuc,GAAA,EAAD,CACEC,OAAQ,CACN,mBACA,qBACA,uBAEFC,UAAU,EACV9D,QAASA,EAAU+D,KAAKC,IAAI,EAAG,IAC/BC,YAAare,KAAKyb,eAClB6C,YAAate,KAAK0b,eAClB/L,WAAU,sBACVC,WACE6D,EAAYsH,SACR,gHACA,kEAENwD,aAAW,EACX1O,iBAAe,OACf2O,OAAQxe,KAAK2b,WAEZ,SAAArX,GAAA,IAAGma,EAAHna,EAAGma,aAAcC,EAAjBpa,EAAiBoa,cAAjB,OACCld,EAAAnC,EAAAoC,cAAA,eACED,EAAAnC,EAAAoC,cAAA,MAAAxK,OAAAC,OAAA,GACMunB,IADN,CAEE9c,UACE8R,EAAY0H,eACR,+BACA,mCAGN3Z,EAAAnC,EAAAoC,cAAA,QAAWid,KACXld,EAAAnC,EAAAoC,cAAA,qEAIwB,MAAvBgS,EAAYxY,SACXuG,EAAAnC,EAAAoC,cAAA,cAAA5M,OAAS4e,EAAYxY,QAAQ0jB,KAA7B,KAAA9pB,QAAsC4e,EAAYxY,QAAQiK,KAAKiZ,KAAKC,IAAI,EAAE,KAAKQ,YAAY,GAA3F,WAMVpd,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKwY,SAAN,CACEle,MAAM,gBACN/C,MAAOuX,EAAYmH,QACnBtV,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK2a,oBAAoB,UAAW7B,EAAE9d,UAG1CsF,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACED,KAAK,QACLvP,KAAK,SACLyY,IAAI,IACJC,IAAI,KACJpP,MAAM,iBACNqP,aAAcmF,EAAYqH,UAC1BxV,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK2a,oBACH,YACA1kB,SAAS6iB,EAAE9d,WAIjBsF,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACED,KAAK,QACLvP,KAAK,SACLyY,IAAI,IACJC,IAAI,KACJpP,MAAM,mBACN/C,MAAOuX,EAAYoH,UACnBvV,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK2a,oBACH,YACA1kB,SAAS6iB,EAAE9d,WAIhBuX,EAAYsH,UACXvZ,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACED,KAAK,QACLvP,KAAK,SACLsJ,MAAM,gBACNmP,IAAI,IACJC,IAAI,MACJnS,MAAOuX,EAAYuH,UACnB1V,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK2a,oBACH,YACA1kB,SAAS6iB,EAAE9d,WAKlBuX,EAAYsH,UACXvZ,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACED,KAAK,QACLvP,KAAK,SACLsJ,MAAM,oBACNmP,IAAI,KACJC,IAAI,MACJnS,MAAOuX,EAAYwH,WACnB3V,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK2a,oBACH,aACA1kB,SAAS6iB,EAAE9d,WAKlBuX,EAAYsH,UACXvZ,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACED,KAAK,QACLvP,KAAK,SACLsJ,MAAM,iBACNmP,IAAI,IACJC,IAAI,KACJnS,MAAOuX,EAAYyH,gBACnB5V,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK2a,oBACH,kBACA1kB,SAAS6iB,EAAE9d,WAKnBsF,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CAAQ8D,SAAO,EAAC1D,QAAS9B,KAAKic,gBAA9B,OAGAza,EAAAnC,EAAAoC,cAACC,GAAA,EAAD,CAAQoQ,WAAS,EAAChQ,QAAS9B,KAAKkc,kBAAhC,WAKJ1a,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,qBACC7T,EAAUc,IAAI,SAACT,EAAK3C,GACnB,OACEyJ,EAAAnC,EAAAoC,cAACoW,GAAA,EAAD,CACEtW,IAAG,GAAA1M,OAAK6F,EAAIkgB,QAAT,KAAA/lB,OAAoB6F,EAAIC,SAC3BqK,MAAO,CAAE6Z,QAASnkB,EAAIC,QAAU,OAAS,UAEzC6G,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKmT,MAAN,KACEtW,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEpG,KAAMnE,EAAIqgB,SAAW,QAAU,SAC/B7V,KAAK,QAEP1D,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,kBACZjH,EAAIggB,SAAWhgB,EAAIggB,SAAW,EADjC,UAGAlZ,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKwY,SAAN,CACEle,MAAM,gBACN/C,MAAOxB,EAAIkgB,QACXtV,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK4a,iBAAiB/jB,EAAK,UAAWiiB,EAAE9d,UAG5CsF,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACED,KAAK,QACLvP,KAAK,SACLyY,IAAI,IACJC,IAAI,IACJpP,MAAM,iBACN/C,MAAOxB,EAAIogB,UACXxV,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK4a,iBACH/jB,EACA,YACAZ,SAAS6iB,EAAE9d,WAIjBsF,EAAAnC,EAAAoC,cAACkD,GAAA,EAAKQ,MAAN,CACED,KAAK,QACLvP,KAAK,SACLyY,IAAI,IACJC,IAAI,IACJpP,MAAM,mBACN/C,MAAOxB,EAAImgB,UACXvV,SAAU,SAACyU,EAAGC,GACZ9Y,EAAK4a,iBACH/jB,EACA,YACAZ,SAAS6iB,EAAE9d,WAIjBsF,EAAAnC,EAAAoC,cAACwD,GAAA,EAAD,CACEiP,MAAM,MACNpS,QAAS,WACPZ,EAAK4d,eAAe/mB,IAEtB8G,KAAK,IACL8Q,WAAU,SACVC,WAAS,mBACTC,iBAAe,OACf3K,KAAK,QACLF,MAAO,CAAEkY,MAAO,eAM1B1b,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,cAAcqX,MAAM,SAASta,KAAK,SACnD6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,kBAAkBqX,MAAM,SAASta,KAAK,SACvD6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CACEzG,GAAG,mBACHmmB,MAAM,EACN9O,MAAM,SACNta,KAAK,SAEP6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CACEzG,GAAG,sBACHmmB,MAAM,EACN9O,MAAM,SACNta,KAAK,SAEP6L,EAAAnC,EAAAoC,cAACuO,GAAA3Q,EAAD,CAAczG,GAAG,SAASqX,MAAM,SAASta,KAAK,YAIpD6L,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,qBACbH,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,aAAa3B,KAAKpJ,MAAMykB,UACvC7Z,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,eAAe3B,KAAKpJ,MAAMwkB,sBAxuBb7C,IAAMxV,+LCT9C,IAAMic,GAAWC,eAAHC,MA2JCC,eAlJb,SAAAA,EAAYtf,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAmf,IACjBrf,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAkoB,GAAAhf,KAAAH,KAAMH,KACDjJ,MAAQ,CACX6D,OAAQ,GACR2kB,mBAAoB,KACpBC,eAAgB,CACd9hB,MAAO,GACPzD,QAAS,GACTC,QAAS,GACTC,UAAW,GACXwD,MAAO,IAEToW,aAAa,EACb0L,cAAc,EACdhI,YAAY,EACZiI,iBAAiB,EACjBC,cAAc,GAEhB1f,EAAKrF,OAASqF,EAAKrF,OAAO+F,KAAZvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KACdA,EAAKwX,WAAaxX,EAAKwX,WAAW9W,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAK2f,WAAa3f,EAAK2f,WAAWjf,KAAhBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAClBA,EAAKtG,oBAAsBsG,EAAKtG,oBAAoBgH,KAAzBvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAC3BA,EAAKxK,UAAYwK,EAAKxK,UAAUkL,KAAfvJ,OAAAwJ,GAAA,EAAAxJ,QAAAwJ,GAAA,EAAAxJ,CAAA6I,KAtBAA,wEA0BZ4f,GACL1f,KAAKgB,SAAS,CAAEvG,OAAQilB,yCAKxB1f,KAAKgB,SAAS,CAAEsW,YAAY,EAAMgI,cAAc,yCAGhDtf,KAAKgB,SAAS,CAAEsW,YAAY,EAAOgI,cAAc,sCAEzC/pB,GACRyK,KAAKH,MAAMvK,UAAUC,GACrByK,KAAKgB,SAAS,CAAEsW,YAAY,EAAOgI,cAAc,kDAIjDtf,KAAKgB,SAAS,CAAE4S,aAAa,IAC7B5T,KAAKH,MAAMrG,wEAIauH,GACxB7L,QAAQC,IAAI6K,KAAKpJ,MAAOmK,EAAW,qCACD,MAA9BA,EAAUtD,kBAA6BuC,KAAKpJ,MAAM4oB,aAOb,MAA9Bze,EAAUtD,kBAA4BuC,KAAKpJ,MAAM4oB,cAC1Dxf,KAAKgB,SAAS,CACZvD,iBAAkB,KAClB+hB,cAAc,EACdF,cAAc,EACd1L,aAAa,IAXf5T,KAAKgB,SAAS,CACZvD,iBAAkBsD,EAAUtD,iBAC5B+hB,cAAc,EACdF,cAAc,EACd1L,aAAa,8CAaD+L,GACS3f,KAAKpJ,uCAGvB,IAAAsK,EAAAlB,KAAAmB,EASHnB,KAAKH,MAFPtK,GAPK4L,EAEL5D,MAFK4D,EAGLnH,UAHKmH,EAILrH,QAJKqH,EAKLpH,QALKoH,EAML3D,MANK2D,EAOL5L,QACAkI,EARK0D,EAQL1D,iBAGF,OADAvI,QAAQC,IAAI6K,KAAKH,MAAOG,KAAKpJ,MAAO,2BAElC4K,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACqS,GAAA,EAAD,CAAOC,KAAM/T,KAAKpJ,MAAMgd,YAAa1O,KAAK,QACxC1D,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMlO,OAAP,mBACApE,EAAAnC,EAAAoC,cAACqS,GAAA,EAAMjO,QAAP,KACErE,EAAAnC,EAAAoC,cAACme,GAAA,WAAD,CACEje,UAAWqd,GACXa,SAAU,KACV3L,MAAO,UACP4L,QAAS9f,KAAKpJ,MAAMgd,gBAIzB5T,KAAKpJ,MAAM0oB,cACV9d,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACmE,GAAA,EAAD,CAAQsI,GAAG,MAAX,YACC,CAAC,QAAS,YAAa,UAAW,UAAW,SAAS/S,IACrD,SAAA4c,GACE,OACEvW,EAAAnC,EAAAoC,cAACse,GAAD,CACExe,IAAKwW,EACLjiB,SAAUoL,EAAKrB,MAAM/J,SACrBH,KAAMoiB,EACN3W,MAAOF,EAAKrB,MAAMkY,GAClBtd,OAAQyG,EAAKtK,MAAM6D,OACnBkE,aAAcuC,EAAKrB,MAAMlB,aACzBtF,YAAa6H,EAAKrB,MAAMxG,YACxBJ,cAAeiI,EAAKrB,MAAM5G,cAC1BO,oBAAqB0H,EAAK1H,oBAC1Bb,sBAAuBuI,EAAKrB,MAAMlH,sBAClCY,aAAc2H,EAAKrB,MAAMtG,aACzB+d,WAAYpW,EAAKoW,gBAO5BtX,KAAKpJ,MAAM4oB,cACVhe,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACue,GAAD,CACE5iB,QAASK,EACTkB,aAAcqB,KAAKH,MAAMlB,aACzBlF,oBAAqBuG,KAAKH,MAAMpG,oBAChCxD,SAAU+J,KAAKH,MAAM5J,SACrB4D,cAAemG,KAAKH,MAAMhG,iBAI/BmG,KAAKpJ,MAAM0gB,YACV9V,EAAAnC,EAAAoC,cAAC2V,GAAA,EAAD,KACE5V,EAAAnC,EAAAoC,cAACwe,GAAD,CACE1qB,OAAQA,EACRoJ,aAAcqB,KAAKH,MAAMlB,aACzBrJ,UAAW0K,KAAK1K,qBA1IEijB,IAAMxV,WCEhCmd,eACJ,SAAAA,EAAYrgB,GAAO,IAAAC,EAAA,OAAA7I,OAAA8I,GAAA,EAAA9I,CAAA+I,KAAAkgB,IACjBpgB,EAAA7I,OAAAgJ,GAAA,EAAAhJ,CAAA+I,KAAA/I,OAAAiJ,GAAA,EAAAjJ,CAAAipB,GAAA/f,KAAAH,KAAMH,KACDjJ,MAAQ,GAFIkJ,sFAKjBE,KAAKH,MAAMtB,WACXyB,KAAKH,MAAMzG,cACX4G,KAAKH,MAAMrL,6CAEJ,IAAA2M,EAYHnB,KAAKH,MAVP/J,EAFKqL,EAELrL,SACAG,EAHKkL,EAGLlL,SACA6D,EAJKqH,EAILrH,QACAyd,EALKpW,EAKLoW,OACA/Z,EANK2D,EAML3D,MACAD,EAPK4D,EAOL5D,MACAxD,EARKoH,EAQLpH,QACAC,EATKmH,EASLnH,UACAzE,EAVK4L,EAUL5L,OACAkI,EAXK0D,EAWL1D,iBAEF,OACE+D,EAAAnC,EAAAoC,cAAC0e,GAADlpB,OAAAmpB,GAAA,EAAAnpB,CAAA,CACEnB,SAAUA,EACVgE,QAASA,EACTyd,OAAQA,EACR/Z,MAAOA,EACPD,MAAOA,EACPxD,QAASA,EACTC,UAAWA,EACX/D,SAAUA,EACVV,OAAQA,EACRD,UAAW0K,KAAKH,MAAMvK,UACtBd,UAAWwL,KAAKH,MAAMrL,UACtB6E,YAAa2G,KAAKH,MAAMxG,YACxBE,aAAcyG,KAAKH,MAAMtG,aACzBN,cAAe+G,KAAKH,MAAM5G,cAC1BO,oBAAqBwG,KAAKH,MAAMrG,oBAChCC,oBAAqBuG,KAAKH,MAAMpG,oBAChCC,uBAAwBsG,KAAKH,MAAMnG,uBACnCf,sBAAuBqH,KAAKH,MAAMlH,sBAClCgG,aAAcqB,KAAKH,MAAMlB,aACzBY,QAASS,KAAKH,MAAMN,QACpB1F,cAAemG,KAAKH,MAAMhG,cAC1B4D,iBAAkBA,GAtBpB,WAuBYuC,KAAKH,MAAM5J,kBA/CG8M,aAwGjBmd,GAJfA,GAAoBxc,YAhDI,SAAA9M,GAAS,IACvB6G,EAAqB7G,EAAMwG,QAA3BK,iBADuB4iB,EAS3BzpB,EAAMwG,QAAQD,SANhBrD,EAH6BumB,EAG7BvmB,QACA0D,EAJ6B6iB,EAI7B7iB,MACAD,EAL6B8iB,EAK7B9iB,MACAxD,EAN6BsmB,EAM7BtmB,QACAC,EAP6BqmB,EAO7BrmB,UACAud,EAR6B8I,EAQ7B9I,OAEM5Y,EAAiB/H,EAAM6H,MAAvBE,aAER,MAAO,CACLpJ,OAFiBqB,EAAXrB,OAESA,OACfO,SAAUc,EAAMD,KAAKb,SACrBC,SAAUa,EAAMD,KAAKZ,SACrBQ,QAASK,EAAMD,KAAKJ,QACpBF,MAAOO,EAAMD,KAAKN,MAClBK,MAAOE,EAAMD,KAAKD,MAClBoD,UACA0D,QACAD,QACAxD,UACAC,YACAud,SACA9Z,mBACAxH,SAAUW,EAAMD,KAAKV,SACrB0I,iBAGuB,SAAAjK,GAAQ,OACjCoP,YACE,CACE1K,cACAC,cACAE,eACA/E,YACAgF,sBACAC,sBACAd,wBACAM,gBACAS,yBACAG,gBACA0E,YACAjJ,aAEFZ,IAEgBgP,CAGlBwc,IChGaI,WAfA,WACb,OACE9e,EAAAnC,EAAAoC,cAAA,OAAKE,UAAU,oBACbH,EAAAnC,EAAAoC,cAAC8e,GAAA,EAAD,CAAOC,UAAWxd,KAClBxB,EAAAnC,EAAAoC,cAAC8e,GAAA,EAAD,KACE/e,EAAAnC,EAAAoC,cAAC8e,GAAA,EAAD,CAAOE,OAAK,EAAC9B,KAAK,IAAI6B,UAAWlK,KACjC9U,EAAAnC,EAAAoC,cAAC8e,GAAA,EAAD,CAAO5B,KAAK,SAAS6B,UAAWza,KAChCvE,EAAAnC,EAAAoC,cAAC8e,GAAA,EAAD,CAAO5B,KAAK,UAAU6B,UAAWja,KACjC/E,EAAAnC,EAAAoC,cAAC8e,GAAA,EAAD,CAAOE,OAAK,EAAC9B,KAAK,YAAY6B,UAAWxO,KACzCxQ,EAAAnC,EAAAoC,cAAC8e,GAAA,EAAD,CAAOE,OAAK,EAAC9B,KAAK,YAAY6B,UAAWN,SCd3CQ,GzBGS,SAAwBC,GAErC,IAAMC,EAAa,GAGnBA,EAAW/iB,KAAKgjB,KAGhB,IAAMC,EAASC,uBAAa,CAC1BC,MAAO,OACPC,WAAW,IAEbL,EAAW/iB,KAAKijB,GAGhB,IAAMrhB,EAASyhB,aAAiB3hB,IAUhC,OATAqhB,EAAW/iB,KAAK4B,GAGF0hB,YACZC,GAAmB7hB,IACnBohB,EACAU,YAAQC,IAAexa,WAAf,EAAmB8Z,KyBzBjBW,GAEdC,iBACEhgB,EAAAnC,EAAAoC,cAAA,WACED,EAAAnC,EAAAoC,cAACggB,EAAA,EAAD,CAAUf,MAAOA,IACflf,EAAAnC,EAAAoC,cAACigB,EAAA,EAAD,CAAiBniB,QAASA,IACxBiC,EAAAnC,EAAAoC,cAACkgB,GAAD,SAIN9W,SAAS+W,eAAe,6BChB1B5tB,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.cd54da44.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/science.d068b534.svg\";","module.exports = __webpack_public_path__ + \"static/media/civic.ac56adb9.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.55a3ffa1.png\";","module.exports = __webpack_public_path__ + \"static/media/broken.972e509b.svg\";","module.exports = __webpack_public_path__ + \"static/media/mouse.b437ecc6.svg\";","import superagent from \"superagent\";\nlet HOST = \"https://ourlabels.org\";\nif (process.env.NODE_ENV === \"development\") {\n  HOST = \"http://localhost:59003\";\n}\n\nexport const agent = superagent.agent();\nexport const HOSTNAME = HOST;\n","import { agent, HOSTNAME } from \"../constants\";\nexport const GOT_LABELS = \"GOT_LABELS\";\n\nexport const getLabels = callback => dispatch => {\n  return agent\n    .withCredentials()\n    .get(`${HOSTNAME}/v1/get/labels`)\n    .end((err, res) => {\n      if (err || res.body == null) {\n        console.log(\"Error\", err);\n        return;\n      } else if (res.body.success) {\n        console.log(\"res body labels: \", res.body);\n        dispatch(gotLabels(res.body));\n      }\n    });\n};\nexport const addLabels = (labels, callback) => dispatch => {\n  return agent\n    .withCredentials()\n    .post(HOSTNAME + \"/v1/add/labels\")\n    .send({ labels })\n    .end((err, res) => {\n      dispatch(getLabels());\n    });\n};\nconst gotLabels = payload => {\n  return { type: GOT_LABELS, labels: payload };\n};\n","import { getLabels } from \"./labels\";\nimport { agent, HOSTNAME } from \"../constants\";\n\nexport const LOGGED_IN = \"LOGGED_IN\";\nexport const SIGNED_UP = \"SIGNED_UP\";\n\nconst loggedIn = payload => ({ type: LOGGED_IN, payload });\n\nexport const signedUp = payload => ({ type: SIGNED_UP, payload });\n\n// because thunks allow functions which resolve\nexport const logIn = (username, password) => dispatch =>\n  agent\n    .post(`${HOSTNAME}/v1/auth/login`)\n    .withCredentials()\n    .set(\"Content-Type\", \"application/x-www-form-urlencoded\")\n    .send({ username, password })\n    .end((err, res) => {\n      if (err || res.body == null) {\n        dispatch(loggedIn(null));\n      } else if (res.body.success) {\n        // emit the action\n        dispatch(loggedIn(res.body));\n        dispatch(getLabels());\n      }\n    });\n\nexport const signUp = (username, password, email) => dispatch =>\n  agent\n    .post(`${HOSTNAME}/v1/auth/signup`)\n    .set(\"Content-Type\", \"application/json\")\n    .send({ username, password, email })\n    .end((err, res) => {\n      if (err || res.body == null) {\n        dispatch(signedUp(false));\n      } else if (res.body.success) {\n        // emit the action\n        dispatch(signedUp(true));\n      }\n    });\n","import { LOGGED_IN, SIGNED_UP } from \"../redux-actions/auth\";\n\nconst initialState = {\n  loggedIn: false,\n  signedUp: false,\n  session: null,\n  username: null,\n  email: null,\n  just_logged_in: false,\n  currentProject: null,\n  score: 0\n};\n\nexport default function auth(state = initialState, action) {\n  if (action.payload) {\n    switch (action.type) {\n    case LOGGED_IN:\n      return Object.assign({}, state, {\n        session: action.payload.session,\n        username: action.payload.username,\n        email: action.payload.email,\n        score: parseInt(action.payload.score, 10),\n        just_logged_in: true,\n        currentProject: action.payload.currentProject,\n        role: action.payload.role,\n        loggedIn: true,\n        signedUp: false\n      });\n    case SIGNED_UP:\n      if (action.payload) {\n        return Object.assign({}, state, {\n          loggedIn: false,\n          signedUp: true,\n          session: null\n        });\n      }\n      return state;\n    default:\n      return state;\n    }\n  }\n  return state;\n}\n","import { agent, HOSTNAME } from \"../constants\";\n\nexport const GOT_ANNOTATIONS = \"GOT_ANNOTATIONS\";\n\nexport const postAnnotations = (boxes, callback) => dispatch => {\n  return agent\n    .withCredentials()\n    .post(HOSTNAME + \"/v1/add/annotation\")\n    .send({ boxes: boxes })\n    .end((err, res) => {\n      if (err || res.body == null) {\n        return;\n      } else if (res.body.success) {\n        // emit the action with payload\n        if (typeof callback === \"function\") {\n          callback();\n        }\n        return;\n      }\n    });\n};\n\nexport const getAnnotations = (offset, callback) => dispatch => {\n  return agent\n    .withCredentials()\n    .get(HOSTNAME + \"/v1/get/annotations\")\n    .query({ offset })\n    .end((err, res) => {\n      if (err || res.body == null) {\n        dispatch(gotAnnotations(null));\n        return;\n      }\n      if (res.body.success) {\n        // emit the action with payload\n        dispatch(gotAnnotations(res.body, callback));\n      }\n    });\n};\nexport const resetAnnotations = () => {\n  return {\n    type: GOT_ANNOTATIONS,\n    annotations: { annotations: [] }\n  };\n};\n\nexport function gotAnnotations(annotations, callback) {\n  return { type: GOT_ANNOTATIONS, annotations, callback };\n}\n","import { GOT_ANNOTATIONS } from \"../redux-actions/annotations\";\n\nconst annotationState = {\n  annotations: []\n};\n\nexport default function annotations(state = annotationState, action) {\n  if (action.annotations) {\n    switch (action.type) {\n    case GOT_ANNOTATIONS:\n      if (typeof action.callback === \"function\") {\n        action.callback();\n      }\n      return Object.assign({}, state, {\n        annotations: action.annotations.boxes,\n        index: action.annotations.idx,\n        callback: action.callback\n      });\n    default:\n      return state;\n    }\n  }\n  return state;\n}\n","import { getAnnotations } from \"./annotations\";\nimport { agent, HOSTNAME } from \"../constants\";\n\nexport const CHANGED_IMAGE = \"CHANGED_IMAGE\";\nexport const NEW_INDEX = \"NEW_INDEX\";\n\nexport const getImage = callback => dispatch => {\n  return agent\n    .withCredentials()\n    .get(HOSTNAME + \"/v1/get/image\")\n    .end((err, res) => {\n      if (err || res.body == null) {\n        dispatch(gotImage(null, callback));\n        return;\n      } else if (res.body.success) {\n        // emit the action with payload\n        dispatch(gotImage(res.body));\n        dispatch(getAnnotations(0, callback));\n        return;\n      }\n    });\n};\n\nexport const updateIndex = (offset, toNumber, callback) => dispatch => {\n  return agent\n    .withCredentials()\n    .post(HOSTNAME + \"/v1/update/index\")\n    .send({ offset, toNumber })\n    .end((err, res) => {\n      dispatch(getImage(callback));\n    });\n};\n\nexport const sendClassifications = (boxes, classifications) => dispatch => {\n  return agent\n    .withCredentials()\n    .post(HOSTNAME + \"/v1/add/annotation\")\n    .set(\"Accept\", \"application/json\")\n    .set(\"Content-Type\", \"application/json\")\n    .send({ boxes: boxes, classifications: classifications })\n    .end((err, res) => {\n      if (err) {\n        return;\n      } else if (res.body.success) {\n        // emit the action with payload\n        // dispatch(incrementIndex());\n      } else {\n        // emit the action, but with null\n        return;\n      }\n    });\n};\n\nconst gotImage = (payload, callback) => {\n  return { type: CHANGED_IMAGE, image: payload, callback };\n};\nconst gotNewIndex = payload => {\n  return { type: NEW_INDEX, index: payload };\n};\n","import { CHANGED_IMAGE, NEW_INDEX } from \"../redux-actions/image\";\nconst imageState = {\n  image: null,\n  imageid: null\n};\nconst indexState = {\n  index: 0\n};\n\nexport const image = (state = imageState, action) => {\n  if (action.image) {\n    switch (action.type) {\n      case CHANGED_IMAGE:\n        if (typeof action.callback === \"function\") {\n          action.callback();\n        }\n        return Object.assign({}, state, {\n          image: action.image.image,\n          imageid: action.image.imageid,\n          index: action.image.index,\n          sequence: action.image.sequence,\n          count: action.image.count\n        });\n      default:\n        return state;\n    }\n  } else {\n    if (typeof action.callback === \"function\") {\n      action.callback();\n    }\n  }\n  return state;\n};\n\nexport const index = (state = indexState, action) => {\n  switch (action.type) {\n    case NEW_INDEX:\n      return Object.assign({}, state, { index: action.index.index });\n    default:\n      return state;\n  }\n};\n","import { getLabels } from \"./labels\";\nimport { agent, HOSTNAME } from \"../constants\";\nconst fileDownload = require(\"js-file-download\");\n\nexport const CHANGED_PROJECT = \"CHANGED_PROJECT\";\nexport const GOT_PROJECTS = \"GOT_PROJECTS\";\nexport const GOT_PROJECT_FOR_UPDATE = \"GOT_PROJECT_FOR_UPDATE\";\nexport const REQUESTED_ACCESS = \"REQUESTED_ACCESS\";\nexport const GOT_FILE = \"GOT_FILE\";\n\nexport const addProject = new_project => dispatch =>\n  agent\n    .post(`${HOSTNAME}/v1/add/project`)\n    .send({ title: new_project.title, description: new_project.description })\n    .end((err, res) => {\n      if (err || res.body == null) {\n        dispatch(changedProject(null));\n      } else if (res.body.success) {\n        dispatch(changedProject(res.body));\n      }\n    });\nexport const getProjectAnnotations = (id, type = \"json\") => dispatch =>\n  agent\n    .withCredentials()\n    .get(`${HOSTNAME}/v1/get/annotations/as/${type}`)\n    .query({ projectId: id }) // will check if project is available\n    .responseType(\"blob\")\n    .then(res => {\n      fileDownload(res.body, \"annotations.tar.bz2\");\n    })\n    .catch(err => {});\nexport const changeProject = project_id => dispatch =>\n  agent\n    .withCredentials()\n    .post(`${HOSTNAME}/v1/change/project`)\n    .send({ project_id }) // will check if project is available\n    .end((err, res) => {\n      if (err || res.body == null) {\n        dispatch(changedProject(null));\n      } else if (res.body.success) {\n        // emit the action with payload\n        dispatch(getProjects());\n        dispatch(getLabels());\n      }\n    });\nexport const joinProject = project_id => (dispatch, getState) =>\n  agent\n    .withCredentials()\n    .post(`${HOSTNAME}/v1/join/project`)\n    .send({ project_id })\n    .end((err, res) => {\n      if (err || res.body == null || !res.body.success) {\n        dispatch(changedProject(null));\n      } else {\n        dispatch(getProjects());\n      }\n    });\n\nexport const leaveProject = project_id => (dispatch, getState) =>\n  agent\n    .withCredentials()\n    .post(`${HOSTNAME}/v1/leave/project`)\n    .send({ project_id })\n    .end((err, res) => {\n      if (err || res.body == null || !res.body.success) {\n        dispatch(changedProject(null));\n      } else {\n        dispatch(getProjects());\n      }\n    });\n\nexport const getProjectForUpdate = () => (dispatch, getState) => {\n  return agent\n    .withCredentials()\n    .get(`${HOSTNAME}/v1/get/projects/update`)\n    .end((err, res) => {\n      if (err || res.body == null || !res.body.success) {\n        dispatch(gotProjectForUpdate(null));\n      } else {\n        dispatch(getLabels());\n        dispatch(gotProjectForUpdate(res.body));\n      }\n    });\n};\nexport const requestAccessToProject = project_name => (dispatch, getState) => {\n  // this would only happen if not specifically allowed (or would be join) or project not public\n  // Therefore the user would be pressing the request button\n  if (getState().auth.loggedIn) {\n    return agent\n      .withCredentials()\n      .post(`${HOSTNAME}/v1/request/project`)\n      .send({ project_name })\n      .end((err, res) => {\n        if (err || res.body == null || !res.body.success) {\n          dispatch(requestedAccess(null));\n        } else {\n          dispatch(requestedAccess(res.body));\n        }\n      });\n  }\n};\n\nexport const updateProject = (\n  allowed,\n  refused,\n  requested,\n  publicType,\n  owner,\n  description,\n  fullDescription,\n  type,\n  sequences\n) => (dispatch, getState) => {\n  if (getState().auth.loggedIn) {\n    const req = agent\n      .withCredentials()\n      .post(`${HOSTNAME}/v1/update/project`)\n      .field(\"allowed[]\", allowed)\n      .field(\"refused[]\", refused)\n      .field(\"requested[]\", requested)\n      .field(\"publicType\", publicType)\n      .field(\"owner\", owner)\n      .field(\"description\", description)\n      .field(\"fullDescription\", fullDescription)\n      .field(\"type\", type);\n    const newSequences = sequences.filter(seq => !seq.deleted && seq.new);\n    const deleteSequences = sequences.filter(seq => !seq.new && seq.deleted);\n\n    let i = 0;\n    for (let j = 0; j < newSequences.length; j += 1) {\n      const begin = i;\n      newSequences[j].begin = begin;\n      newSequences[j].end = begin; // now only using one file\n      req.attach(\"files\", newSequences[j].newFile)\n    }\n\n    const newSequencesFiltered = newSequences.map(seq => {\n      return filterObject(seq, [\n        \"newName\",\n        \"newVideo\",\n        \"newHSplit\",\n        \"newVSplit\",\n        \"newBeginS\",\n        \"newLengthS\",\n        \"newEveryNFrames\",\n        \"begin\",\n        \"end\"\n      ]);\n    });\n    const deleteSequencesFiltered = deleteSequences.map(seq => {\n      return seq.originalName;\n    });\n    req.field(\"new\", JSON.stringify(newSequencesFiltered));\n    req.field(\"delete\", JSON.stringify(deleteSequencesFiltered));\n    req.end((err, res) => {\n      for (const seq of sequences) {\n        if (seq.newFile != null) {\n          window.URL.revokeObjectURL(seq.newFile.preview)\n        }\n      }\n      dispatch(getProjects());\n    });\n  }\n};\n\nconst filterObject = (object, keepAttributes) => {\n  const returnObject = {};\n  if (keepAttributes.length === 0) {\n    return object;\n  }\n  for (const attribute of keepAttributes) {\n    returnObject[attribute] = object[attribute];\n  }\n  return returnObject;\n};\n\nexport const getProjects = () => (dispatch, getState) => {\n  if (getState().auth.loggedIn) {\n    return agent\n      .withCredentials()\n      .get(`${HOSTNAME}/v1/get/projects`)\n      .end((err, res) => {\n        if (err || res.body == null || !res.body.success) {\n          dispatch(gotProjects(null));\n        } else {\n          // emit the action with payload\n          dispatch(gotProjects(res.body));\n        }\n      });\n  }\n  return agent.get(`${HOSTNAME}/v1/get/projects/guest`).end((err, res) => {\n    if (err || res.body == null || !res.body.success) {\n      dispatch(gotProjects(null));\n    } else {\n      // emit the action with payload\n      dispatch(gotProjects(res.body));\n    }\n  });\n};\n\nconst gotFile = payload => ({ type: GOT_FILE, fileBuffer: payload });\n\nconst changedProject = payload => ({\n  type: CHANGED_PROJECT,\n  current_project: payload\n});\n\nconst gotProjects = payload => ({ type: GOT_PROJECTS, projects: payload });\n\nexport const gotProjectForUpdate = payload => ({\n  type: GOT_PROJECT_FOR_UPDATE,\n  project: payload\n});\n\nconst requestedAccess = payload => ({\n  type: REQUESTED_ACCESS,\n  access_requested: payload\n});\n","import { isNull } from \"util\";\nimport {\n  GOT_PROJECTS,\n  CHANGED_PROJECT,\n  GOT_PROJECT_FOR_UPDATE,\n  GOT_FILE\n} from \"../redux-actions/project\";\n\nconst currentProjectState = {\n  projects: {\n    owned: [],\n    requested: [],\n    allowed: [],\n    refused: [],\n    other: []\n  },\n  currentProject: null,\n  projectForUpdate: null\n};\n\nconst project = (state = currentProjectState, action) => {\n  if (action.type === GOT_PROJECTS) {\n    if (isNull(action.projects)) {\n      return state;\n    }\n    const { projects } = action.projects;\n    const owned = [];\n    const requested = [];\n    const allowed = [];\n    const refused = [];\n    const other = [];\n    let currentProject;\n    projects.forEach(aProject => {\n      if (aProject.current_project) {\n        currentProject = aProject.id;\n      }\n      if (aProject.owner) {\n        owned.push(aProject);\n      } else if (aProject.requested) {\n        requested.push(aProject);\n      } else if (aProject.allowed) {\n        allowed.push(aProject);\n      } else if (aProject.refused) {\n        refused.push(aProject);\n      } else {\n        other.push(aProject);\n      }\n    });\n    return Object.assign({}, state, {\n      currentProject,\n      projects: {\n        owned,\n        allowed,\n        requested,\n        refused,\n        other\n      }\n    });\n  } else if (action.type === GOT_FILE) {\n    return state;\n  } else if (action.type === CHANGED_PROJECT) {\n    if (action.current_project == null) {\n      return state;\n    }\n    return Object.assign({}, state, {\n      current_project: action.current_project.current_project\n    });\n  } else if (action.type === GOT_PROJECT_FOR_UPDATE) {\n    return Object.assign({}, state, {\n      projectForUpdate: action.project\n    });\n  }\n  return state;\n};\n\nexport default project;\n","import { agent, HOSTNAME } from \"../constants\";\nimport { getImage } from \"./image\";\nimport { getAnnotations } from \"./annotations\";\n\nexport const GOT_SEQUENCES = \"GOT_SEQUENCES\";\nexport const NEW_SEQUENCE = \"NEW_SEQUENCE\";\n\n// because thunks allow functions which resolve\nexport const getSequences = () => dispatch => {\n  return agent\n    .withCredentials()\n    .get(`${HOSTNAME}/v1/get/sequences`) // knows current_project\n    .end((err, res) => {\n      if (err || res.body == null || !res.body.success) {\n        dispatch(gotSequences(null));\n      } else {\n        // emit the action with payload\n        dispatch(gotSequences(res.body));\n      }\n    });\n};\n\nexport const changeSequence = new_sequence => dispatch => {\n  return agent\n    .withCredentials()\n    .post(`${HOSTNAME}/v1/update/sequence`)\n    .send({ sequence: new_sequence }) // if null sent, gives current sequence\n    .end((err, res) => {\n      if (err || res.body == null || !res.body.success) {\n        gotNewSequence(null);\n        return;\n      } else {\n        // emit the action with payload\n        dispatch(getImage());\n        dispatch(getAnnotations(0));\n        return;\n      }\n    });\n};\n\nconst gotSequences = payload => {\n  return { type: GOT_SEQUENCES, sequences: payload };\n};\n\nconst gotNewSequence = payload => {\n  return { type: NEW_SEQUENCE, current_sequence: payload };\n};\n","import { GOT_SEQUENCES } from \"../redux-actions/sequence\";\n\nconst sequenceState = {\n  sequences: null,\n  current_sequence: null\n};\n\nexport default function sequence(state = sequenceState, action) {\n  switch (action.type) {\n  case GOT_SEQUENCES:\n    return Object.assign({}, state, {\n      sequences: action.sequences.sequences\n    });\n  default:\n    return state;\n  }\n}\n","import { agent, HOSTNAME } from \"../constants\";\nexport const GOT_TYPES = \"GOT_TYPES\";\n\nexport const getTypes = () => dispatch => {\n  return agent.get(`${HOSTNAME}/v1/get/types`).end((err, res) => {\n    if (err) {\n      dispatch(gotTypes(null));\n    } else if (res.body.success) {\n      dispatch(gotTypes(res.body));\n    } else {\n      dispatch(gotTypes(null));\n    }\n  });\n};\n\nconst gotTypes = payload => {\n  return { type: GOT_TYPES, types: payload };\n};\n","import { isNull } from \"util\";\nimport { GOT_TYPES } from \"../redux-actions/types\";\n\nconst currentTypesState = {\n  projectTypes: {}\n};\n\nexport default function types(state = currentTypesState, action) {\n  if (isNull(action.types)) {\n    return state;\n  }\n  switch (action.type) {\n  case GOT_TYPES: {\n    const { projectTypes } = action.types;\n    console.log(\"PROJECT TYPES:\", action);\n    const accumulator = {};\n    projectTypes.forEach(type => {\n      accumulator[type.id] = { name: type.type, video: type.video };\n    });\n    return Object.assign({}, state, {\n      projectTypes: accumulator\n    });\n  }\n  default:\n    return state;\n  }\n}\n","import { GOT_LABELS } from \"../redux-actions/labels\";\n\nconst labelsState = {\n  labels: {}\n};\n\nexport default function labels(state = labelsState, action) {\n  if (action.labels) {\n    switch (action.type) {\n    case GOT_LABELS: {\n      const labelsObject = {};\n      const labelsArray = action.labels.labels.labels;\n      labelsArray.forEach(label => {\n        labelsObject[label.type] = {\n          type: label.type,\n          description: label.description,\n          r: label.r,\n          g: label.g,\n          b: label.b,\n          a: label.a\n        };\n      });\n      const newState = Object.assign({}, state, {\n        labels: labelsObject\n      });\n      return newState;\n    }\n    default:\n      return state;\n    }\n  }\n  return state;\n}\n","import { combineReducers } from \"redux\";\nimport { connectRouter } from \"connected-react-router\";\nimport auth from \"./auth\";\nimport annotations from \"./annotations\";\nimport { image } from \"./image\";\nimport project from \"./project\";\nimport sequence from \"./sequence\";\nimport types from \"./types\";\nimport labels from \"./labels\";\n\nexport default history =>\n  combineReducers({\n    router: connectRouter(history),\n    annotations,\n    auth,\n    image,\n    project,\n    sequence,\n    types,\n    labels\n  });\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport { createBrowserHistory } from \"history\";\nimport thunk from \"redux-thunk\";\nimport { createLogger } from \"redux-logger\";\nimport createRouteReducer from \"../redux-reducers\";\nimport { routerMiddleware } from \"connected-react-router\";\n\nexport const history = createBrowserHistory();\n\nexport default function configureStore(preloadedState) {\n  // Redux Configuration\n  const middleware = [];\n\n  // Thunk Middleware\n  middleware.push(thunk);\n\n  // Logging Middleware\n  const logger = createLogger({\n    level: \"info\",\n    collapsed: true\n  });\n  middleware.push(logger);\n\n  // Router Middleware\n  const router = routerMiddleware(history);\n  middleware.push(router);\n\n  // Create Store\n  const store = createStore(\n    createRouteReducer(history),\n    preloadedState,\n    compose(applyMiddleware(...middleware))\n  );\n\n  return store;\n}\n","import React, { Component } from \"react\";\nimport { Button, Image } from \"semantic-ui-react\";\nimport { elastic as Menu } from \"react-burger-menu\";\nimport logo from \"../assets/logo.png\";\nimport ourlabels from \"../assets/ourlabels.png\";\nimport \"./NavComponent.scss\";\n\nclass NavComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: window.innerWidth,\n      menuOpen: false\n    };\n    this.resize = this.resize.bind(this);\n    this.onMouseOver = this.onMouseOver.bind(this);\n    this.onMouseOut = this.onMouseOut.bind(this);\n    this.closeMenuAndReleaseLabels = this.closeMenuAndReleaseLabels.bind(this);\n  }\n  onMouseOut(evt) {}\n  onMouseOver(evt, value) {}\n  componentWillMount() {\n    this.resize();\n  }\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.resize);\n  }\n  componentWillReceiveProps(nextProps) {}\n  resize() {\n    this.setState({ width: window.innerWidth });\n  }\n  closeMenuAndReleaseLabels() {\n    this.props.releaseLabels();\n    this.setState({ menuOpen: false });\n  }\n  render() {\n    const { items, router } = this.props;\n    console.log(router);\n    let links = Object.keys(items).map(key => {\n      return (\n        <Button\n          key={key}\n          className={router.location.pathname === items[key] ? \"active-link\" : \"inactive-link\"}\n          onClick={()=> {\n            this.props.push(items[key])\n          }}\n        >\n          {key}\n        </Button>\n      );\n    });\n    if (this.state.width > 700) {\n      let new_links = [];\n      for (let link of links) {\n        new_links.push(link);\n        new_links.push(\n          <div className=\"nav-spacer\" key={link.props.children + \"-div\"}>\n            {\"|\"}\n          </div>\n        );\n      }\n      new_links.pop();\n      return (\n        <div className=\"nav-menu\">\n          <a href=\"https://ourlabels.org\">\n            <div className=\"nav-logo-holder\">\n              <Image\n                inline\n                verticalAlign=\"bottom\"\n                src={logo}\n                height=\"50px\"\n                alt=\"The ourlabels logo\"\n                className=\"nav-logo-image\"\n              />\n              <Image\n                inline\n                verticalAlign=\"bottom\"\n                src={ourlabels}\n                height=\"30px\"\n                alt=\"something about ourlabels\"\n                className=\"nav-logo-name\"\n              />\n            </div>\n          </a>\n          {new_links}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"nav-menu-small\">\n          <a href=\"https://ourlabels.org\" className=\"a-logo-small\">\n            <Image\n              src={logo}\n              className=\"nav-logo-small\"\n              id=\"nav-logo\"\n              alt=\"The ourlabels logo\"\n            />\n          </a>\n          <Menu right isOpen={this.state.menuOpen}>\n            {links}\n          </Menu>\n        </div>\n      );\n    }\n  }\n}\nexport default NavComponent;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { push } from \"connected-react-router\";\nimport { resetAnnotations } from \"../../redux-actions/annotations\";\nimport NavComponent from \"../../components/NavComponent.jsx\";\nimport { bindActionCreators } from \"redux\";\n\nclass NavContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.releaseLabels = this.releaseLabels.bind(this);\n    this.logged_in_items_nolabels = { home: \"/\", projects: \"/projects\" };\n    this.logged_in_items = {\n      home: \"/\",\n      annotate: \"/annotate\",\n      projects: \"/projects\"\n    };\n    this.logged_out_items = {\n      home: \"/\",\n      login: \"/login\",\n      signup: \"/signup\",\n      projects: \"/projects\"\n    };\n  }\n  releaseLabels(evt) {\n    this.props.dispatch(resetAnnotations());\n  }\n  render() {\n    const { loggedIn, email, score, username, labels, router, push } = this.props;\n\n    return (\n      <div className=\"nav\">\n        <NavComponent\n          key={`navLoggedIn-${loggedIn}`}\n          email={email}\n          score={score}\n          username={username}\n          router={router}\n          push={push}\n          items={\n            loggedIn\n              ? Object.keys(labels).length > 0\n                ? this.logged_in_items\n                : this.logged_in_items_nolabels\n              : this.logged_out_items\n          }\n          closeMenu={this.props.closeMenu}\n          releaseLabels={this.releaseLabels}\n        />\n        <br />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  const { auth, labels, router } = state;\n  return {\n    labels: labels.labels,\n    loggedIn: auth.loggedIn,\n    signed_up: auth.signed_up,\n    session: auth.session,\n    email: auth.email,\n    score: auth.score,\n    current_project: auth.current_project,\n    owned_projects: auth.owned_projects,\n    all_projects: auth.all_projects,\n    username: auth.username,\n    router\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({ push }, dispatch);\n};\nNavContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NavContainer);\nexport default NavContainer;\n","import React, { Component } from \"react\";\nimport { withFormik } from \"formik\";\nimport {\n  Card,\n  Button,\n  Form,\n  Grid,\n  GridRow,\n  Icon,\n  Image,\n  Input\n} from \"semantic-ui-react\";\nimport ourlabels from \"../assets/ourlabels.png\";\nimport \"./LoginComponent.scss\";\n\nconst LoginForm = ({\n  values,\n  errors,\n  touched,\n  handleChange,\n  handleBlur,\n  handleSubmit,\n  isSubmitting\n}) => (\n  <Form onSubmit={handleSubmit}>\n    <Grid textAlign=\"center\">\n      <GridRow style={{ width: \"100%\" }}>\n        <Icon name=\"user circle outline\" size=\"huge\" />\n      </GridRow>\n      <GridRow style={{ width: \"100%\" }}>\n        {window.innerWidth < 500 && (\n          <Input\n            className=\"login-input\"\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            autoComplete=\"username\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.username}\n          />\n        )}\n        {window.innerWidth >= 500 && (\n          <Input\n            label=\"Username\"\n            className=\"login-input\"\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            autoComplete=\"username\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.username}\n          />\n        )}\n      </GridRow>\n      {touched.username &&\n        errors.username && (\n        <GridRow>\n          <div className=\"error-label\">{errors.username}</div>\n        </GridRow>\n      )}\n      <GridRow style={{ width: \"100%\" }}>\n        {window.innerWidth < 500 && (\n          <Input\n            className=\"login-input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            autoComplete=\"password\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.password}\n          />\n        )}\n        {window.innerWidth >= 500 && (\n          <Input\n            label=\"Password\"\n            className=\"login-input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            autoComplete=\"password\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.password}\n          />\n        )}\n      </GridRow>\n      {touched.password &&\n        errors.password && (\n        <GridRow>\n          <div className=\"error-label\">{errors.password}</div>\n        </GridRow>\n      )}\n      <GridRow style={{ width: \"100%\" }}>\n        <Button\n          className=\"button-login\"\n          type=\"submit\"\n          primary\n          disabled={isSubmitting}\n        >\n          Login\n        </Button>\n      </GridRow>\n    </Grid>\n  </Form>\n);\n\nconst FormikLoginForm = withFormik({\n  // Transform outer props into form values\n  mapPropsToValues: props => ({ username: \"\", password: \"\" }),\n  // Add a custom validation function (this can be async too!)\n  validate: (values, props) => {\n    const errors = {};\n    if (!values.username) {\n      errors.username = \"Required\";\n    }\n    if (!values.password) {\n      errors.password = \"Required\";\n    } else if (values.password.length < 9 || values.password.length > 60) {\n      errors.password = \"Password is between 9 and 60 characters\";\n    }\n    return errors;\n  },\n  handleSubmit: (values, props) => {\n    props.props.handleSubmit(values.username, values.password);\n  }\n})(LoginForm);\n\nclass LoginComponent extends Component {\n  render() {\n    return (\n      <div className=\"login-holder\">\n        <Card className=\"card-login\">\n          <Card.Header className=\"header-login\">\n            <Image src={ourlabels} width=\"30%\" />\n            <h4 className=\"login-header\">Log in</h4>\n          </Card.Header>\n          <Card.Content className=\"content-login\">\n            <FormikLoginForm handleSubmit={this.props.formHandler} />\n          </Card.Content>\n        </Card>\n      </div>\n    );\n  }\n}\nexport default LoginComponent;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport LoginComponent from \"../../components/LoginComponent.jsx\";\nimport { logIn } from \"../../redux-actions/auth\";\n\nclass LoginContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n  componentWillMount() {}\n  componentWillReceiveProps(newProps) {\n    if (newProps.loggedIn) {\n      newProps.history.push(\"/\");\n    }\n  }\n  render() {\n    return <LoginComponent formHandler={this.props.logIn} />;\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    loggedIn: state.auth.loggedIn,\n    signedUp: state.auth.signedUp,\n    session: state.auth.session,\n    email: state.auth.email,\n    score: state.auth.score,\n    current_project: state.auth.current_project,\n    owned_projects: state.auth.owned_projects,\n    all_projects: state.auth.all_projects,\n    username: state.auth.username\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      logIn\n    },\n    dispatch\n  );\n};\nLoginContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginContainer);\nexport default LoginContainer;\n","import React, { Component } from \"react\";\nimport { withFormik } from \"formik\";\nimport {\n  Card,\n  Modal,\n  Button,\n  Form,\n  Grid,\n  GridRow,\n  Icon,\n  Image,\n  Input\n} from \"semantic-ui-react\";\nimport ourlabels from \"../assets/ourlabels.png\";\nimport \"./SignupComponent.scss\";\n\nconst SignupForm = ({\n  values,\n  errors,\n  touched,\n  handleChange,\n  handleBlur,\n  handleSubmit,\n  isSubmitting\n}) => (\n  <Form onSubmit={handleSubmit}>\n    <Grid textAlign=\"center\">\n      <GridRow style={{ width: \"100%\" }}>\n        <Icon name=\"user circle outline\" size=\"huge\" />\n      </GridRow>\n      <GridRow style={{ width: \"100%\" }}>\n        {window.innerWidth < 500 && (\n          <Input\n            className=\"signup-input\"\n            type=\"text\"\n            name=\"email\"\n            placeholder=\"email\"\n            autoComplete=\"email\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.email}\n          />\n        )}\n        {window.innerWidth >= 500 && (\n          <Input\n            label=\"Email\"\n            className=\"signup-input\"\n            type=\"text\"\n            name=\"email\"\n            placeholder=\"email\"\n            autoComplete=\"email\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.email}\n          />\n        )}\n      </GridRow>\n      {touched.email &&\n        errors.email && (\n        <GridRow>\n          <div className=\"error-label\">{errors.email}</div>\n        </GridRow>\n      )}\n      <GridRow style={{ width: \"100%\" }}>\n        {window.innerWidth < 500 && (\n          <Input\n            className=\"signup-input\"\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            autoComplete=\"username\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.username}\n          />\n        )}\n        {window.innerWidth >= 500 && (\n          <Input\n            label=\"Username\"\n            className=\"signup-input\"\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            autoComplete=\"username\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.username}\n          />\n        )}\n      </GridRow>\n      {touched.username &&\n        errors.username && (\n        <GridRow>\n          <div className=\"error-label\">{errors.username}</div>\n        </GridRow>\n      )}\n      <GridRow style={{ width: \"100%\" }}>\n        {window.innerWidth < 500 && (\n          <Input\n            className=\"signup-input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            autoComplete=\"password\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.password}\n          />\n        )}\n        {window.innerWidth >= 500 && (\n          <Input\n            label=\"Password\"\n            className=\"signup-input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            autoComplete=\"password\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.password}\n          />\n        )}\n      </GridRow>\n      {touched.password &&\n        errors.password && (\n        <GridRow>\n          <div className=\"error-label\">{errors.password}</div>\n        </GridRow>\n      )}\n      <GridRow style={{ width: \"100%\" }}>\n        {window.innerWidth < 500 && (\n          <Input\n            className=\"signup-input\"\n            type=\"password\"\n            name=\"retype\"\n            placeholder=\"retype password\"\n            autoComplete=\"password\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.retype}\n          />\n        )}\n        {window.innerWidth >= 500 && (\n          <Input\n            label=\"Retype Password\"\n            className=\"signup-input\"\n            type=\"password\"\n            name=\"retype\"\n            placeholder=\"retype password\"\n            autoComplete=\"password\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            value={values.retype}\n          />\n        )}\n      </GridRow>\n      {touched.retype &&\n        errors.retype && (\n        <GridRow>\n          <div className=\"error-label\">{errors.retype}</div>\n        </GridRow>\n      )}\n      <GridRow style={{ width: \"100%\" }}>\n        <Button\n          className=\"button-signup\"\n          type=\"submit\"\n          primary\n          disabled={isSubmitting}\n        >\n          Signup\n        </Button>\n      </GridRow>\n    </Grid>\n  </Form>\n);\nconst regexpEmail = /^[_A-Za-z0-9-+]+(.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(.[A-Za-z0-9]+)*(.[A-Za-z]{2,})$/;\nconst FormikSignupForm = withFormik({\n  // Transform outer props into form values\n  mapPropsToValues: props => ({\n    username: \"\",\n    password: \"\",\n    retype: \"\",\n    email: \"\"\n  }),\n  // Add a custom validation function (this can be async too!)\n  validate: (values, props) => {\n    const errors = {};\n    if (!values.username) {\n      errors.username = \"Required\";\n    }\n    if (!values.password) {\n      errors.password = \"Required\";\n    } else if (values.password.length < 16 || values.password.length > 60) {\n      errors.password = \"Password must be between 16 and 60 characters\";\n    }\n    if (!values.retype) {\n      errors.retype = \"Required\";\n    } else if (values.retype !== values.password) {\n      errors.retype = \"Password and verification must be the same\";\n    }\n    if (!values.email) {\n      errors.email = \"Required\";\n    } else if (!regexpEmail.test(values.email)) {\n      errors.email = \"Email should be of someuser@ourlables.com\";\n    }\n    return errors;\n  },\n  handleSubmit: (values, props) => {\n    props.props.handleSubmit(values.username, values.password, values.email);\n  }\n})(SignupForm);\n\nclass SignupComponent extends Component {\n  render() {\n    return (\n      <div className=\"signup-holder\">\n        <Card className=\"card-signup\">\n          <Card.Header className=\"header-signup\">\n            <Image src={ourlabels} width=\"30%\" />\n            <h4 className=\"signup-header\">Signup</h4>\n          </Card.Header>\n          <Card.Content className=\"content-signup\">\n            <FormikSignupForm handleSubmit={this.props.formHandler} />\n          </Card.Content>\n        </Card>\n      </div>\n    );\n  }\n}\nexport default SignupComponent;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport SignupComponent from \"../../components/SignupComponent.jsx\";\nimport { signUp } from \"../../redux-actions/auth\";\n\nclass SignupContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      email: \"\"\n    };\n  }\n  componentWillReceiveProps(newProps) {\n    if (newProps.signed_up) {\n      newProps.history.push(\"/login\");\n    }\n  }\n  render() {\n    return <SignupComponent formHandler={this.props.signUp} />;\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    loggedIn: state.auth.loggedIn,\n    signedUp: state.auth.signedUp,\n    session: state.auth.session,\n    email: state.auth.email,\n    score: state.auth.score,\n    current_project: state.auth.current_project,\n    owned_projects: state.auth.owned_projects,\n    all_projects: state.auth.all_projects,\n    username: state.auth.username\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      signUp\n    },\n    dispatch\n  );\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignupContainer);\n","import React, { Component } from \"react\";\nimport { Rect, Circle, Group } from \"react-konva\";\n\nclass LabelBox extends Component {\n  constructor(...props) {\n    super(...props);\n    this.nodes = {};\n    this.update = this.update.bind(this);\n    this.finalizeUpdate = this.finalizeUpdate.bind(this);\n    this.handleRectMove = this.handleRectMove.bind(this);\n    this.getPointsInOrder = this.getPointsInOrder.bind(this);\n  }\n  componentDidMount() {}\n  finalizeUpdate() {\n    if (this.nodes[\"rect\"] && this.props.selected) {\n      this.props.updateDims(\n        this.nodes[\"rect\"].getX(),\n        this.nodes[\"rect\"].getY(),\n        this.nodes[\"rect\"].getWidth(),\n        this.nodes[\"rect\"].getHeight()\n      );\n    }\n  }\n\n  update(ref, selfRun) {\n    let anchor = this.nodes[ref];\n    let X = anchor.getX();\n    if (X < 0.05) {\n      return;\n    }\n    if (Y < 0.05) {\n      return;\n    }\n    let Y = anchor.getY();\n    X =\n      X < 0.05\n        ? 0.05\n        : X > this.props.stageW - 0.05\n          ? this.props.stageW - 0.05\n          : X;\n    Y =\n      Y < 0.05\n        ? 0.05\n        : Y > this.props.stageH - 0.05\n          ? this.props.stageH - 0.05\n          : Y;\n    this.nodes[ref].setX(X);\n    this.nodes[ref].setY(Y);\n    switch (ref) {\n    case \"topLeft\":\n      this.nodes[\"topRight\"].setY(Y);\n      this.nodes[\"bottomLeft\"].setX(X);\n      break;\n    case \"topRight\":\n      this.nodes[\"topLeft\"].setY(Y);\n      this.nodes[\"bottomRight\"].setX(X);\n      break;\n    case \"bottomRight\":\n      this.nodes[\"bottomLeft\"].setY(Y);\n      this.nodes[\"topRight\"].setX(X);\n      break;\n    case \"bottomLeft\":\n      this.nodes[\"bottomRight\"].setY(Y);\n      this.nodes[\"topLeft\"].setX(X);\n      break;\n    }\n    this.getPointsInOrder();\n    this.nodes[\"rect\"].position(this.nodes[\"topLeft\"].position());\n    const width = this.nodes[\"topRight\"].getX() - this.nodes[\"topLeft\"].getX();\n    const height =\n      this.nodes[\"bottomLeft\"].getY() - this.nodes[\"topLeft\"].getY();\n\n    if (width && height) {\n      this.nodes[\"rect\"].setWidth(width);\n      this.nodes[\"rect\"].setHeight(height);\n    }\n  }\n  getPointsInOrder() {\n    let rectH = this.nodes[\"rect\"].getHeight();\n    let rectW = this.nodes[\"rect\"].getWidth();\n    if (rectH <= 0) {\n      // height is negative, means topLeft is below bottomLeft\n      let topY = this.nodes[\"topLeft\"].getY();\n      let bottomY = this.nodes[\"bottomLeft\"].getY();\n      this.nodes[\"topLeft\"].setY(bottomY);\n      this.nodes[\"bottomLeft\"].setY(topY);\n      this.nodes[\"topRight\"].setY(bottomY);\n      this.nodes[\"bottomRight\"].setY(topY);\n    }\n    if (rectW <= 0) {\n      const leftX = this.nodes[\"topLeft\"].getX();\n      const rightX = this.nodes[\"topRight\"].getX();\n      this.nodes[\"topLeft\"].setX(rightX);\n      this.nodes[\"topRight\"].setX(leftX);\n      this.nodes[\"bottomLeft\"].setX(rightX);\n      this.nodes[\"bottomRight\"].setX(leftX);\n    }\n  }\n  handleRectMove(evt) {\n    this.nodes[\"topLeft\"].setX(this.nodes[\"rect\"].getX());\n    this.nodes[\"topLeft\"].setY(this.nodes[\"rect\"].getY());\n    this.nodes[\"topRight\"].setY(this.nodes[\"rect\"].getY());\n    this.nodes[\"topRight\"].setX(\n      this.nodes[\"rect\"].getX() + this.nodes[\"rect\"].getWidth()\n    );\n    this.nodes[\"bottomRight\"].setX(\n      this.nodes[\"rect\"].getX() + this.nodes[\"rect\"].getWidth()\n    );\n    this.nodes[\"bottomRight\"].setY(\n      this.nodes[\"rect\"].getY() + this.nodes[\"rect\"].getHeight()\n    );\n    this.nodes[\"bottomLeft\"].setX(this.nodes[\"rect\"].getX());\n    this.nodes[\"bottomLeft\"].setY(\n      this.nodes[\"rect\"].getY() + this.nodes[\"rect\"].getHeight()\n    );\n  }\n  render() {\n    const r = this.props.type.r;\n    const g = this.props.type.g;\n    const b = this.props.type.b;\n    const a = this.props.type.a;\n    const translucentCircle = \"rgba(120,120,120,0.01)\";\n    return (\n      <Group name={this.props.name} ref={node => (this.nodes[\"group\"] = node)}>\n        <Rect\n          ref={node => (this.nodes[\"rect\"] = node)}\n          x={this.props.x}\n          y={this.props.y}\n          width={this.props.w}\n          height={this.props.h}\n          shadowEnabled={this.props.selected}\n          fillEnabled\n          fill={this.props.selected ? \"rgba(120,120,120,0.10)\" : null}\n          shadowOpacity={0.5}\n          shadowOffsetX={3}\n          shadowOffsetY={3}\n          shadowBlur={0.2}\n          shadowColor={this.props.selected ? \"#ff0\" : null}\n          stroke={\n            this.props.selected\n              ? `rgba(${r}, ${g}, ${b}, ${a})`\n              : translucentCircle\n          }\n          strokeWidth={\n            this.props.selected ? 2 + this.props.zoom : this.props.zoom\n          }\n          draggable={this.props.selected}\n          onDragMove={this.handleRectMove}\n          onDragEnd={this.finalizeUpdate}\n          dragBoundFunc={pos => {\n            let newY;\n            let newX;\n            if (\n              pos.y + this.nodes[\"rect\"].getHeight() >\n              this.props.stageH - 0.01\n            ) {\n              newY = this.props.stageH - this.nodes[\"rect\"].getHeight() - 0.01;\n            } else if (pos.y > 0.01) {\n              newY = pos.y;\n            } else {\n              newY = 0.01;\n            }\n            if (\n              pos.x + this.nodes[\"rect\"].getWidth() >\n              this.props.stageW - 0.01\n            ) {\n              newX = this.props.stageW - this.nodes[\"rect\"].getWidth() - 0.01;\n            } else if (pos.x > 0.01) {\n              newX = pos.x;\n            } else {\n              newX = 0.01;\n            }\n            return {\n              x: newX,\n              y: newY\n            };\n          }}\n        />\n        {/* TL */}\n        <Circle\n          ref={node => (this.nodes[\"topLeft\"] = node)}\n          x={this.props.x + 1}\n          y={this.props.y + 1}\n          radius={2 * (2 + this.props.zoom)}\n          strokeWidth={\n            this.props.selected ? 1 + this.props.zoom : this.props.zoom / 2\n          }\n          stroke=\"#555\"\n          fill={this.props.selected ? \"#ddd\" : translucentCircle}\n          name=\"topLeft\"\n          style={{ zIndex: this.props.selected ? 101 : 0 }}\n          draggable={this.props.selected}\n          onDragMove={() => {\n            this.update(\"topLeft\", false);\n          }}\n          onTouchStart={() => {\n            this.nodes.rect.setDraggable(false);\n            this.nodes.group.setDraggable(false);\n          }}\n          onTouchEnd={() => {\n            this.nodes.rect.setDraggable(true);\n            this.nodes.group.setDraggable(true);\n            this.finalizeUpdate();\n          }}\n          onDragEnd={() => {\n            this.finalizeUpdate();\n          }}\n          onMouseUp={() => {\n            this.finalizeUpdate();\n          }}\n        />\n        {/* TR */}\n        <Circle\n          draggable={this.props.selected}\n          ref={node => (this.nodes[\"topRight\"] = node)}\n          style={{ zIndex: this.props.selected ? 101 : 0 }}\n          x={this.props.x + this.props.w - 1}\n          y={this.props.y + 1}\n          radius={2 * (2 + this.props.zoom)}\n          strokeWidth={\n            this.props.selected ? 1 + this.props.zoom : this.props.zoom / 2\n          }\n          stroke=\"#555\"\n          fill={this.props.selected ? \"#ddd\" : translucentCircle}\n          name=\"topRight\"\n          onDragMove={() => {\n            this.update(\"topRight\", false);\n          }}\n          onTouchStart={() => {\n            this.nodes.group.setDraggable(false);\n            this.nodes.rect.setDraggable(false);\n          }}\n          onTouchEnd={() => {\n            this.nodes.group.setDraggable(true);\n            this.nodes.rect.setDraggable(true);\n            this.finalizeUpdate();\n          }}\n          onDragEnd={() => {\n            this.finalizeUpdate();\n          }}\n          onMouseUp={() => {\n            this.finalizeUpdate();\n          }}\n        />\n        {/* BL */}\n        <Circle\n          draggable={this.props.selected}\n          style={{ zIndex: this.props.selected ? 101 : 0 }}\n          ref={node => (this.nodes[\"bottomLeft\"] = node)}\n          x={this.props.x + 1}\n          y={this.props.y + this.props.h - 1}\n          radius={2 * (2 + this.props.zoom)}\n          strokeWidth={\n            this.props.selected ? 1 + this.props.zoom : this.props.zoom / 2\n          }\n          stroke=\"#555\"\n          fill={this.props.selected ? \"#ddd\" : translucentCircle}\n          name=\"bottomLeft\"\n          onDragMove={() => {\n            this.update(\"bottomLeft\", false);\n          }}\n          onTouchStart={() => {\n            this.nodes.group.setDraggable(false);\n            this.nodes.rect.setDraggable(false);\n          }}\n          onTouchEnd={() => {\n            this.nodes.group.setDraggable(true);\n            this.nodes.rect.setDraggable(true);\n            this.finalizeUpdate();\n          }}\n          onDragEnd={() => {\n            this.finalizeUpdate();\n          }}\n          onMouseUp={() => {\n            this.finalizeUpdate();\n          }}\n        />\n        {/* BR */}\n        <Circle\n          draggable={this.props.selected}\n          style={{ zIndex: this.props.selected ? 101 : 0 }}\n          ref={node => (this.nodes[\"bottomRight\"] = node)}\n          x={this.props.x + this.props.w - 1}\n          y={this.props.y + this.props.h - 1}\n          radius={2 * (2 + this.props.zoom)}\n          strokeWidth={\n            this.props.selected ? 1 + this.props.zoom : this.props.zoom / 2\n          }\n          stroke=\"#555\"\n          fill={this.props.selected ? \"#ddd\" : translucentCircle}\n          name=\"bottomRight\"\n          onDragMove={() => {\n            this.update(\"bottomRight\", false);\n          }}\n          onTouchStart={() => {\n            this.nodes.group.setDraggable(false);\n            this.nodes.rect.setDraggable(false);\n          }}\n          onTouchEnd={() => {\n            this.nodes.group.setDraggable(true);\n            this.nodes.rect.setDraggable(true);\n            this.finalizeUpdate();\n          }}\n          onDragEnd={() => {\n            this.finalizeUpdate();\n          }}\n          onMouseUp={() => {\n            this.finalizeUpdate();\n          }}\n        />\n      </Group>\n    );\n  }\n}\n\nexport default LabelBox;\n","//https://gist.github.com/andrewluetgers/7c4a90cbe6341c401d0b7975a8ceeedb\nimport React, { Component } from \"react\";\nimport { Image } from \"react-konva\";\nimport broken from \"../assets/broken.svg\";\n\nvar imgCache = {\n  brokenImage: document.createElement(\"img\")\n};\n\nvar brokenImage = imgCache.brokenImage;\nbrokenImage.src = broken;\nbrokenImage.onload = function() {\n  this.brokenImage = true;\n};\n\nclass Img extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      image: null,\n      error: false,\n      loaded: false\n    };\n  }\n\n  loadImg(src) {\n    if (!src) {\n      throw new Error(\"Expected image src instead saw \" + typeof src);\n    }\n\n    var img = imgCache[src];\n\n    if (!img) {\n      img = imgCache[src] = document.createElement(\"img\");\n      img.loadFns = [];\n      img.errorFns = [];\n      img.onerror = function() {\n        img.error = true;\n        img.errorFns.forEach(fn => fn.call(img));\n      };\n      img.onload = function() {\n        var hasNH = \"naturalHeight\" in img,\n          w = hasNH ? \"naturalWidth\" : \"width\",\n          h = hasNH ? \"naturalHeight\" : \"height\",\n          invalidImg = img[w] + img[h] === 0;\n\n        if (invalidImg) {\n          // empty image\n          img.onerror();\n        } else {\n          img.loaded = true;\n          img.loadFns.forEach(fn => fn.call(img));\n        }\n      };\n    }\n\n    if (!img.loaded && !img.error) {\n      img.loadFns.push(() => {\n        img.loaded = true;\n        this.setState({ loaded: true, image: img });\n      });\n\n      img.errorFns.push(() => {\n        img.error = true;\n        this.setState({ error: true, image: brokenImage });\n      });\n    } else if (img.error) {\n      this.setState({ error: true, image: brokenImage });\n    } else {\n      this.setState({ loaded: true, image: img });\n    }\n\n    if (!img.src) {\n      img.src = src;\n    }\n  }\n\n  fillRect(p, c) {\n    return c.width / c.height < p.width / p.height\n      ? { width: p.width, height: c.height * (p.width / c.width) }\n      : { height: p.height, width: c.width * (p.height / c.height) };\n  }\n\n  fitRect(p, c) {\n    let val =\n      c.width / c.height > p.width / p.height\n        ? { width: p.width, height: c.height * (p.width / c.width) }\n        : { height: p.height, width: c.width * (p.height / c.height) };\n    //This way we can update the display when resized in the parent\n    this.props.onLoad(val);\n    return val;\n  }\n\n  getDims(space, parent, child) {\n    switch (space) {\n    case \"fill\":\n      return this.fillRect(parent, child);\n      break;\n    case \"fit\":\n    default:\n      return this.fitRect(parent, child);\n      break;\n    }\n  }\n\n  componentWillMount() {\n    this.loadImg(this.props.src);\n  }\n\n  render() {\n    var selfDims = { width: this.props.width, height: this.props.height },\n      image = this.state.image,\n      imageDims = image\n        ? { width: image.width, height: image.height }\n        : selfDims,\n      dims = this.getDims(this.props.space, selfDims, imageDims),\n      pos = { x: this.props.x || 0, y: this.props.y || 0 };\n\n    return (\n      <Image\n        key={this.props.number}\n        image={this.state.image}\n        x={pos.x}\n        y={pos.y}\n        width={dims.width}\n        height={dims.height}\n      />\n    );\n  }\n}\n\nexport default Img;\n","import React, { Component } from \"react\";\nimport { Card, Image, Icon, Modal, Header } from \"semantic-ui-react\";\nimport { Stage, Layer, Rect } from \"react-konva\";\nimport \"./ImageComponent.scss\";\nimport LabelBox from \"./LabelBox.jsx\";\nimport Img from \"./Img.jsx\";\n\nclass ImageComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      updated: false,\n      annotations: []\n    };\n    this.stageRef = null;\n    this.gotImageSize = this.gotImageSize.bind(this);\n    this.updateDims = this.updateDims.bind(this);\n    this.selfSelect = this.selfSelect.bind(this);\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\n  }\n  handleDoubleClick(evt) {\n    if (this.stageRef) {\n      const pos = this.stageRef.getStage().getPointerPosition();\n      this.props.addAnnotation(\n        pos.x / this.imageWidth,\n        pos.y / this.imageHeight,\n        100 / this.imageWidth,\n        100 / this.imageHeight,\n        false,\n        false,\n        false\n      );\n    }\n  }\n  gotImageSize(dims) {\n    if (\n      dims.height &&\n      dims.width &&\n      (this.imageHeight !== dims.height || this.imageWidth !== dims.width)\n    ) {\n      this.imageHeight = dims.height;\n      this.imageWidth = dims.width;\n      this.setState({ updated: true });\n    }\n  }\n  updateDims(x, y, w, h) {\n    let xP = x / this.imageWidth;\n    let yP = y / this.imageHeight;\n    let wP = w / this.imageWidth;\n    let hP = h / this.imageHeight;\n    this.props.updateDims(xP, yP, wP, hP);\n  }\n  componentDidMount(props) {}\n  componentWillMount(props) {}\n  componentWillReceiveProps(newProps, props) {\n    this.imageWidth = newProps.imageWidth;\n    this.imageHeight = newProps.imageHeight;\n    this.setState({ image_index: newProps.image_index });\n    if (this.stageRef) {\n      this.stageRef.getStage().scale({ x: 1, y: 1 });\n    }\n  }\n  selfSelect(name) {\n    this.props.selectAnnotation(name);\n  }\n  render() {\n    let selected = this.props.annotations[this.props.selected];\n    if (this.props.image) {\n      return (\n        <Stage\n          key={`stage-${this.state.image_index}`}\n          width={this.imageWidth}\n          height={this.imageHeight}\n          ref={ref => {\n            this.stageRef = ref;\n          }}\n        >\n          <Layer\n            key={`layer=${this.state.image_index}`}\n            onDblClick={this.handleDoubleClick}\n          >\n            <Img\n              key={`img-${this.state.image_index}`}\n              ref={ref => {\n                this.imageRef = ref;\n              }}\n              src={this.props.image}\n              height={this.imageHeight}\n              width={this.imageWidth}\n              onLoad={this.gotImageSize}\n              space=\"fit\"\n            />\n            {this.props.annotations.map((annotation, index) => {\n              if (index !== this.props.selected) {\n                return (\n                  <LabelBox\n                    key={`${this.state.image_index}-${annotation.name}`}\n                    name={annotation.name}\n                    x={annotation.x * this.imageWidth}\n                    y={annotation.y * this.imageHeight}\n                    w={annotation.w * this.imageWidth}\n                    h={annotation.h * this.imageHeight}\n                    stageW={this.imageWidth}\n                    stageH={this.imageHeight}\n                    type={this.props.labels[annotation.type]}\n                    updateDims={this.updateDims}\n                    selfSelect={this.selfSelect}\n                    zoom={this.props.zoom}\n                  />\n                );\n              }\n            })}\n            {selected && (\n              <LabelBox\n                key={`${this.state.image_index}-${selected.name}`}\n                name={selected.name}\n                x={selected.x * this.imageWidth}\n                y={selected.y * this.imageHeight}\n                w={selected.w * this.imageWidth}\n                h={selected.h * this.imageHeight}\n                stageW={this.imageWidth}\n                stageH={this.imageHeight}\n                type={this.props.labels[selected.type]}\n                updateDims={this.updateDims}\n                selected={true}\n                selfSelect={this.selfSelect}\n                zoom={this.props.zoom}\n              />\n            )}\n          </Layer>\n        </Stage>\n      );\n    } else {\n      return <div />;\n    }\n  }\n}\n\nexport default ImageComponent;\n","import React, { Component } from \"react\";\nimport { Segment, Image, Input, Header } from \"semantic-ui-react\";\nimport \"./ZoomComponent.scss\";\n\nclass ZoomComponent extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const { zoom } = this.props;\n    return (\n      <div\n        className={\n          this.props.portrait ? \"zoom-holder-portrait\" : \"zoom-holder-landscape\"\n        }\n      >\n        <Header as=\"h5\" className=\"zoom-title\">\n          Zoom level\n        </Header>\n        <Input\n          className={\n            this.props.portrait ? \"zoom-input-portrait\" : \"zoom-input-landscape\"\n          }\n          type=\"number\"\n          step=\"0.1\"\n          min=\"0.4\"\n          max=\"10.0\"\n          placeholder=\"zoom\"\n          defaultValue={zoom}\n          onChange={(tag, val) => {\n            this.props.changeZoom(parseFloat(val.value));\n          }}\n        />\n      </div>\n    );\n  }\n}\nexport default ZoomComponent;\n","import React, { Component } from \"react\";\nimport { Dropdown, Checkbox, Header } from \"semantic-ui-react\";\nimport ReactTooltip from \"react-tooltip\";\nimport \"./TypeComponent.scss\";\n\nclass TypeComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.changeType = this.changeType.bind(this);\n    this.changeDifficult = this.changeDifficult.bind(this);\n    this.changeOccluded = this.changeOccluded.bind(this);\n    this.changeTruncated = this.changeTruncated.bind(this);\n  }\n  changeType(value) {\n    this.props.changeType(value, \"type\");\n  }\n  changeDifficult(value) {\n    this.props.changeType(value, \"difficult\");\n  }\n  changeOccluded(value) {\n    this.props.changeType(value, \"occluded\");\n  }\n  changeTruncated(value) {\n    this.props.changeType(value, \"truncated\");\n  }\n\n  render() {\n    const { type, occluded, truncated, difficult } = this.props;\n    let typeOptions = [];\n    for (let label of Object.keys(this.props.labels)) {\n      typeOptions.push({\n        text: this.props.labels[label].description,\n        value: label\n      });\n    }\n    return (\n      <div\n        className={\n          this.props.portrait ? \"type-holder-portrait\" : \"type-holder-landscape\"\n        }\n      >\n        <Header as=\"h5\" className=\"type-title\">\n          Choose Type\n        </Header>\n        <Dropdown\n          options={typeOptions}\n          fluid\n          selection\n          defaultValue={type}\n          placeholder=\"Select type\"\n          onChange={(tag, val) => {\n            this.changeType(val.value);\n          }}\n        />\n        {\"O\"}\n        <Checkbox\n          data-for={\"occluded\"}\n          data-tip=\"is occluded, covered but entirely in image\"\n          data-iscapture=\"true\"\n          defaultChecked={occluded}\n          onChange={(tag, val) => {\n            this.changeOccluded(val.checked);\n          }}\n        />\n        <ReactTooltip id=\"occluded\" place=\"bottom\" type=\"dark\" />\n        {\"T\"}\n        <Checkbox\n          data-for={\"truncated\"}\n          data-tip=\"is truncated, off the edge of the image\"\n          data-iscapture=\"true\"\n          defaultChecked={truncated}\n          onChange={(tag, val) => {\n            this.changeTruncated(val.checked);\n          }}\n        />\n        <ReactTooltip id=\"truncated\" place=\"bottom\" type=\"dark\" />\n        {\"D\"}\n        <Checkbox\n          data-for={\"difficult\"}\n          data-tip=\"is difficult to determine\"\n          data-iscapture=\"true\"\n          defaultChecked={difficult}\n          onChange={(tag, val) => {\n            this.changeDifficult(val.checked);\n          }}\n        />\n        <ReactTooltip id=\"difficult\" place=\"bottom\" type=\"dark\" />\n      </div>\n    );\n  }\n}\nexport default TypeComponent;\n","import React, { Component } from \"react\";\nimport {\n  Segment,\n  Image,\n  Input,\n  Dropdown,\n  Button,\n  Header\n} from \"semantic-ui-react\";\nimport \"./SequenceComponent.scss\";\n\nclass SequenceComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.changeSequence = this.changeSequence.bind(this);\n  }\n  changeSequence(value) {\n    this.props.changeSequence(value);\n  }\n  render() {\n    const { sequences, sequence } = this.props;\n    let sequenceOptions = [];\n    for (let ea_sequence of sequences) {\n      sequenceOptions.push({\n        text: ea_sequence.sequence,\n        value: ea_sequence.sequence\n      });\n    }\n    return (\n      <div\n        className={\n          this.props.portrait\n            ? \"sequence-holder-portrait\"\n            : \"sequence-holder-landscape\"\n        }\n      >\n        <Header as=\"h5\" className=\"sequence-title\">\n          Choose Sequence\n        </Header>\n        <Dropdown\n          options={sequenceOptions}\n          fluid\n          selection\n          defaultValue={sequence}\n          placeholder=\"Select sequence\"\n          onChange={(tag, val) => {\n            this.changeSequence(val.value);\n          }}\n        />\n      </div>\n    );\n  }\n}\nexport default SequenceComponent;\n","import React, { Component } from \"react\";\nimport {\n  Segment,\n  Image,\n  Input,\n  Dropdown,\n  Button,\n  Header\n} from \"semantic-ui-react\";\nimport \"./IndexComponent.scss\";\n\nclass IndexComponent extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const { total, index } = this.props;\n    let indexOptions = [];\n    for (let ea_index = 0; ea_index < total; ea_index += 1) {\n      indexOptions.push({\n        text: ea_index,\n        value: ea_index\n      });\n    }\n    return (\n      <div\n        className={\n          this.props.portrait\n            ? \"index-holder-portrait\"\n            : \"index-holder-landscape\"\n        }\n      >\n        <Header as=\"h5\" className=\"index-title\">\n          Choose Index\n        </Header>\n        <Dropdown\n          options={indexOptions}\n          fluid\n          selection\n          defaultValue={index}\n          placeholder=\"Select index\"\n          onChange={(tag, val) => {\n            this.props.updateIndex(0, val.value);\n          }}\n        />\n      </div>\n    );\n  }\n}\nexport default IndexComponent;\n","import React, { Component } from \"react\";\nimport { Card, Image, Icon, Header, Button } from \"semantic-ui-react\";\nimport { Draggable, Droppable, DragDropContext } from \"react-beautiful-dnd\";\nimport ZoomComponent from \"./ZoomComponent.jsx\";\nimport TypeComponent from \"./TypeComponent.jsx\";\nimport SequenceComponent from \"./SequenceComponent.jsx\";\nimport IndexComponent from \"./IndexComponent.jsx\";\nimport \"./ClassificationComponent.scss\";\n\nclass ClassificationComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topContent: null,\n      bottomContent: null,\n      initialTime: true,\n      scrollRef: null\n    };\n    this.onScroll = this.onScroll.bind(this);\n    this.update = this.update.bind(this);\n    this.submitChanges = this.submitChanges.bind(this);\n  }\n  onScroll(evt, x) {\n    const { scrollHeight, clientHeight, scrollTop } = evt.target;\n    let bottomContent = null;\n    let topContent = null;\n    //evt.target.scrollHeight is entire height\n    //evt.target.clientHeight is visible height\n    //evt.target.scrollTop is the offset from the top... so scrolled to the bottom\n    if (scrollTop + clientHeight < scrollHeight && window.innerWidth > 400) {\n      bottomContent = (\n        <Icon\n          name=\"angle double down\"\n          size=\"big\"\n          onClick={() => {\n            if (this.state.scrollRef) {\n              this.state.scrollRef.scrollTop = scrollHeight;\n            }\n          }}\n        />\n      );\n    }\n    if (scrollTop > 0 && window.innerWidth > 400) {\n      topContent = (\n        <Icon\n          name=\"angle double up\"\n          size=\"big\"\n          onClick={() => {\n            if (this.state.scrollRef) {\n              this.state.scrollRef.scrollTop = 0;\n            }\n          }}\n        />\n      );\n    }\n\n    this.setState({ bottomContent, topContent });\n  }\n  componentWillReceiveProps(newProps) {}\n  update(ref) {\n    if (ref && this.state.initialTime) {\n      let bottomContent = null;\n      let topContent = null;\n\n      const { scrollHeight, clientHeight, scrollTop } = ref;\n      if (scrollTop + clientHeight < scrollHeight && window.innerWidth > 400) {\n        bottomContent = <Icon name=\"angle double down\" size=\"big\" />;\n      }\n      if (scrollTop > 0 && window.innerWidth > 400) {\n        topContent = (\n          <Icon\n            name=\"angle double up\"\n            size=\"big\"\n            onClick={() => {\n              ref.scrollTop = 0;\n            }}\n          />\n        );\n      }\n\n      this.setState({\n        bottomContent,\n        topContent,\n        initialTime: false,\n        scrollRef: ref\n      });\n    }\n  }\n  submitChanges() {}\n  render() {\n    return (\n      <div\n        className={\n          this.props.portrait\n            ? \"classifications-holder-portrait\"\n            : \"classifications-holder-landscape\"\n        }\n      >\n        <div className=\"top-classification\">{this.state.topContent}</div>\n        <div\n          className={\n            this.props.portrait\n              ? \"classifications-scroller-portrait\"\n              : \"classifications-scroller-landscape\"\n          }\n          onBlur={this.onScroll}\n          onScroll={this.onScroll}\n          ref={ref => {\n            setTimeout(() => {\n              this.update(ref);\n            }, 500);\n          }}\n        >\n          {this.props.annotations &&\n            this.props.annotations.map((annotation, index) => {\n              let r = this.props.labels[annotation.type].r;\n              let g = this.props.labels[annotation.type].g;\n              let b = this.props.labels[annotation.type].b;\n              let a = this.props.labels[annotation.type].a;\n\n              return (\n                <div\n                  key={annotation.name}\n                  onClick={() => {\n                    this.props.selectAnnotation(annotation.name);\n                  }}\n                  className={\n                    index === this.props.selected ? \"selected\" : \"annotation\"\n                  }\n                  style={{\n                    backgroundColor:\n                      index === this.props.selected\n                        ? \"black\"\n                        : `rgba(${r},${g},${b},${a})`\n                  }}\n                >\n                  {this.props.labels[annotation.type].description}\n                </div>\n              );\n            })}\n          {!this.props.annotations ||\n            (this.props.annotations.length === 0 && (\n              <div className=\"selected\" style={{ backgroundColor: \"black\" }}>\n                {\"No annotations yet\"}\n              </div>\n            ))}\n        </div>\n        <div className=\"bottom-classification\">{this.state.bottomContent}</div>\n        <div\n          className={\n            this.props.portrait\n              ? \"controls-holder-portrait\"\n              : \"controls-holder-landscape\"\n          }\n        >\n          <ZoomComponent\n            key={`zoom-component-${this.props.imageid}`}\n            changeZoom={this.props.changeZoom}\n            zoom={this.props.zoom}\n            portrait={this.props.portrait}\n          />\n          {this.props.annotations.length > 0 && (\n            <TypeComponent\n              key={`type-component-${this.props.selected}`}\n              changeType={this.props.changeType}\n              portrait={this.props.portrait}\n              type={this.props.annotations[this.props.selected][\"type\"]}\n              occluded={this.props.annotations[this.props.selected][\"occluded\"]}\n              difficult={\n                this.props.annotations[this.props.selected][\"difficult\"]\n              }\n              truncated={\n                this.props.annotations[this.props.selected][\"truncated\"]\n              }\n              labels={this.props.labels}\n            />\n          )}\n          {this.props.sequences && (\n            <SequenceComponent\n              key={`seqs-${this.props.imageid}`}\n              sequences={this.props.sequences}\n              sequence={this.props.sequence}\n              changeSequence={this.props.changeSequence}\n            />\n          )}\n          {this.props.total && (\n            <IndexComponent\n              key={`idx-${this.props.imageid}`}\n              total={this.props.total}\n              index={this.props.index}\n              updateIndex={this.props.updateIndex}\n            />\n          )}\n          <div\n            className={this.props.portrait ? \"save-portrait\" : \"save-landscape\"}\n          >\n            <Button\n              className={\n                this.props.portrait\n                  ? \"save-button-portrait\"\n                  : \"save-button-landscape\"\n              }\n              onClick={this.props.save}\n              primary\n            >\n              Save\n            </Button>\n            <Button\n              className={\n                this.props.portrait\n                  ? \"copy-button-portrait\"\n                  : \"copy-button-landscape\"\n              }\n              onClick={this.props.copy}\n              secondary\n            >\n              Copy\n            </Button>\n          </div>\n          <div\n            className={\n              this.props.portrait ? \"direction-portrait\" : \"direction-landscape\"\n            }\n          >\n            <Button\n              className={\n                this.props.portrait\n                  ? \"back-button-portrait\"\n                  : \"back-button-landscape\"\n              }\n              onClick={this.props.back}\n            >\n              <Icon name=\"arrow left\" />\n            </Button>\n\n            <Button\n              className={\n                this.props.portrait\n                  ? \"next-button-portrait\"\n                  : \"next-button-landscape\"\n              }\n              onClick={this.props.next}\n            >\n              <Icon name=\"arrow right\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ClassificationComponent;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { Modal } from \"semantic-ui-react\";\nimport ReactLoading from \"react-loading\";\nimport ImageComponent from \"../../components/ImageComponent.jsx\";\nimport ClassificationComponent from \"../../components/ClassificationComponent.jsx\";\nimport { getImage, updateIndex } from \"../../redux-actions/image\";\nimport { getLabels } from \"../../redux-actions/labels\";\nimport {\n  getAnnotations,\n  postAnnotations\n} from \"../../redux-actions/annotations\";\nimport { getSequences, changeSequence } from \"../../redux-actions/sequence\";\nimport { bindActionCreators } from \"redux\";\nimport \"./Annotate.scss\";\n\nclass AnnotateContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageHeight: 0,\n      imageWidth: 0,\n      annotations: [],\n      zoom: 1.0,\n      image: null,\n      imageid: null,\n      imageComponent: null,\n      reset: true\n    };\n    this.reset = true;\n    this.resetAnnotations = true;\n    this.resetImage = true;\n    this.unchanged = true;\n    this.annotations = [];\n    this.imageid = null;\n    this.oldimageid = null;\n    this.image = null;\n    this.selected = 0;\n    this.counter = 0;\n\n    this.addAnnotation = this.addAnnotation.bind(this);\n    this.updateDims = this.updateDims.bind(this);\n    this.changeType = this.changeType.bind(this);\n    this.changeZoom = this.changeZoom.bind(this);\n    this.changeSequence = this.changeSequence.bind(this);\n    this.selectAnnotation = this.selectAnnotation.bind(this);\n    this.loadImage = this.loadImage.bind(this);\n    this.windowResize = this.windowResize.bind(this);\n    this.updatePage = this.updatePage.bind(this);\n    this.keyDown = this.keyDown.bind(this);\n    this.back = this.back.bind(this);\n    this.next = this.next.bind(this);\n    this.copy = this.copy.bind(this);\n    this.save = this.save.bind(this);\n  }\n  addAnnotation(x, y, w, h, o, t, d, type) {\n    // name is LabelBox id\n    let annotations = this.annotations.slice(0);\n    annotations.push({\n      name:\n        annotations.length > 0\n          ? `${parseInt(annotations[annotations.length - 1].name) + 1}`\n          : \"0\",\n      x,\n      y,\n      w,\n      h,\n      occluded: o,\n      truncated: t,\n      difficult: d,\n      type: Object.keys(this.props.labels)[0]\n    });\n    this.unchanged = false;\n    this.selected = annotations.length - 1;\n    this.annotations = annotations;\n    this.forceUpdate();\n  }\n  changeType(newType, type = \"type\") {\n    // just type of a box\n    let annotations = this.annotations.slice(0);\n    annotations[this.selected][type] = newType;\n    this.annotations = annotations;\n    this.unchanged = false;\n    this.forceUpdate();\n  }\n  updateDims(x, y, w, h) {\n    // just dimensions of a box\n    let annotations = this.annotations.slice(0);\n    annotations[this.selected] = {\n      name: annotations[this.selected].name,\n      x,\n      y,\n      w,\n      h,\n      occluded: annotations[this.selected].occluded,\n      truncated: annotations[this.selected].truncated,\n      difficult: annotations[this.selected].difficult,\n      type: annotations[this.selected].type\n    };\n    this.annotations = annotations;\n    this.unchanged = false;\n    this.forceUpdate();\n  }\n  // way to select!\n  positionOf(name) {\n    let i = 0;\n    let annotations = this.annotations;\n    for (; i < annotations.length; i += 1) {\n      if (annotations[i].name === name) {\n        break;\n      }\n    }\n    if (i === annotations.length) {\n      return -1;\n    }\n    return i;\n  }\n  selectAnnotation(name) {\n    let index = this.positionOf(name);\n    if (index !== -1 && this.selected !== index) {\n      this.unchanged = false;\n      this.selected = index;\n      this.forceUpdate();\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.annotations && this.unchanged) {\n      let i = 0;\n      let newAnnotations = [];\n      for (let box of newProps.annotations) {\n        newAnnotations.push({\n          name: `${i}`,\n          x: box.x,\n          y: box.y,\n          w: box.width,\n          h: box.height,\n          type: box.type_key,\n          occluded: box.occluded != undefined ? box.occluded : false,\n          truncated: box.truncated != undefined ? box.truncated : false,\n          difficult: box.difficult != undefined ? box.difficult : false\n        });\n        i += 1;\n      }\n      this.resetAnnotations = false;\n      this.annotations = newAnnotations;\n      this.selected = 0;\n      this.image = newProps.image;\n      this.oldimageid = this.imageid;\n      this.imageid = newProps.imageid;\n      this.forceUpdate();\n    }\n    if (this.reset || this.imageid !== this.oldimageid) {\n      this.reset = false;\n      this.loadImage();\n    }\n  }\n  componentDidMount() {\n    let i = 0;\n    let newAnnotations = [];\n    for (let box of this.props.annotations) {\n      newAnnotations.push({\n        name: `${i}`,\n        x: box.x,\n        y: box.y,\n        w: box.width,\n        h: box.height,\n        type: box.type_key,\n        occluded: box.occluded != undefined ? box.occluded : false,\n        truncated: box.truncated != undefined ? box.truncated : false,\n        difficult: box.difficult != undefined ? box.difficult : false\n      });\n      i += 1;\n    }\n    this.annotations = newAnnotations;\n    this.loadImage();\n    this.windowResize();\n  }\n  changeZoom(zoom) {\n    if (zoom && !isNaN(zoom) && zoom !== 0) {\n      let imageWidth = window.innerWidth * zoom;\n      let imageHeight = window.innerHeight * zoom;\n      this.setState({ imageWidth, imageHeight, zoom });\n    }\n  }\n  changeSequence(newSequence) {\n    this.props.changeSequence(newSequence);\n    this.unchanged = true;\n    this.loadImage();\n  }\n  componentWillMount() {\n    this.props.getSequences();\n    this.props.getLabels();\n    this.loadImage();\n    this.windowResize();\n    window.addEventListener(\"resize\", this.windowResize);\n    window.addEventListener(\"keydown\", this.keyDown);\n  }\n  keyDown(keydownevent) {\n    if (keydownevent.key === \"X\" || keydownevent.key === \"x\") {\n      this.annotations.splice(this.selected, 1);\n      this.selected = 0;\n      this.unchanged = false;\n      this.forceUpdate();\n    }\n  }\n  componentDidMount() {\n    this.windowResize();\n  }\n  loadImage() {\n    this.setState({ showLoading: true });\n    const offset = 0;\n    this.props.getImage(this.updatePage);\n  }\n  updatePage() {\n    this.setState({ showLoading: false });\n  }\n  getPreviousAnnotations() {\n    this.setState({ showLoading: true });\n    const offset = -1; // previous\n    this.props.getAnnotations(offset, this.updatePage);\n  }\n  windowResize(evt) {\n    // here we decide on the size... if it's a wide screen, palce controls on the side\n    let imageWidth = window.innerWidth * this.state.zoom;\n    let imageHeight = window.innerHeight * this.state.zoom;\n    this.setState({ imageWidth, imageHeight });\n  }\n  save() {\n    this.setState({ showLoading: true });\n    this.reset = false;\n    this.selected = 0;\n    this.props.postAnnotations(this.annotations, this.next);\n  }\n  copy() {\n    this.resetAnnotations = true;\n    this.unchanged = true;\n    this.getPreviousAnnotations();\n  }\n  back() {\n    this.reset = true;\n    this.resetImage = true;\n    this.resetAnnotations = true;\n    this.unchanged = true;\n    this.props.updateIndex(-1, null, this.updatePage);\n    this.windowResize();\n  }\n  next() {\n    this.setState({ showLoading: false });\n    this.reset = true;\n    this.resetImage = true;\n    this.resetAnnotations = true;\n    this.unchanged = true;\n    this.props.updateIndex(1, null, this.updatePage);\n    this.windowResize();\n  }\n  render() {\n    return (\n      <div\n        className={\n          window.innerWidth > window.innerHeight\n            ? \"image-classifications-holder-landscape\"\n            : \"image-classifications-holder-portrait\"\n        }\n      >\n        <div\n          className={\n            window.innerWidth > window.innerHeight\n              ? \"image-holder-landscape\"\n              : \"image-holder-portrait\"\n          }\n        >\n          <Modal\n            open={this.state.showLoading}\n            size=\"mini\"\n            className=\"modal-loading\"\n            center=\"true\"\n          >\n            <Modal.Header>Loading image</Modal.Header>\n            <Modal.Content>\n              <ReactLoading type=\"spin\" color=\"#0000ff\" />\n            </Modal.Content>\n          </Modal>\n          {this.image && (\n            <ImageComponent\n              key={`image-${this.imageid}`}\n              image={this.image}\n              annotations={this.annotations}\n              imageid={this.imageid}\n              image_index={this.props.image_index}\n              annotation_index={this.props.annotation_index}\n              imageWidth={this.state.imageWidth}\n              imageHeight={this.state.imageHeight}\n              updateDims={this.updateDims}\n              addAnnotation={this.addAnnotation}\n              selectAnnotation={this.selectAnnotation}\n              selected={this.selected}\n              labels={this.props.labels}\n              zoom={this.state.zoom}\n            />\n          )}\n          {this.image == null && <div>No more images</div>}\n        </div>\n        <div\n          className={\n            window.innerWidth > window.innerHeight\n              ? \"classifications-holder-landscape\"\n              : \"classifications-holder-portrait\"\n          }\n        >\n          <ClassificationComponent\n            key={`classificaiton-${this.imageid}`}\n            annotations={this.annotations}\n            changeType={this.changeType}\n            changeZoom={this.changeZoom}\n            selected={this.selected}\n            zoom={this.state.zoom}\n            selectAnnotation={this.selectAnnotation}\n            labels={this.props.labels}\n            portrait={window.innerHeight > window.innerWidth}\n            index={this.props.image_index}\n            sequence={this.props.sequence}\n            sequences={this.props.sequences}\n            changeSequence={this.changeSequence}\n            updateIndex={this.props.updateIndex}\n            total={this.props.count}\n            save={this.save}\n            next={this.next}\n            back={this.back}\n            copy={this.copy}\n          />\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  const { auth, annotations, labels, image, sequence } = state;\n  if (typeof annotations.callback === \"function\") {\n    annotations.callback(annotations.annotations);\n  }\n  return {\n    annotations: annotations.annotations,\n    loggedIn: auth.loggedIn,\n    sequences: sequence.sequences,\n    labels: labels.labels,\n    image: image.image,\n    image_idx: image.index,\n    annotation_index: annotations.index,\n    imageid: image.imageid,\n    image_index: image.index,\n    sequence: image.sequence,\n    count: image.count,\n    project: auth.current_project\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      getAnnotations,\n      postAnnotations,\n      getImage,\n      getLabels,\n      updateIndex,\n      changeSequence,\n      getSequences\n    },\n    dispatch\n  );\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AnnotateContainer);\n","import React, { Component } from \"react\";\nimport { Card, Image, Icon, Modal, Header } from \"semantic-ui-react\";\nimport \"./HomeComponent.scss\";\nimport mouse from \"../assets/mouse.svg\";\nconst cards = [\n  {\n    key: \"welcome\",\n    image: mouse,\n    content: {\n      header: \"Welcome to ourlabels\",\n      meta: \"Friday, May 18, 2018\",\n      description:\n        \"We, at ourlabels are trying to find the most convenient way to help you label sequences of images. Either create new projects or join an open one. If you're invited to a private project, you'll be able to see those projects to join.\"\n    }\n  }\n];\nlet modalContent = null;\n\nclass HomeComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeIndex: 0,\n      modalContent: null\n    };\n    this.showModal = this.showModal.bind(this);\n    this.maximize = this.maximize.bind(this);\n  }\n  showModal(evt) {\n    this.setState({ modalContent: null });\n  }\n  maximize(content) {\n    for (let card of cards) {\n      if (card.key === content) {\n        this.setState({\n          modalContent: (\n            <Modal\n              size=\"small\"\n              closeIcon\n              defaultOpen={true}\n              onClose={this.showModal}\n              key={card.key}\n            >\n              <Modal.Header>\n                {card.content.header}\n                <div className=\"header-date\">{card.content.meta}</div>\n              </Modal.Header>\n              <Modal.Content image scrolling>\n                <Image src={card.image} size=\"medium\" wrapped />\n                <Modal.Description>\n                  <p>{card.content.description}</p>\n                </Modal.Description>\n              </Modal.Content>\n            </Modal>\n          )\n        });\n      }\n    }\n  }\n  render() {\n    const { activeIndex } = this.state;\n    return (\n      <div className=\"home\">\n        {this.state.modalContent}\n        {cards.map(card => {\n          return (\n            <Card key={card.key}>\n              <Image src={card.image} />\n              <Card.Content className=\"home-content\">\n                <Card.Header>{card.content.header}</Card.Header>\n                <Card.Meta>{card.content.meta}</Card.Meta>\n                <Card.Description>\n                  {card.content.description.substr(0, 90) + \"...\"}\n                </Card.Description>\n              </Card.Content>\n              {card.content.description.length > 90 && (\n                <Card.Content extra>\n                  <a\n                    onClick={evt => {\n                      this.maximize(\"welcome\");\n                    }}\n                  >\n                    <Icon name=\"window maximize\" size=\"large\" /> more...\n                  </a>\n                </Card.Content>\n              )}\n            </Card>\n          );\n        })}\n      </div>\n    );\n  }\n}\nexport default HomeComponent;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport HomeComponent from \"../../components/HomeComponent.jsx\";\n\nconst getLocalDate = date => {\n  let realDate = new Date(0);\n  realDate.setUTCSeconds(date);\n  var options = {\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\"\n  };\n  return `${realDate.toLocaleDateString(\"en-US\", options)}`;\n};\n\nclass Home extends Component {\n  render() {\n    return <HomeComponent dateConversion={getLocalDate} />;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedIn: state.auth.loggedIn,\n    signedUp: state.auth.signedUp,\n    session: state.auth.session,\n    email: state.auth.email,\n    score: state.auth.score,\n    username: state.auth.username\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\nHome = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Home);\nexport default Home;\n","import React from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport {\n  Container,\n  Segment,\n  Card,\n  Header,\n  Icon,\n  Button,\n  Image\n} from \"semantic-ui-react\";\nimport science from \"../assets/types/science.svg\";\nimport civic from \"../assets/types/civic.svg\";\nimport \"./ProjectsCardsComponent.scss\";\nconst projectTypeImages = {\n  1: science,\n  2: science,\n  3: science,\n  4: civic,\n  5: civic\n};\nclass ProjectsCardsComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { modal: null };\n  }\n\n  showMoreInfo(index) {\n    // Create modal and display\n    const project = this.props.items[index];\n  }\n\n  getActions(type, current, index) {\n    const project = this.props.items[index];\n    if (!this.props.loggedIn) {\n      return <Container />;\n    }\n    const actions = (\n      <Container>\n        {type === \"owned\" &&\n          current && (\n          <Icon\n            fitted\n            size=\"large\"\n            data-for={\"labels\"}\n            data-tip=\"labels\"\n            data-iscapture=\"true\"\n            name=\"tags\"\n            onClick={this.props.showLabels}\n          />\n        )}\n        {type === \"owned\" &&\n          current && (\n          <Icon\n            size=\"large\"\n            data-for={\"settings\"}\n            data-tip=\"settings\"\n            data-iscapture=\"true\"\n            name=\"setting\"\n            onClick={this.props.getProjectForUpdate}\n          />\n        )}\n        {current &&\n          project.joined && (\n          <Icon\n            name=\"unlinkify\"\n            size=\"large\"\n            data-for={\"leave\"}\n            data-tip=\"leave\"\n            data-iscapture=\"true\"\n            fitted\n            onClick={() => {\n              this.props.leaveProject(project.id);\n            }}\n          />\n        )}\n        {!current &&\n          !project.joined &&\n          (type === \"owned\" || type === \"allowed\" || project.publicType) && (\n          <Icon\n            name=\"linkify\"\n            size=\"large\"\n            data-for={\"join\"}\n            data-tip=\"join project\"\n            data-iscapture=\"true\"\n            fitted\n            onClick={() => {\n              this.props.joinProject(project.id);\n            }}\n          />\n        )}\n        {!current &&\n          project.joined &&\n          (type === \"owned\" || type === \"allowed\" || project.publicType) && (\n          <Icon\n            name=\"play\"\n            size=\"large\"\n            data-for={\"join\"}\n            data-tip=\"change to this project\"\n            data-iscapture=\"true\"\n            fitted\n            onClick={() => {\n              this.props.changeProject(project.id);\n            }}\n          />\n        )}\n\n        {current &&\n          (type === \"owned\" || project.publicType) && (\n          <div\n            className=\"icon-div\"\n            data-for={\"json\"}\n            data-tip=\"download annotations as JSON\"\n            data-iscapture=\"true\"\n            onClick={() => {\n              this.props.getProjectAnnotations(project.id, \"json\");\n            }}\n          >\n              J\n          </div>\n        )}\n        {current &&\n          (type === \"owned\" || project.publicType) && (\n          <div\n            className=\"icon-div\"\n            data-for={\"XML\"}\n            data-tip=\"download annotations as XML\"\n            data-iscapture=\"true\"\n            onClick={() => {\n              this.props.getProjectAnnotations(project.id, \"xml\");\n            }}\n          >\n              X\n          </div>\n        )}\n        <ReactTooltip id=\"labels\" place=\"bottom\" type=\"dark\" />\n        <ReactTooltip id=\"settings\" place=\"bottom\" type=\"dark\" />\n        <ReactTooltip id=\"join\" place=\"bottom\" type=\"dark\" />\n        <ReactTooltip id=\"json\" place=\"bottom\" type=\"dark\" />\n        <ReactTooltip id=\"XML\" place=\"bottom\" type=\"dark\" />\n        <ReactTooltip id=\"leave\" place=\"bottom\" type=\"dark\" />\n      </Container>\n    );\n    return actions;\n  }\n\n  render() {\n    const { type, items, filter, projectTypes } = this.props;\n    const itemsToDisplay = items.filter(item => {\n      const _ = item;\n      return (\n        item.description.includes(filter) ||\n        item.full_description.includes(filter) ||\n        item.title.includes(filter)\n      );\n    });\n    let header;\n    switch (type) {\n    case \"owned\":\n      header = \"Your owned projects\";\n      break;\n    case \"allowed\":\n      header = \"Projects you are allowed to join\";\n      break;\n    case \"requested\":\n      header = \"Private projects you have requested to join\";\n      break;\n    case \"refused\":\n      header = \"Private projects you are unable to join\";\n      break;\n    default:\n      header = \"Other public projects\";\n      break;\n    }\n    if (itemsToDisplay.length === 0) {\n      return <Container />;\n    }\n    return (\n      <Container>\n        {this.state.modal}\n        <Segment>\n          <Header as=\"h1\">{header}</Header>\n          <Card.Group>\n            {itemsToDisplay.map((item, index) => {\n              const {\n                title,\n                description,\n                currentProject,\n                projectType,\n                publicType,\n                featured\n              } = item;\n              const imageHeader = (\n                <Card.Header>\n                  <Image src={projectTypeImages[projectType]} size=\"small\" />\n                  <Icon.Group vertical=\"true\" size=\"large\">\n                    {featured && (\n                      <Container>\n                        <Icon\n                          name=\"star\"\n                          data-for={\"featured\"}\n                          data-tip=\"a featured project\"\n                          data-iscapture=\"true\"\n                        />\n                        <ReactTooltip\n                          id=\"featured\"\n                          place=\"bottom\"\n                          type=\"dark\"\n                        />\n                      </Container>\n                    )}\n                    {currentProject && (\n                      <Container>\n                        <Icon\n                          name=\"bookmark\"\n                          data-for={\"current\"}\n                          data-tip=\"current project\"\n                          data-iscapture=\"true\"\n                        />\n                        <ReactTooltip id=\"current\" place=\"bottom\" type=\"dark\" />\n                      </Container>\n                    )}\n                    {publicType && (\n                      <Container>\n                        <Icon\n                          name=\"unlock\"\n                          data-for={\"public\"}\n                          data-tip=\"public project\"\n                          data-iscapture=\"true\"\n                        />\n                        <ReactTooltip id=\"public\" place=\"bottom\" type=\"dark\" />\n                      </Container>\n                    )}\n                    {!publicType && (\n                      <Container>\n                        <Icon\n                          name=\"lock\"\n                          data-for={\"private\"}\n                          data-tip=\"private project\"\n                          data-iscapture=\"true\"\n                        />\n                        <ReactTooltip id=\"private\" place=\"bottom\" type=\"dark\" />\n                      </Container>\n                    )}\n                    {projectTypes[projectType].video && (\n                      <Container>\n                        <Icon\n                          name=\"film\"\n                          data-for={\"video\"}\n                          data-tip=\"video project\"\n                          data-iscapture=\"true\"\n                        />\n                        <ReactTooltip id=\"video\" place=\"bottom\" type=\"dark\" />\n                      </Container>\n                    )}\n                  </Icon.Group>\n                </Card.Header>\n              );\n              const titleHeader = (\n                <Card.Description>\n                  <Button onClick={this.showMoreInfo(index)}>\n                    <Header as=\"h3\">{title}</Header>\n                  </Button>\n                  <br />\n                  {description}\n                </Card.Description>\n              );\n              const actions = this.getActions(type, currentProject, index);\n\n              // Card arrangement\n              return (\n                <Card key={title}>\n                  <Card.Content>\n                    {imageHeader}\n                    {titleHeader}\n                  </Card.Content>\n                  <Card.Content extra>{actions}</Card.Content>\n                </Card>\n              );\n            })}\n          </Card.Group>\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default ProjectsCardsComponent;\n","import React from \"react\";\nimport {\n  Modal,\n  Header,\n  Card,\n  Form,\n  Button,\n  Icon,\n  Container\n} from \"semantic-ui-react\";\nimport { SketchPicker } from \"react-color\";\nconst labelArrayFromObject = labelObj => {\n  const keys = Object.keys(labelObj);\n  const newLabels = keys.map((key, index) => {\n    const label = labelObj[key];\n    return {\n      key: index,\n      type: label.type,\n      description: label.description,\n      r: label.r,\n      g: label.g,\n      b: label.b,\n      a: label.a,\n      new: false,\n      modified: false\n    };\n  });\n  return newLabels;\n};\nconst inverseColor = color => {\n  const r = 255 - color.r;\n  const g = 255 - color.g;\n  const b = 255 - color.b;\n  return `rgba(${r},${g},${b},1.0)`;\n};\nclass ProjectsLabelsComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      labels: labelArrayFromObject(this.props.labels),\n      pickerForIndex: null\n    };\n    this.showPickerFor = this.showPickerFor.bind(this);\n    this.hidePicker = this.hidePicker.bind(this);\n    this.change = this.change.bind(this);\n    this.changeColor = this.changeColor.bind(this);\n    this.deleteLabel = this.deleteLabel.bind(this);\n    this.addLabel = this.addLabel.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n  addLabel(evt) {\n    evt.preventDefault();\n    const { labels } = this.state;\n    const sortedLabels = labels.sort((a, b) => {\n      if (a.key < b.key) {\n        return -1;\n      } else if (a.key > b.key) {\n        return 1;\n      }\n      return 0;\n    });\n    const length = sortedLabels.length;\n    sortedLabels.push({\n      key: length > 0 ? sortedLabels[length - 1].key + 1 : 0,\n      type: \"new_label\",\n      description: \"\",\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 1.0,\n      new: true,\n      modified: true\n    });\n    this.setState({ labels: sortedLabels });\n  }\n  showPickerFor(evt, index) {\n    evt.preventDefault();\n    this.setState({ pickerForIndex: index });\n  }\n  hidePicker() {\n    this.setState({ pickerForIndex: null });\n  }\n\n  submit(evt) {\n    console.log(this.state);\n    this.props.addLabels(this.state.labels);\n  }\n  change(index, type, value) {\n    const { labels } = this.state;\n    labels[index][type] = value;\n    this.setState({ labels });\n  }\n  deleteLabel(evt, index) {\n    evt.preventDefault();\n    const { labels } = this.state;\n    console.log(\"index:\", index);\n    labels.splice(index, 1);\n    this.setState({ labels });\n  }\n  changeColor(color) {\n    const { r, g, b, a } = color.rgb;\n    let { labels, pickerForIndex } = this.state;\n    labels[pickerForIndex][\"r\"] = r;\n    labels[pickerForIndex][\"g\"] = g;\n    labels[pickerForIndex][\"b\"] = b;\n    labels[pickerForIndex][\"a\"] = a;\n    labels[pickerForIndex][\"modified\"] = true;\n    this.setState({ labels });\n  }\n  render() {\n    const { labels, pickerForIndex } = this.state;\n    let color = { r: 0, g: 0, b: 0, a: 1.0 };\n    if (pickerForIndex != null) {\n      color.r = labels[pickerForIndex].r;\n      color.g = labels[pickerForIndex].g;\n      color.b = labels[pickerForIndex].b;\n      color.a = labels[pickerForIndex].a;\n    }\n    return (\n      <Form onSubmit={this.submit}>\n        <Modal\n          open={pickerForIndex != null}\n          closeIcon\n          onClose={this.hidePicker}\n          size=\"tiny\"\n        >\n          <Modal.Header>\n            Color Picker for{\" \"}\n            {labels[pickerForIndex] != null ? labels[pickerForIndex].type : \"\"}\n          </Modal.Header>\n          <Modal.Content>\n            <Modal.Description>\n              <SketchPicker onChangeComplete={this.changeColor} color={color} />\n            </Modal.Description>\n          </Modal.Content>\n        </Modal>\n        <Header as=\"h2\">Labels</Header>\n        <Button\n          color=\"green\"\n          onClick={this.addLabel}\n          icon=\"plus\"\n          content=\"add label\"\n        />\n        <Form.Button content=\"submit\" />\n        <br />\n        <Card.Group>\n          {labels.map((label, index) => {\n            return (\n              <Card key={`${label.key}`}>\n                <Card.Content>\n                  <Form.Input\n                    label=\"type\"\n                    placeholder=\"type\"\n                    defaultValue={label.type}\n                    onChange={(e, v) => {\n                      this.change(index, \"type\", v.value);\n                    }}\n                  />\n                  <Form.Input\n                    label=\"description\"\n                    placeholder=\"description\"\n                    defaultValue={label.description}\n                    onChange={(e, v) => {\n                      this.change(index, \"description\", v.value);\n                    }}\n                  />\n                  <Button\n                    onClick={evt => {\n                      this.showPickerFor(evt, index);\n                    }}\n                    style={{\n                      backgroundColor: `rgba(${label.r},${label.g},${label.b},${\n                        label.a\n                      })`\n                    }}\n                  >\n                    <Icon\n                      name=\"crosshairs\"\n                      color={inverseColor({\n                        r: label.r,\n                        g: label.g,\n                        b: label.b,\n                        a: label.a\n                      })}\n                    />\n                    <span\n                      style={{\n                        color: inverseColor({\n                          r: label.r,\n                          g: label.g,\n                          b: label.b,\n                          a: label.a\n                        })\n                      }}\n                    >\n                      {\"Color\"}\n                    </span>\n                  </Button>\n                  <Button\n                    icon=\"remove circle\"\n                    onClick={evt => {\n                      this.deleteLabel(evt, index);\n                    }}\n                  />\n                </Card.Content>\n              </Card>\n            );\n          })}\n        </Card.Group>\n        <br />\n        <Form.Button content=\"submit\" />\n      </Form>\n    );\n  }\n}\nexport default ProjectsLabelsComponent;\n","import React from \"react\";\nimport { Modal, Header, Segment, Form } from \"semantic-ui-react\";\nimport { SketchPicker } from \"react-color\";\n\nclass ProjectsFilterComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { labels: this.props.labels, pickerForIndex: null };\n  }\n  render() {\n    return <Segment />;\n  }\n}\n","import React from \"react\";\nimport Dropzone from \"react-dropzone\";\nimport {\n  Header,\n  Segment,\n  Form,\n  Button,\n  Dropdown,\n  Icon,\n  Container\n} from \"semantic-ui-react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport ReactTooltip from \"react-tooltip\";\nimport science from \"../assets/types/science.svg\";\nimport civic from \"../assets/types/civic.svg\";\nimport \"./ProjectsSettingsComponent.scss\";\n\n\nclass ProjectsSettingsComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    const {\n      allowed,\n      refused,\n      requested,\n      type,\n      description,\n      fullDescription,\n      publicType,\n      sequencenames,\n      maxSize\n    } = this.props.project;\n    const { projectTypes } = this.props;\n    let sequences = sequencenames.map(seq => {\n      return {\n        originalName: seq.name,\n        originalVideo: seq.video,\n        originalHSplit: seq.hSplit,\n        originalVSplit: seq.vSplit,\n        numFiles: seq.files,\n        newName: seq.name,\n        newHSplit: seq.hSplit,\n        newVSplit: seq.vSplit,\n        deleted: false,\n        new: false,\n        updated: false\n      };\n    });\n    const newSequence = {\n      newName: \"\",\n      newFile: null,\n      newVideo: projectTypes[type].video,\n      newHSplit: 1,\n      newVSplit: 1,\n      newBeginS: 0,\n      newLengthS: 100,\n      newEveryNFrames: 1,\n      dropZoneActive: false,\n      deleted: false,\n      new: true\n    };\n    this.state = {\n      project: {\n        allowed,\n        refused,\n        requested,\n        owner: this.props.username,\n        type,\n        description,\n        fullDescription,\n        sequences,\n        publicType,\n        dropZoneActive: true\n      },\n      newSequence,\n      maxSize,\n      scrollDown: <Icon name=\"angle double down\" size=\"big\" />,\n      scrollUp: null\n    };\n    this.scrollRef = null;\n    this.moveItem = this.moveItem.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.onDragNewEnter = this.onDragNewEnter.bind(this);\n    this.onDragNewLeave = this.onDragNewLeave.bind(this);\n    this.onDropNew = this.onDropNew.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.getImageForType = this.getImageForType.bind(this);\n    this.onChangeNewSequence = this.onChangeNewSequence.bind(this);\n    this.onChangeSequence = this.onChangeSequence.bind(this);\n    this.onChangeProjectType = this.onChangeProjectType.bind(this);\n    this.changeProjectInfo = this.changeProjectInfo.bind(this);\n    this.addNewSequence = this.addNewSequence.bind(this);\n    this.resetNewSequence = this.resetNewSequence.bind(this);\n    this.addScrollListener = this.addScrollListener.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n  getImageForType(type) {\n    if (type === 2 || type === 3) {\n      return science;\n    } else {\n      return civic;\n    }\n  }\n\n  onDropNew(newFile) {\n    let { newSequence } = this.state;\n    // console.log(`NEW FILE DROPPED: ${JSON.stringify(newFile)}`)\n    // console.log(newFile)\n    if (newFile.length === 1) {\n      if (newSequence.newFile != null) {\n        window.URL.revokeObjectURL(newSequence.newFile.preview)\n      }\n      newSequence.newFile = newFile[0];\n    }\n    newSequence.dropZoneActive = false;\n    return this.setState({ newSequence });\n  }\n\n  onDragNewEnter(evt) {\n    let { newSequence } = this.state;\n    newSequence.dropZoneActive = true;\n    this.setState({ newSequence });\n  }\n\n  onDragNewLeave(evt) {\n    let { newSequence } = this.state;\n    newSequence.dropZoneActive = false;\n    this.setState({ newSequence });\n  }\n\n  addNewSequence(evt) {\n    evt.preventDefault();\n    let { newSequence } = this.state;\n    console.log(newSequence);\n    const { project } = this.state;\n    if (newSequence.newFile == null || newSequence.newName === \"\") {\n      return;\n    }\n    let sequencesNames = project.sequences\n      .filter(seq => {\n        return !seq.deleted;\n      })\n      .map(seq => {\n        return seq.newName;\n      });\n    if (sequencesNames.includes(newSequence.newName)) {\n      return;\n    }\n    if (sequencesNames.length >= 26) {\n      return;\n    }\n    project.sequences.push(newSequence);\n    this.setState({ project });\n    this.resetNewSequence();\n  }\n  resetNewSequence() {\n    let resetSequence = {\n      newName: \"\",\n      files: 0,\n      newFile: null,\n      newVideo: this.props.projectTypes[this.state.project.type].video,\n      newHSplit: 1,\n      newVSplit: 1,\n      newBeginS: 0,\n      newLengthS: 100,\n      newEveryNFrames: 1,\n      dropZoneActive: false,\n      deleted: false,\n      new: true\n    };\n    // no memory leaks\n    const { newFile } = this.state.newSequence;\n    if (newFile != null) {\n      window.URL.revokeObjectURL(newFile.preview);\n    }\n    this.setState({ newSequence: resetSequence });\n  }\n\n  onChangeSequence(index, type, value) {\n    const { project } = this.state;\n    project.sequences[index][type] = value;\n    project.sequences[index].updated = true;\n    this.setState({ project });\n  }\n\n  onChangeNewSequence(type, value) {\n    let { newSequence } = this.state;\n    newSequence[type] = value;\n    this.setState({ newSequence });\n  }\n\n  deleteSequence(index) {\n    const { project } = this.state;\n    const { newFile } = project.sequences[index];\n    if (newFile != null) {\n      window.URL.revokeObjectURL(newFile.preview);\n    }\n    project.sequences[index].deleted = true;\n    this.setState({ project });\n  }\n\n  changeProjectInfo() {\n    const { project } = this.state;\n    if (project.owner != null && !project.allowed.includes(project.owner)) {\n      alert(\"Owner must be in allowed list.\");\n      return;\n    }\n    this.props.updateProject(\n      project.allowed,\n      project.refused,\n      project.requested,\n      project.publicType,\n      project.owner,\n      project.description,\n      project.fullDescription,\n      project.type,\n      project.sequences\n    );\n  }\n\n  onDragEnd(result) {\n    // the only one that is required\n    const { source, destination } = result;\n    if (destination != null && destination.droppableId === source.droppableId) {\n      this.moveItem(source.droppableId, source.index, destination.index);\n    } else if (destination != null) {\n      const item = this.removeItem(source.droppableId, source.index);\n      this.addItem(destination.droppableId, destination.index, item);\n    }\n  }\n\n  moveItem(id, idxS, idxD) {\n    if (idxS == idxD) {\n      return;\n    }\n    const { project } = this.state;\n    let source = project[id];\n    let item = source[idxS];\n    source.splice(idxS, 1);\n    source.splice(idxD, 0, item);\n    this.setState({ project });\n  }\n\n  removeItem(id, idxR) {\n    const { project } = this.state;\n    let item = project[id][idxR];\n    project[id].splice(idxR, 1);\n    this.setState({ project });\n    return item;\n  }\n\n  addItem(id, idxD, item) {\n    const { project } = this.state;\n    let source = project[id];\n    source.splice(idxD, 0, item);\n    this.setState({ project });\n  }\n\n  onChange(type, value) {\n    const { project } = this.state;\n    project[type] = value;\n    this.setState({ project });\n  }\n\n  onChangeProjectType(evt, val) {\n    const { project } = this.state;\n    project.type = val.value;\n    project.newVideo = this.props.projectTypes[val.value].video;\n    this.setState({ project });\n    this.resetNewSequence();\n  }\n  addScrollListener(node) {\n    if (node) {\n      node.addEventListener(\"scroll\", this.handleScroll);\n    }\n  }\n\n  handleScroll(evt) {\n    // signifiers for the scroll affordance\n    let scrollUp = null;\n    let scrollDown = null;\n    if (evt.target.scrollTop > 0) {\n      scrollUp = (\n        <div className=\"scroll-up\">\n          <Icon name=\"angle double up\" size=\"big\" />\n        </div>\n      );\n    }\n    if (\n      evt.target.scrollTop + evt.target.clientHeight <\n      evt.target.scrollHeight\n    ) {\n      scrollDown = (\n        <div className=\"scroll-down\">\n          <Icon name=\"angle double down\" size=\"big\" />\n        </div>\n      );\n    }\n    this.setState({ scrollDown, scrollUp });\n  }\n\n  render() {\n    const {\n      description,\n      fullDescription,\n      requested,\n      allowed,\n      refused,\n      publicType,\n      type,\n      sequences,\n      owner\n    } = this.state.project;\n    const { newSequence, maxSize } = this.state;\n    const { projectTypes } = this.props;\n    const projectOptions = Object.keys(projectTypes).map((key, index) => {\n      return {\n        image: { avatar: true, src: this.getImageForType(parseInt(key)) },\n        text: projectTypes[key].name,\n        value: parseInt(key)\n      };\n    });\n    const publicTypeOptions = [\n      { text: \"public\", value: true, icon: { name: \"unlock\" } },\n      { text: \"private\", value: false, icon: { name: \"lock\" } }\n    ];\n    return (\n      <Container>\n        <Header as=\"h2\">Project Settings</Header>\n        <div className=\"project-settings-container\">\n          <Segment className=\"project-settings-segment\">\n            <div\n              className=\"project-settings-holder\"\n              ref={this.addScrollListener}\n            >\n              <Form>\n                <Button\n                  style={{ float: \"right\" }}\n                  type=\"submit\"\n                  primary={true}\n                  onClick={this.changeProjectInfo}\n                >\n                  Save Changes\n                </Button>\n                <Button\n                  style={{ float: \"right\" }}\n                  type=\"cancel\"\n                  primary={false}\n                  onClick={() => {\n                    this.props.gotProjectForUpdate(null);\n                  }}\n                >\n                  Cancel\n                </Button>\n                <Header as=\"h4\">Project Description</Header>\n                <Form.Group>\n                  <Form.Input\n                    defaultValue={description}\n                    placeholder=\"Project description\"\n                    onChange={(e, v) => {\n                      this.onChange(\"description\", v.value);\n                    }}\n                    data-for={\"description\"}\n                    data-tip=\"This is the short description of the project. It will be seen on the projects page.\"\n                    data-iscapture=\"true\"\n                  />\n                </Form.Group>\n                <Header as=\"h4\">Full Description</Header>\n                <Form.Group>\n                  <Form.TextArea\n                    defaultValue={fullDescription}\n                    placeholder=\"Project's detailed description\"\n                    onChange={(e, v) => {\n                      this.onChange(\"fullDescription\", v.value);\n                    }}\n                    data-for={\"fullDescription\"}\n                    data-tip=\"The long/complete description of the project. This will be displayed on the details modal about a project.\"\n                    data-iscapture=\"true\"\n                  />\n                </Form.Group>\n                <Header as=\"h4\">Owner</Header>\n                <Form.Group>\n                  <Form.Input\n                    defaultValue={owner}\n                    onChange={(e, v) => {\n                      this.onChange(\"owner\", v.value);\n                    }}\n                  />\n                </Form.Group>\n                <Header as=\"h4\">Select project type</Header>\n                <Form.Group>\n                  <Dropdown\n                    fluid\n                    selection\n                    options={projectOptions}\n                    defaultValue={type}\n                    onChange={this.onChangeProjectType}\n                  />\n                </Form.Group>\n                <Form.Group>\n                  <Dropdown\n                    fluid\n                    selection\n                    options={publicTypeOptions}\n                    defaultValue={publicType}\n                    onChange={(e, v) => {\n                      this.onChange(\"publicType\", v.value);\n                    }}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"drag-drop-context\">\n                  <DragDropContext onDragEnd={this.onDragEnd}>\n                    <div className=\"requested-items-drag-drop\">\n                      <Header as=\"h4\">Requested list</Header>\n                      <Droppable droppableId=\"requested\">\n                        {(provided, snapshot) => (\n                          <Segment\n                            style={{\n                              backgroundColor: snapshot.isDraggingOver\n                                ? \"blue\"\n                                : \"white\"\n                            }}\n                          >\n                            <div ref={provided.innerRef}>\n                              {requested.map((requestedItem, index) => {\n                                return (\n                                  <Draggable\n                                    key={requestedItem}\n                                    draggableId={requestedItem}\n                                    index={index}\n                                  >\n                                    {(p, s) => (\n                                      <div\n                                        className=\"requested-item\"\n                                        ref={p.innerRef}\n                                        {...p.draggableProps}\n                                        {...p.dragHandleProps}\n                                      >\n                                        {requestedItem}\n                                      </div>\n                                    )}\n                                  </Draggable>\n                                );\n                              })}\n                              <br />\n                              {provided.placeholder}\n                            </div>\n                          </Segment>\n                        )}\n                      </Droppable>\n                    </div>\n                    <div className=\"allowed-items-drag-drop\">\n                      <Header as=\"h4\">Allowed list</Header>\n                      <Droppable droppableId=\"allowed\">\n                        {(provided, snapshot) => (\n                          <Segment\n                            style={{\n                              backgroundColor: snapshot.isDraggingOver\n                                ? \"blue\"\n                                : \"white\"\n                            }}\n                          >\n                            <div ref={provided.innerRef}>\n                              {allowed.map((allowedItem, index) => {\n                                return (\n                                  <Draggable\n                                    key={allowedItem}\n                                    draggableId={allowedItem}\n                                    index={index}\n                                  >\n                                    {(p, s) => (\n                                      <div\n                                        className=\"allowed-item\"\n                                        ref={p.innerRef}\n                                        {...p.draggableProps}\n                                        {...p.dragHandleProps}\n                                      >\n                                        {allowedItem}\n                                      </div>\n                                    )}\n                                  </Draggable>\n                                );\n                              })}\n                              <br />\n                              {provided.placeholder}\n                            </div>\n                          </Segment>\n                        )}\n                      </Droppable>\n                    </div>\n                    <div className=\"refused-items-drag-drop\">\n                      <Header as=\"h4\">Refused list</Header>\n                      <Droppable droppableId=\"refused\">\n                        {(provided, snapshot) => (\n                          <Segment\n                            style={{\n                              backgroundColor: snapshot.isDraggingOver\n                                ? \"blue\"\n                                : \"white\"\n                            }}\n                          >\n                            <div ref={provided.innerRef}>\n                              {refused.map((refusedItem, index) => {\n                                return (\n                                  <Draggable\n                                    key={refusedItem}\n                                    draggableId={refusedItem}\n                                    index={index}\n                                  >\n                                    {(p, s) => (\n                                      <div\n                                        className=\"refused-item\"\n                                        ref={p.innerRef}\n                                        {...p.draggableProps}\n                                        {...p.dragHandleProps}\n                                      >\n                                        {refusedItem}\n                                      </div>\n                                    )}\n                                  </Draggable>\n                                );\n                              })}\n                              <br />\n                              {provided.placeholder}\n                            </div>\n                          </Segment>\n                        )}\n                      </Droppable>\n                    </div>\n                  </DragDropContext>\n                </Form.Group>\n                <Header as=\"h4\">New Sequence</Header>\n                <Segment style={{ backgroundColor: \"gray\" }}>\n                  <Form.Group>\n                    <Icon\n                      name={newSequence.newVideo ? \"video\" : \"camera\"}\n                      size=\"big\"\n                    />\n                    <Dropzone\n                      accept={[\n                        \"application/gzip\",\n                        \"application/x-bzip\",\n                        \"application/x-bzip2\"\n                      ]}\n                      multiple={false}\n                      maxSize={maxSize * Math.pow(2, 20)}\n                      onDragEnter={this.onDragNewEnter}\n                      onDragLeave={this.onDragNewLeave}\n                      data-for={\"dropzoneNewSequence\"}\n                      data-tip={\n                        newSequence.newVideo\n                          ? \"<p>Drop <b>a</b> video file here of MP2, MP4, TS types which has been gzipped, bzipped, tar+gz or tar+bz2</p>\"\n                          : \"<p>Drop image files here which have been gzipped or bzipped</p>\"\n                      }\n                      data-html={true}\n                      data-iscapture=\"true\"\n                      onDrop={this.onDropNew}\n                    >\n                      {({ getRootProps, getInputProps }) => (\n                        <section>\n                          <div\n                            {...getRootProps()}\n                            className={\n                              newSequence.dropZoneActive\n                                ? \"dropzone-all dropzone-active\"\n                                : \"dropzone-all dropzone-inactive\"\n                            }\n                          >\n                            <input {...getInputProps()} />\n                            <p>\n                              Drag 'n' drop some files here, or click to select\n                              files.\n                            </p>\n                            {newSequence.newFile != null && (\n                              <div>{`${newSequence.newFile.path} ${(newSequence.newFile.size/Math.pow(2,20)).toPrecision(4)}MB`}</div>\n                            )}\n                          </div>\n                        </section>\n                      )}\n                    </Dropzone>\n                    <Form.TextArea\n                      label=\"sequence name\"\n                      value={newSequence.newName}\n                      onChange={(e, v) => {\n                        this.onChangeNewSequence(\"newName\", v.value);\n                      }}\n                    />\n                    <Form.Input\n                      size=\"small\"\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"10\"\n                      label=\"Vertical split\"\n                      defaultValue={newSequence.newVSplit}\n                      onChange={(e, v) => {\n                        this.onChangeNewSequence(\n                          \"newVSplit\",\n                          parseInt(v.value)\n                        );\n                      }}\n                    />\n                    <Form.Input\n                      size=\"small\"\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"10\"\n                      label=\"Horizontal split\"\n                      value={newSequence.newHSplit}\n                      onChange={(e, v) => {\n                        this.onChangeNewSequence(\n                          \"newHSplit\",\n                          parseInt(v.value)\n                        );\n                      }}\n                    />\n                    {newSequence.newVideo && (\n                      <Form.Input\n                        size=\"small\"\n                        type=\"number\"\n                        label=\"Start seconds\"\n                        min=\"0\"\n                        max=\"360\"\n                        value={newSequence.newBeginS}\n                        onChange={(e, v) => {\n                          this.onChangeNewSequence(\n                            \"newBeginS\",\n                            parseInt(v.value)\n                          );\n                        }}\n                      />\n                    )}\n                    {newSequence.newVideo && (\n                      <Form.Input\n                        size=\"small\"\n                        type=\"number\"\n                        label=\"Length to capture\"\n                        min=\"10\"\n                        max=\"900\"\n                        value={newSequence.newLengthS}\n                        onChange={(e, v) => {\n                          this.onChangeNewSequence(\n                            \"newLengthS\",\n                            parseInt(v.value)\n                          );\n                        }}\n                      />\n                    )}\n                    {newSequence.newVideo && (\n                      <Form.Input\n                        size=\"small\"\n                        type=\"number\"\n                        label=\"Every n frames\"\n                        min=\"0\"\n                        max=\"10\"\n                        value={newSequence.newEveryNFrames}\n                        onChange={(e, v) => {\n                          this.onChangeNewSequence(\n                            \"newEveryNFrames\",\n                            parseInt(v.value)\n                          );\n                        }}\n                      />\n                    )}\n                    <Button primary onClick={this.addNewSequence}>\n                      Add\n                    </Button>\n                    <Button secondary onClick={this.resetNewSequence}>\n                      Reset\n                    </Button>\n                  </Form.Group>\n                </Segment>\n                <Header as=\"h4\">Created Sequences</Header>\n                {sequences.map((seq, idx) => {\n                  return (\n                    <Segment\n                      key={`${seq.newName}-${seq.deleted}`}\n                      style={{ display: seq.deleted ? \"none\" : \"block\" }}\n                    >\n                      <Form.Group>\n                        <Icon\n                          name={seq.newVideo ? \"video\" : \"camera\"}\n                          size=\"big\"\n                        />\n                        <div className=\"dropzone-files\">\n                          {seq.numFiles ? seq.numFiles : 0} files\n                        </div>\n                        <Form.TextArea\n                          label=\"sequence name\"\n                          value={seq.newName}\n                          onChange={(e, v) => {\n                            this.onChangeSequence(idx, \"newName\", v.value);\n                          }}\n                        />\n                        <Form.Input\n                          size=\"small\"\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"5\"\n                          label=\"Vertical split\"\n                          value={seq.newVSplit}\n                          onChange={(e, v) => {\n                            this.onChangeSequence(\n                              idx,\n                              \"newVSplit\",\n                              parseInt(v.value)\n                            );\n                          }}\n                        />\n                        <Form.Input\n                          size=\"small\"\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"5\"\n                          label=\"Horizontal split\"\n                          value={seq.newHSplit}\n                          onChange={(e, v) => {\n                            this.onChangeSequence(\n                              idx,\n                              \"newHSplit\",\n                              parseInt(v.value)\n                            );\n                          }}\n                        />\n                        <Icon\n                          color=\"red\"\n                          onClick={() => {\n                            this.deleteSequence(idx);\n                          }}\n                          name=\"x\"\n                          data-for={\"remove\"}\n                          data-tip=\"Remove this item\"\n                          data-iscapture=\"true\"\n                          size=\"large\"\n                          style={{ float: \"right\" }}\n                        />\n                      </Form.Group>\n                    </Segment>\n                  );\n                })}\n                <ReactTooltip id=\"description\" place=\"bottom\" type=\"dark\" />\n                <ReactTooltip id=\"fullDescription\" place=\"bottom\" type=\"dark\" />\n                <ReactTooltip\n                  id=\"dropzoneSequence\"\n                  html={true}\n                  place=\"bottom\"\n                  type=\"dark\"\n                />\n                <ReactTooltip\n                  id=\"dropzoneNewSequence\"\n                  html={true}\n                  place=\"bottom\"\n                  type=\"dark\"\n                />\n                <ReactTooltip id=\"remove\" place=\"bottom\" type=\"dark\" />\n              </Form>\n            </div>\n          </Segment>\n          <div className=\"scroll-indicators\">\n            <div className=\"scroll-up\">{this.state.scrollUp}</div>\n            <div className=\"scroll-down\">{this.state.scrollDown}</div>\n          </div>\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default ProjectsSettingsComponent;\n","import React from \"react\";\nimport { Container, Header, Modal } from \"semantic-ui-react\";\nimport { css } from \"@emotion/core\";\nimport { RingLoader } from \"react-spinners\";\nimport ProjectsCardsComponent from \"./ProjectsCardsComponent.jsx\";\nimport ProjectsFilterComponent from \"./ProjectsFilterComponent.jsx\";\nimport ProjectsLabelsComponent from \"./ProjectsLabelsComponent.jsx\";\nimport ProjectsSettingsComponent from \"./ProjectsSettingsComponent.jsx\";\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n  background-color: white;\n  z-index: 100;\n`;\n\nclass ProjectsComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filter: \"\",\n      project_for_update: null,\n      cardsToDisplay: {\n        owned: [],\n        allowed: [],\n        refused: [],\n        requested: [],\n        other: []\n      },\n      showLoading: false,\n      showProjects: true,\n      showLabels: false,\n      showColorPicker: false,\n      showSettings: false\n    };\n    this.filter = this.filter.bind(this);\n    this.showLabels = this.showLabels.bind(this);\n    this.hideLabels = this.hideLabels.bind(this);\n    this.getProjectForUpdate = this.getProjectForUpdate.bind(this);\n    this.addLabels = this.addLabels.bind(this);\n  }\n\n  // responsive filtering of projects\n  filter(filterValue) {\n    this.setState({ filter: filterValue });\n  }\n\n  // labels toggle\n  showLabels() {\n    this.setState({ showLabels: true, showProjects: false });\n  }\n  hideLabels() {\n    this.setState({ showLabels: false, showProjects: true });\n  }\n  addLabels(labels) {\n    this.props.addLabels(labels);\n    this.setState({ showLabels: false, showProjects: true });\n  }\n\n  getProjectForUpdate() {\n    this.setState({ showLoading: true });\n    this.props.getProjectForUpdate();\n  }\n\n  // handle what happens when we receive a project to edit\n  componentWillReceiveProps(nextProps) {\n    console.log(this.state, nextProps, \"State and props ProjectsComponent\");\n    if (nextProps.projectForUpdate != null && !this.state.showSettings) {\n      this.setState({\n        projectForUpdate: nextProps.projectForUpdate,\n        showSettings: true,\n        showProjects: false,\n        showLoading: false\n      });\n    } else if (nextProps.projectForUpdate == null && this.state.showSettings) {\n      this.setState({\n        projectForUpdate: null,\n        showSettings: false,\n        showProjects: true,\n        showLoading: false\n      });\n    }\n  }\n\n  // saveProjectLabels\n  saveProjectLabels(newLabels) {\n    const projectForUpdate = this.state;\n  }\n\n  render() {\n    const {\n      owned,\n      requested,\n      allowed,\n      refused,\n      other,\n      labels,\n      projectForUpdate\n    } = this.props;\n    console.log(this.props, this.state, \"PROJECT COMPONENT PROPS\");\n    return (\n      <Container>\n        <Modal open={this.state.showLoading} size=\"tiny\">\n          <Modal.Header>Loading...</Modal.Header>\n          <Modal.Content>\n            <RingLoader\n              className={override}\n              sizeUnit={\"px\"}\n              color={\"#123abc\"}\n              loading={this.state.showLoading}\n            />\n          </Modal.Content>\n        </Modal>\n        {this.state.showProjects && (\n          <Container>\n            <Header as=\"h1\">Projects</Header>\n            {[\"owned\", \"requested\", \"allowed\", \"refused\", \"other\"].map(\n              projectType => {\n                return (\n                  <ProjectsCardsComponent\n                    key={projectType}\n                    loggedIn={this.props.loggedIn}\n                    type={projectType}\n                    items={this.props[projectType]}\n                    filter={this.state.filter}\n                    projectTypes={this.props.projectTypes}\n                    joinProject={this.props.joinProject}\n                    changeProject={this.props.changeProject}\n                    getProjectForUpdate={this.getProjectForUpdate}\n                    getProjectAnnotations={this.props.getProjectAnnotations}\n                    leaveProject={this.props.leaveProject}\n                    showLabels={this.showLabels}\n                  />\n                );\n              }\n            )}\n          </Container>\n        )}\n        {this.state.showSettings && (\n          <Container>\n            <ProjectsSettingsComponent\n              project={projectForUpdate}\n              projectTypes={this.props.projectTypes}\n              gotProjectForUpdate={this.props.gotProjectForUpdate}\n              username={this.props.username}\n              updateProject={this.props.updateProject}\n            />\n          </Container>\n        )}\n        {this.state.showLabels && (\n          <Container>\n            <ProjectsLabelsComponent\n              labels={labels}\n              projectTypes={this.props.projectTypes}\n              addLabels={this.addLabels}\n            />\n          </Container>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default ProjectsComponent;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n  getProjects,\n  getProjectAnnotations,\n  changeProject,\n  joinProject,\n  leaveProject,\n  getProjectForUpdate,\n  gotProjectForUpdate,\n  requestAccessToProject,\n  updateProject\n} from \"../../redux-actions/project\";\nimport { getTypes } from \"../../redux-actions/types\";\nimport { getLabels, addLabels } from \"../../redux-actions/labels\";\nimport ProjectsComponent from \"../../components/ProjectsComponent.jsx\";\n\nclass ProjectsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  componentWillMount() {\n    this.props.getTypes();\n    this.props.getProjects();\n    this.props.getLabels();\n  }\n  render() {\n    const {\n      loggedIn,\n      username,\n      allowed,\n      joined,\n      other,\n      owned,\n      refused,\n      requested,\n      labels,\n      projectForUpdate\n    } = this.props;\n    return (\n      <ProjectsComponent\n        loggedIn={loggedIn}\n        allowed={allowed}\n        joined={joined}\n        other={other}\n        owned={owned}\n        refused={refused}\n        requested={requested}\n        username={username}\n        labels={labels}\n        addLabels={this.props.addLabels}\n        getLabels={this.props.getLabels}\n        joinProject={this.props.joinProject}\n        leaveProject={this.props.leaveProject}\n        changeProject={this.props.changeProject}\n        getProjectForUpdate={this.props.getProjectForUpdate}\n        gotProjectForUpdate={this.props.gotProjectForUpdate}\n        requestAccessToProject={this.props.requestAccessToProject}\n        getProjectAnnotations={this.props.getProjectAnnotations}\n        projectTypes={this.props.projectTypes}\n        history={this.props.history}\n        updateProject={this.props.updateProject}\n        projectForUpdate={projectForUpdate}\n        username={this.props.username}\n      />\n    );\n  }\n}\nconst mapStateToProps = state => {\n  const { projectForUpdate } = state.project;\n  const {\n    allowed,\n    other,\n    owned,\n    refused,\n    requested,\n    joined\n  } = state.project.projects;\n  const { projectTypes } = state.types;\n  const { labels } = state;\n  return {\n    labels: labels.labels,\n    loggedIn: state.auth.loggedIn,\n    signedUp: state.auth.signedUp,\n    session: state.auth.session,\n    email: state.auth.email,\n    score: state.auth.score,\n    allowed,\n    other,\n    owned,\n    refused,\n    requested,\n    joined,\n    projectForUpdate,\n    username: state.auth.username,\n    projectTypes\n  };\n};\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      getProjects,\n      joinProject,\n      leaveProject,\n      getLabels,\n      getProjectForUpdate,\n      gotProjectForUpdate,\n      getProjectAnnotations,\n      changeProject,\n      requestAccessToProject,\n      updateProject,\n      getTypes,\n      addLabels\n    },\n    dispatch\n  );\nProjectsContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ProjectsContainer);\nexport default ProjectsContainer;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavContainer from \"./containers/Nav\";\nimport LoginContainer from \"./containers/Login\";\nimport SignupContainer from \"./containers/Signup\";\nimport AnnotateContainer from \"./containers/Annotate\";\nimport Home from \"./containers/Home\";\nimport ProjectsContainer from \"./containers/Projects\";\nimport \"./App.scss\";\n\nconst Routes = () => {\n  return (\n    <div className=\"scrolling-window\">\n      <Route component={NavContainer} />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/login\" component={LoginContainer} />\n        <Route path=\"/signup\" component={SignupContainer} />\n        <Route exact path=\"/annotate\" component={AnnotateContainer} />\n        <Route exact path=\"/projects\" component={ProjectsContainer} />\n      </Switch>\n    </div>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { ConnectedRouter } from 'connected-react-router'\nimport configureStore, { history } from \"./store/configureStore\";\nimport Routes from \"./routes\";\nconst store = configureStore();\n\nrender(\n  <div>\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <Routes />\n      </ConnectedRouter>\n    </Provider>\n  </div>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/ourlabels.dcb68a71.png\";"],"sourceRoot":""}